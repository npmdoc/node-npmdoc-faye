<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://faye.jcoglan.com"

    >faye (v1.2.4)</a>
</h1>
<h4>Simple pub/sub messaging for the web</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye">module faye</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client">
            function <span class="apidocSignatureSpan">faye.</span>Client
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter">
            function <span class="apidocSignatureSpan">faye.</span>NodeAdapter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Scheduler">
            function <span class="apidocSignatureSpan">faye.</span>Scheduler
            <span class="apidocSignatureSpan">(message, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports">
            function <span class="apidocSignatureSpan">faye.</span>browser_transports
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel">
            function <span class="apidocSignatureSpan">faye.</span>channel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection">
            function <span class="apidocSignatureSpan">faye.</span>connection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.cors">
            function <span class="apidocSignatureSpan">faye.</span>cors
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher">
            function <span class="apidocSignatureSpan">faye.</span>dispatcher
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error">
            function <span class="apidocSignatureSpan">faye.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_emitter">
            function <span class="apidocSignatureSpan">faye.</span>event_emitter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source">
            function <span class="apidocSignatureSpan">faye.</span>event_source
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.jsonp">
            function <span class="apidocSignatureSpan">faye.</span>jsonp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory">
            function <span class="apidocSignatureSpan">faye.</span>memory
            <span class="apidocSignatureSpan">(server, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.namespace">
            function <span class="apidocSignatureSpan">faye.</span>namespace
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_http">
            function <span class="apidocSignatureSpan">faye.</span>node_http
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_local">
            function <span class="apidocSignatureSpan">faye.</span>node_local
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise">
            function <span class="apidocSignatureSpan">faye.</span>promise
            <span class="apidocSignatureSpan">(task)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy">
            function <span class="apidocSignatureSpan">faye.</span>proxy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publication">
            function <span class="apidocSignatureSpan">faye.</span>publication
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server">
            function <span class="apidocSignatureSpan">faye.</span>server
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.set">
            function <span class="apidocSignatureSpan">faye.</span>set
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.socket">
            function <span class="apidocSignatureSpan">faye.</span>socket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.static_server">
            function <span class="apidocSignatureSpan">faye.</span>static_server
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription">
            function <span class="apidocSignatureSpan">faye.</span>subscription
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket">
            function <span class="apidocSignatureSpan">faye.</span>web_socket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.xhr">
            function <span class="apidocSignatureSpan">faye.</span>xhr
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>Client.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>NodeAdapter.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>Scheduler.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>array</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>browser_transports.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>channel.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>connection.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>cors.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>deferrable</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>dispatcher.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>error.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>event_emitter.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>event_source.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>extensible</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>jsonp.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>logging</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>memory.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>namespace.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>node_http.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>node_local.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>promise.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>proxy.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>publication.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>publisher</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>server.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>set.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>socket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>static_server.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>subscription.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>timeouts</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>uri</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>web_socket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.</span>xhr.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.</span>VERSION</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.Client">module faye.Client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.Client">
            function <span class="apidocSignatureSpan">faye.</span>Client
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.Client.prototype">module faye.Client.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype._cycleConnection">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_cycleConnection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype._deliverMessage">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_deliverMessage
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype._generateMessageId">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_generateMessageId
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype._handleAdvice">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_handleAdvice
            <span class="apidocSignatureSpan">(advice)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype._receiveMessage">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_receiveMessage
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype._sendMessage">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_sendMessage
            <span class="apidocSignatureSpan">(message, options, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.addExtension">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>addExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.addListener">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>addListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.addWebsocketExtension">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>addWebsocketExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.bind">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>bind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.callback">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>callback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.connect">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>connect
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.countListeners">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>countListeners
            <span class="apidocSignatureSpan">(eventType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.debug">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.disable">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>disable
            <span class="apidocSignatureSpan">(feature)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.disconnect">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>disconnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.emit">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>emit
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.errback">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>errback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.error">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.fatal">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>fatal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.handshake">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>handshake
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.info">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>info
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>initialize
            <span class="apidocSignatureSpan">(endpoint, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.listeners">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>listeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.on">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>on
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.once">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>once
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.pipeThroughExtensions">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>pipeThroughExtensions
            <span class="apidocSignatureSpan">(stage, message, request, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.publish">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>publish
            <span class="apidocSignatureSpan">(channel, data, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.removeAllListeners">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>removeAllListeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.removeExtension">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>removeExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.removeListener">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>removeListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.setDeferredStatus">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>setDeferredStatus
            <span class="apidocSignatureSpan">(status, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.setHeader">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>setHeader
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.subscribe">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>subscribe
            <span class="apidocSignatureSpan">(channel, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.then">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>then
            <span class="apidocSignatureSpan">(callback, errback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.timeout">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>timeout
            <span class="apidocSignatureSpan">(seconds, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.trigger">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>trigger
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.unbind">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>unbind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.unsubscribe">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>unsubscribe
            <span class="apidocSignatureSpan">(channel, subscription)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.warn">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>warn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Client.prototype.writeLog">
            function <span class="apidocSignatureSpan">faye.Client.prototype.</span>writeLog
            <span class="apidocSignatureSpan">(messageArgs, level)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.Client.prototype.</span>CONNECTED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.Client.prototype.</span>CONNECTING</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.Client.prototype.</span>CONNECTION_TIMEOUT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.Client.prototype.</span>DISCONNECTED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.Client.prototype.</span>INTERVAL</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.Client.prototype.</span>UNCONNECTED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.Client.prototype.</span>LOG_LEVELS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.Client.prototype.</span>DEFAULT_ENDPOINT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.Client.prototype.</span>HANDSHAKE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.Client.prototype.</span>NONE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.Client.prototype.</span>RETRY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.Client.prototype.</span>className</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.NodeAdapter">module faye.NodeAdapter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.NodeAdapter">
            function <span class="apidocSignatureSpan">faye.</span>NodeAdapter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.NodeAdapter.prototype">module faye.NodeAdapter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype._callWithParams">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_callWithParams
            <span class="apidocSignatureSpan">(request, response, params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype._concatStream">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_concatStream
            <span class="apidocSignatureSpan">(stream, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype._formatRequest">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_formatRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype._handleOptions">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_handleOptions
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype._jsonpEscape">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_jsonpEscape
            <span class="apidocSignatureSpan">(json)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype._overrideListeners">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_overrideListeners
            <span class="apidocSignatureSpan">(httpServer, event, method)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype._parseJSON">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_parseJSON
            <span class="apidocSignatureSpan">(json)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype._returnError">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_returnError
            <span class="apidocSignatureSpan">(response, error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.addExtension">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>addExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.addListener">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>addListener
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.addWebsocketExtension">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>addWebsocketExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.attach">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>attach
            <span class="apidocSignatureSpan">(httpServer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.bind">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>bind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.check">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>check
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.close">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.countListeners">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>countListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.debug">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.emit">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>emit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.error">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.fatal">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>fatal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.getClient">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>getClient
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.handle">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>handle
            <span class="apidocSignatureSpan">(request, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.handleEventSource">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>handleEventSource
            <span class="apidocSignatureSpan">(request, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.handleUpgrade">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>handleUpgrade
            <span class="apidocSignatureSpan">(request, socket, head)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.info">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>info
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>initialize
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.listen">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>listen
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.listeners">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>listeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.on">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>on
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.once">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>once
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.removeAllListeners">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>removeAllListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.removeExtension">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>removeExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.removeListener">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>removeListener
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.trigger">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>trigger
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.unbind">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>unbind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.warn">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>warn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.NodeAdapter.prototype.writeLog">
            function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>writeLog
            <span class="apidocSignatureSpan">(messageArgs, level)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>LOG_LEVELS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>VALID_JSONP_CALLBACK</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>DEFAULT_ENDPOINT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>SCRIPT_PATH</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>className</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.Scheduler">module faye.Scheduler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Scheduler.Scheduler">
            function <span class="apidocSignatureSpan">faye.</span>Scheduler
            <span class="apidocSignatureSpan">(message, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.Scheduler.prototype">module faye.Scheduler.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Scheduler.prototype.abort">
            function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>abort
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Scheduler.prototype.fail">
            function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>fail
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Scheduler.prototype.getInterval">
            function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>getInterval
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Scheduler.prototype.getTimeout">
            function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>getTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Scheduler.prototype.isDeliverable">
            function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>isDeliverable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Scheduler.prototype.send">
            function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>send
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.Scheduler.prototype.succeed">
            function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>succeed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.array">module faye.array</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.array.asyncEach">
            function <span class="apidocSignatureSpan">faye.array.</span>asyncEach
            <span class="apidocSignatureSpan">(list, iterator, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.array.commonElement">
            function <span class="apidocSignatureSpan">faye.array.</span>commonElement
            <span class="apidocSignatureSpan">(lista, listb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.array.filter">
            function <span class="apidocSignatureSpan">faye.array.</span>filter
            <span class="apidocSignatureSpan">(array, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.array.indexOf">
            function <span class="apidocSignatureSpan">faye.array.</span>indexOf
            <span class="apidocSignatureSpan">(list, needle)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.array.map">
            function <span class="apidocSignatureSpan">faye.array.</span>map
            <span class="apidocSignatureSpan">(object, callback, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.browser_transports">module faye.browser_transports</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.browser_transports">
            function <span class="apidocSignatureSpan">faye.</span>browser_transports
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.get">
            function <span class="apidocSignatureSpan">faye.browser_transports.</span>get
            <span class="apidocSignatureSpan">(dispatcher, allowed, disabled, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.getConnectionTypes">
            function <span class="apidocSignatureSpan">faye.browser_transports.</span>getConnectionTypes
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.register">
            function <span class="apidocSignatureSpan">faye.browser_transports.</span>register
            <span class="apidocSignatureSpan">(type, klass)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.browser_transports.</span>_transports</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.browser_transports.prototype">module faye.browser_transports.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>batching</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype._findProxy">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_findProxy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype._flush">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_flush
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype._flushLargeBatch">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_flushLargeBatch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype._getCookies">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_getCookies
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype._handleError">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_handleError
            <span class="apidocSignatureSpan">(messages, immediate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype._makePromise">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_makePromise
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype._publish">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_publish
            <span class="apidocSignatureSpan">(delay)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype._receive">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_receive
            <span class="apidocSignatureSpan">(replies)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype._storeCookies">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_storeCookies
            <span class="apidocSignatureSpan">(setCookie)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.addTimeout">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>addTimeout
            <span class="apidocSignatureSpan">(name, delay, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.close">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.debug">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.encode">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>encode
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.error">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.fatal">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>fatal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.info">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>info
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>initialize
            <span class="apidocSignatureSpan">(dispatcher, endpoint)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.removeAllTimeouts">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>removeAllTimeouts
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.removeTimeout">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>removeTimeout
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.sendMessage">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>sendMessage
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.warn">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>warn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.browser_transports.prototype.writeLog">
            function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>writeLog
            <span class="apidocSignatureSpan">(messageArgs, level)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>MAX_DELAY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>DEFAULT_PORTS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>LOG_LEVELS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>className</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.channel">module faye.channel</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.channel">
            function <span class="apidocSignatureSpan">faye.</span>channel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.Set">
            function <span class="apidocSignatureSpan">faye.channel.</span>Set
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.expand">
            function <span class="apidocSignatureSpan">faye.channel.</span>expand
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.isMeta">
            function <span class="apidocSignatureSpan">faye.channel.</span>isMeta
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.isService">
            function <span class="apidocSignatureSpan">faye.channel.</span>isService
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.isSubscribable">
            function <span class="apidocSignatureSpan">faye.channel.</span>isSubscribable
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.isValid">
            function <span class="apidocSignatureSpan">faye.channel.</span>isValid
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.parse">
            function <span class="apidocSignatureSpan">faye.channel.</span>parse
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.unparse">
            function <span class="apidocSignatureSpan">faye.channel.</span>unparse
            <span class="apidocSignatureSpan">(segments)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.channel.</span>CONNECT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.channel.</span>DISCONNECT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.channel.</span>HANDSHAKE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.channel.</span>META</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.channel.</span>SERVICE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.channel.</span>SUBSCRIBE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.channel.</span>UNSUBSCRIBE</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.channel.prototype">module faye.channel.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.addListener">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>addListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.bind">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>bind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.countListeners">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>countListeners
            <span class="apidocSignatureSpan">(eventType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.emit">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>emit
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>initialize
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.isUnused">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>isUnused
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.listeners">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>listeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.on">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>on
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.once">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>once
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.push">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>push
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.removeAllListeners">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>removeAllListeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.removeListener">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>removeListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.trigger">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>trigger
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.channel.prototype.unbind">
            function <span class="apidocSignatureSpan">faye.channel.prototype.</span>unbind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.connection">module faye.connection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.connection">
            function <span class="apidocSignatureSpan">faye.</span>connection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.connection.prototype">module faye.connection.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype._beginConnectionTimeout">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>_beginConnectionTimeout
            <span class="apidocSignatureSpan">(timeout)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype._beginDeliveryTimeout">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>_beginDeliveryTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.addTimeout">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>addTimeout
            <span class="apidocSignatureSpan">(name, delay, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.callback">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>callback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.connect">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>connect
            <span class="apidocSignatureSpan">(options, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.deliver">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>deliver
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.errback">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>errback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.flush">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>flush
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>initialize
            <span class="apidocSignatureSpan">(engine, id, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.removeAllTimeouts">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>removeAllTimeouts
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.removeTimeout">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>removeTimeout
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.setDeferredStatus">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>setDeferredStatus
            <span class="apidocSignatureSpan">(status, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.then">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>then
            <span class="apidocSignatureSpan">(callback, errback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.connection.prototype.timeout">
            function <span class="apidocSignatureSpan">faye.connection.prototype.</span>timeout
            <span class="apidocSignatureSpan">(seconds, message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.cors">module faye.cors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.cors.cors">
            function <span class="apidocSignatureSpan">faye.</span>cors
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.cors.isUsable">
            function <span class="apidocSignatureSpan">faye.cors.</span>isUsable
            <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.cors.</span>_id</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.cors.</span>_pending</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.cors.prototype">module faye.cors.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.cors.prototype.encode">
            function <span class="apidocSignatureSpan">faye.cors.prototype.</span>encode
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.cors.prototype.request">
            function <span class="apidocSignatureSpan">faye.cors.prototype.</span>request
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.cors.prototype.</span>connectionType</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.deferrable">module faye.deferrable</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.deferrable.callback">
            function <span class="apidocSignatureSpan">faye.deferrable.</span>callback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.deferrable.errback">
            function <span class="apidocSignatureSpan">faye.deferrable.</span>errback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.deferrable.setDeferredStatus">
            function <span class="apidocSignatureSpan">faye.deferrable.</span>setDeferredStatus
            <span class="apidocSignatureSpan">(status, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.deferrable.then">
            function <span class="apidocSignatureSpan">faye.deferrable.</span>then
            <span class="apidocSignatureSpan">(callback, errback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.deferrable.timeout">
            function <span class="apidocSignatureSpan">faye.deferrable.</span>timeout
            <span class="apidocSignatureSpan">(seconds, message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.dispatcher">module faye.dispatcher</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.dispatcher">
            function <span class="apidocSignatureSpan">faye.</span>dispatcher
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.create">
            function <span class="apidocSignatureSpan">faye.dispatcher.</span>create
            <span class="apidocSignatureSpan">(client, endpoint, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.dispatcher.prototype">module faye.dispatcher.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype._sendEnvelope">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>_sendEnvelope
            <span class="apidocSignatureSpan">(envelope)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.addListener">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>addListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.addWebsocketExtension">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>addWebsocketExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.bind">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>bind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.close">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.countListeners">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>countListeners
            <span class="apidocSignatureSpan">(eventType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.debug">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.disable">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>disable
            <span class="apidocSignatureSpan">(feature)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.emit">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>emit
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.endpointFor">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>endpointFor
            <span class="apidocSignatureSpan">(connectionType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.error">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.fatal">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>fatal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.getConnectionTypes">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>getConnectionTypes
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.handleError">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>handleError
            <span class="apidocSignatureSpan">(message, immediate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.handleResponse">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>handleResponse
            <span class="apidocSignatureSpan">(reply)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.info">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>info
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>initialize
            <span class="apidocSignatureSpan">(client, endpoint, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.listeners">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>listeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.on">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>on
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.once">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>once
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.removeAllListeners">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>removeAllListeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.removeListener">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>removeListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.selectTransport">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>selectTransport
            <span class="apidocSignatureSpan">(transportTypes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.sendMessage">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>sendMessage
            <span class="apidocSignatureSpan">(message, timeout, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.setHeader">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>setHeader
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.trigger">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>trigger
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.unbind">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>unbind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.warn">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>warn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.dispatcher.prototype.writeLog">
            function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>writeLog
            <span class="apidocSignatureSpan">(messageArgs, level)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>DEFAULT_RETRY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>DOWN</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>MAX_REQUEST_SIZE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>UP</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>LOG_LEVELS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>className</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.error">module faye.error</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.error">
            function <span class="apidocSignatureSpan">faye.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.badRequest">
            function <span class="apidocSignatureSpan">faye.error.</span>badRequest
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.channelForbidden">
            function <span class="apidocSignatureSpan">faye.error.</span>channelForbidden
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.channelInvalid">
            function <span class="apidocSignatureSpan">faye.error.</span>channelInvalid
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.channelUnknown">
            function <span class="apidocSignatureSpan">faye.error.</span>channelUnknown
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.clientUnknown">
            function <span class="apidocSignatureSpan">faye.error.</span>clientUnknown
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.conntypeMismatch">
            function <span class="apidocSignatureSpan">faye.error.</span>conntypeMismatch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.extMismatch">
            function <span class="apidocSignatureSpan">faye.error.</span>extMismatch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.extUnknown">
            function <span class="apidocSignatureSpan">faye.error.</span>extUnknown
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.parameterMissing">
            function <span class="apidocSignatureSpan">faye.error.</span>parameterMissing
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.parse">
            function <span class="apidocSignatureSpan">faye.error.</span>parse
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.publishFailed">
            function <span class="apidocSignatureSpan">faye.error.</span>publishFailed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.serverError">
            function <span class="apidocSignatureSpan">faye.error.</span>serverError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.versionMismatch">
            function <span class="apidocSignatureSpan">faye.error.</span>versionMismatch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.error.prototype">module faye.error.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.error.prototype.</span>initialize
            <span class="apidocSignatureSpan">(code, params, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.error.prototype.toString">
            function <span class="apidocSignatureSpan">faye.error.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.event_emitter">module faye.event_emitter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_emitter.event_emitter">
            function <span class="apidocSignatureSpan">faye.</span>event_emitter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.event_emitter.prototype">module faye.event_emitter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_emitter.prototype.addListener">
            function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>addListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_emitter.prototype.emit">
            function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>emit
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_emitter.prototype.listeners">
            function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>listeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_emitter.prototype.on">
            function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>on
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_emitter.prototype.once">
            function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>once
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_emitter.prototype.removeAllListeners">
            function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>removeAllListeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_emitter.prototype.removeListener">
            function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>removeListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.event_source">module faye.event_source</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.event_source">
            function <span class="apidocSignatureSpan">faye.</span>event_source
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.create">
            function <span class="apidocSignatureSpan">faye.event_source.</span>create
            <span class="apidocSignatureSpan">(dispatcher, endpoint)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.isUsable">
            function <span class="apidocSignatureSpan">faye.event_source.</span>isUsable
            <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.event_source.prototype">module faye.event_source.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.callback">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>callback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.close">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.encode">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>encode
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.errback">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>errback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>initialize
            <span class="apidocSignatureSpan">(dispatcher, endpoint)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.isUsable">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>isUsable
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.request">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>request
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.setDeferredStatus">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>setDeferredStatus
            <span class="apidocSignatureSpan">(status, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.then">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>then
            <span class="apidocSignatureSpan">(callback, errback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.event_source.prototype.timeout">
            function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>timeout
            <span class="apidocSignatureSpan">(seconds, message)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.event_source.prototype.</span>connectionType</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.extensible">module faye.extensible</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.extensible.addExtension">
            function <span class="apidocSignatureSpan">faye.extensible.</span>addExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.extensible.debug">
            function <span class="apidocSignatureSpan">faye.extensible.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.extensible.error">
            function <span class="apidocSignatureSpan">faye.extensible.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.extensible.fatal">
            function <span class="apidocSignatureSpan">faye.extensible.</span>fatal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.extensible.info">
            function <span class="apidocSignatureSpan">faye.extensible.</span>info
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.extensible.pipeThroughExtensions">
            function <span class="apidocSignatureSpan">faye.extensible.</span>pipeThroughExtensions
            <span class="apidocSignatureSpan">(stage, message, request, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.extensible.removeExtension">
            function <span class="apidocSignatureSpan">faye.extensible.</span>removeExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.extensible.warn">
            function <span class="apidocSignatureSpan">faye.extensible.</span>warn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.extensible.writeLog">
            function <span class="apidocSignatureSpan">faye.extensible.</span>writeLog
            <span class="apidocSignatureSpan">(messageArgs, level)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.extensible.</span>LOG_LEVELS</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.jsonp">module faye.jsonp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.jsonp.jsonp">
            function <span class="apidocSignatureSpan">faye.</span>jsonp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.jsonp.getCallbackName">
            function <span class="apidocSignatureSpan">faye.jsonp.</span>getCallbackName
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.jsonp.isUsable">
            function <span class="apidocSignatureSpan">faye.jsonp.</span>isUsable
            <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.jsonp.</span>_cbCount</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.jsonp.prototype">module faye.jsonp.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.jsonp.prototype.encode">
            function <span class="apidocSignatureSpan">faye.jsonp.prototype.</span>encode
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.jsonp.prototype.request">
            function <span class="apidocSignatureSpan">faye.jsonp.prototype.</span>request
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.jsonp.prototype.</span>connectionType</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.logging">module faye.logging</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.logging.debug">
            function <span class="apidocSignatureSpan">faye.logging.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.logging.error">
            function <span class="apidocSignatureSpan">faye.logging.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.logging.fatal">
            function <span class="apidocSignatureSpan">faye.logging.</span>fatal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.logging.info">
            function <span class="apidocSignatureSpan">faye.logging.</span>info
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.logging.warn">
            function <span class="apidocSignatureSpan">faye.logging.</span>warn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.logging.writeLog">
            function <span class="apidocSignatureSpan">faye.logging.</span>writeLog
            <span class="apidocSignatureSpan">(messageArgs, level)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.logging.</span>LOG_LEVELS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.logging.</span>wrapper</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.memory">module faye.memory</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.memory">
            function <span class="apidocSignatureSpan">faye.</span>memory
            <span class="apidocSignatureSpan">(server, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.create">
            function <span class="apidocSignatureSpan">faye.memory.</span>create
            <span class="apidocSignatureSpan">(server, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.memory.prototype">module faye.memory.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.addTimeout">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>addTimeout
            <span class="apidocSignatureSpan">(name, delay, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.clientExists">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>clientExists
            <span class="apidocSignatureSpan">(clientId, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.createClient">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>createClient
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.destroyClient">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>destroyClient
            <span class="apidocSignatureSpan">(clientId, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.disconnect">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>disconnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.emptyQueue">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>emptyQueue
            <span class="apidocSignatureSpan">(clientId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.ping">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>ping
            <span class="apidocSignatureSpan">(clientId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.publish">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>publish
            <span class="apidocSignatureSpan">(message, channels)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.removeAllTimeouts">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>removeAllTimeouts
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.removeTimeout">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>removeTimeout
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.reset">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.subscribe">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>subscribe
            <span class="apidocSignatureSpan">(clientId, channel, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.memory.prototype.unsubscribe">
            function <span class="apidocSignatureSpan">faye.memory.prototype.</span>unsubscribe
            <span class="apidocSignatureSpan">(clientId, channel, callback, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.namespace">module faye.namespace</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.namespace.namespace">
            function <span class="apidocSignatureSpan">faye.</span>namespace
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.namespace.prototype">module faye.namespace.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.namespace.prototype.exists">
            function <span class="apidocSignatureSpan">faye.namespace.prototype.</span>exists
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.namespace.prototype.generate">
            function <span class="apidocSignatureSpan">faye.namespace.prototype.</span>generate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.namespace.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.namespace.prototype.</span>initialize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.namespace.prototype.release">
            function <span class="apidocSignatureSpan">faye.namespace.prototype.</span>release
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.node_http">module faye.node_http</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_http.node_http">
            function <span class="apidocSignatureSpan">faye.</span>node_http
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_http.isUsable">
            function <span class="apidocSignatureSpan">faye.node_http.</span>isUsable
            <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.node_http.prototype">module faye.node_http.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_http.prototype._buildParams">
            function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>_buildParams
            <span class="apidocSignatureSpan">(content)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_http.prototype._handleResponse">
            function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>_handleResponse
            <span class="apidocSignatureSpan">(messages, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_http.prototype.encode">
            function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>encode
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_http.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>initialize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_http.prototype.request">
            function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>request
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.node_http.prototype.</span>SECURE_PROTOCOLS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.node_http.prototype.</span>className</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.node_http.prototype.</span>connectionType</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.node_local">module faye.node_local</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_local.node_local">
            function <span class="apidocSignatureSpan">faye.</span>node_local
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_local.isUsable">
            function <span class="apidocSignatureSpan">faye.node_local.</span>isUsable
            <span class="apidocSignatureSpan">(client, endpoint, callback, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.node_local.prototype">module faye.node_local.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">faye.node_local.prototype.</span>batching</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.node_local.prototype.request">
            function <span class="apidocSignatureSpan">faye.node_local.prototype.</span>request
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.node_local.prototype.</span>connectionType</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.promise">module faye.promise</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise.promise">
            function <span class="apidocSignatureSpan">faye.</span>promise
            <span class="apidocSignatureSpan">(task)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise.all">
            function <span class="apidocSignatureSpan">faye.promise.</span>all
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise.deferred">
            function <span class="apidocSignatureSpan">faye.promise.</span>deferred
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise.pending">
            function <span class="apidocSignatureSpan">faye.promise.</span>pending
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise.race">
            function <span class="apidocSignatureSpan">faye.promise.</span>race
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise.reject">
            function <span class="apidocSignatureSpan">faye.promise.</span>reject
            <span class="apidocSignatureSpan">(reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise.resolve">
            function <span class="apidocSignatureSpan">faye.promise.</span>resolve
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.promise.prototype">module faye.promise.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise.prototype.catch">
            function <span class="apidocSignatureSpan">faye.promise.prototype.</span>catch
            <span class="apidocSignatureSpan">(onRejected)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.promise.prototype.then">
            function <span class="apidocSignatureSpan">faye.promise.prototype.</span>then
            <span class="apidocSignatureSpan">(onFulfilled, onRejected)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.proxy">module faye.proxy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.proxy">
            function <span class="apidocSignatureSpan">faye.</span>proxy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.get">
            function <span class="apidocSignatureSpan">faye.proxy.</span>get
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.proxy.prototype">module faye.proxy.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.addListener">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>addListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.bind">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>bind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.clientExists">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>clientExists
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.close">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.closeConnection">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>closeConnection
            <span class="apidocSignatureSpan">(clientId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.connect">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>connect
            <span class="apidocSignatureSpan">(clientId, options, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.connection">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>connection
            <span class="apidocSignatureSpan">(clientId, create)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.countListeners">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>countListeners
            <span class="apidocSignatureSpan">(eventType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.createClient">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>createClient
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.debug">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.deliver">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>deliver
            <span class="apidocSignatureSpan">(clientId, messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.destroyClient">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>destroyClient
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.disconnect">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>disconnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.emit">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>emit
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.error">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.fatal">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>fatal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.flushConnection">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>flushConnection
            <span class="apidocSignatureSpan">(clientId, close)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.generateId">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>generateId
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.hasConnection">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>hasConnection
            <span class="apidocSignatureSpan">(clientId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.info">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>info
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>initialize
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.listeners">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>listeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.on">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>on
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.once">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>once
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.openSocket">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>openSocket
            <span class="apidocSignatureSpan">(clientId, socket)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.ping">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>ping
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.publish">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>publish
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.removeAllListeners">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>removeAllListeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.removeListener">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>removeListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.subscribe">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>subscribe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.trigger">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>trigger
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.unbind">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>unbind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.unsubscribe">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>unsubscribe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.warn">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>warn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.proxy.prototype.writeLog">
            function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>writeLog
            <span class="apidocSignatureSpan">(messageArgs, level)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.proxy.prototype.</span>INTERVAL</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.proxy.prototype.</span>MAX_DELAY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.proxy.prototype.</span>TIMEOUT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.proxy.prototype.</span>LOG_LEVELS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.proxy.prototype.</span>className</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.publication">module faye.publication</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publication.publication">
            function <span class="apidocSignatureSpan">faye.</span>publication
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.publication.prototype">module faye.publication.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publication.prototype.callback">
            function <span class="apidocSignatureSpan">faye.publication.prototype.</span>callback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publication.prototype.errback">
            function <span class="apidocSignatureSpan">faye.publication.prototype.</span>errback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publication.prototype.setDeferredStatus">
            function <span class="apidocSignatureSpan">faye.publication.prototype.</span>setDeferredStatus
            <span class="apidocSignatureSpan">(status, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publication.prototype.then">
            function <span class="apidocSignatureSpan">faye.publication.prototype.</span>then
            <span class="apidocSignatureSpan">(callback, errback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publication.prototype.timeout">
            function <span class="apidocSignatureSpan">faye.publication.prototype.</span>timeout
            <span class="apidocSignatureSpan">(seconds, message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.publisher">module faye.publisher</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.addListener">
            function <span class="apidocSignatureSpan">faye.publisher.</span>addListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.bind">
            function <span class="apidocSignatureSpan">faye.publisher.</span>bind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.countListeners">
            function <span class="apidocSignatureSpan">faye.publisher.</span>countListeners
            <span class="apidocSignatureSpan">(eventType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.emit">
            function <span class="apidocSignatureSpan">faye.publisher.</span>emit
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.listeners">
            function <span class="apidocSignatureSpan">faye.publisher.</span>listeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.on">
            function <span class="apidocSignatureSpan">faye.publisher.</span>on
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.once">
            function <span class="apidocSignatureSpan">faye.publisher.</span>once
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.removeAllListeners">
            function <span class="apidocSignatureSpan">faye.publisher.</span>removeAllListeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.removeListener">
            function <span class="apidocSignatureSpan">faye.publisher.</span>removeListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.trigger">
            function <span class="apidocSignatureSpan">faye.publisher.</span>trigger
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.publisher.unbind">
            function <span class="apidocSignatureSpan">faye.publisher.</span>unbind
            <span class="apidocSignatureSpan">(eventType, listener, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.server">module faye.server</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.server">
            function <span class="apidocSignatureSpan">faye.</span>server
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.create">
            function <span class="apidocSignatureSpan">faye.server.</span>create
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.server.prototype">module faye.server.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype._advize">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>_advize
            <span class="apidocSignatureSpan">(response, connectionType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype._handle">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>_handle
            <span class="apidocSignatureSpan">(message, local, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype._handleMeta">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>_handleMeta
            <span class="apidocSignatureSpan">(message, local, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype._makeResponse">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>_makeResponse
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.addExtension">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>addExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.close">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.closeSocket">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>closeSocket
            <span class="apidocSignatureSpan">(clientId, close)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.connect">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>connect
            <span class="apidocSignatureSpan">(message, local, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.debug">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.disconnect">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>disconnect
            <span class="apidocSignatureSpan">(message, local, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.error">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.fatal">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>fatal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.handshake">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>handshake
            <span class="apidocSignatureSpan">(message, local, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.info">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>info
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>initialize
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.openSocket">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>openSocket
            <span class="apidocSignatureSpan">(clientId, socket, request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.pipeThroughExtensions">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>pipeThroughExtensions
            <span class="apidocSignatureSpan">(stage, message, request, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.process">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>process
            <span class="apidocSignatureSpan">(messages, request, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.removeExtension">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>removeExtension
            <span class="apidocSignatureSpan">(extension)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.subscribe">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>subscribe
            <span class="apidocSignatureSpan">(message, local, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.unsubscribe">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>unsubscribe
            <span class="apidocSignatureSpan">(message, local, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.warn">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>warn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.server.prototype.writeLog">
            function <span class="apidocSignatureSpan">faye.server.prototype.</span>writeLog
            <span class="apidocSignatureSpan">(messageArgs, level)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.server.prototype.</span>LOG_LEVELS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.server.prototype.</span>META_METHODS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.server.prototype.</span>className</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.set">module faye.set</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.set.set">
            function <span class="apidocSignatureSpan">faye.</span>set
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.set.prototype">module faye.set.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.set.prototype.add">
            function <span class="apidocSignatureSpan">faye.set.prototype.</span>add
            <span class="apidocSignatureSpan">(item)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.set.prototype.forEach">
            function <span class="apidocSignatureSpan">faye.set.prototype.</span>forEach
            <span class="apidocSignatureSpan">(block, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.set.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.set.prototype.</span>initialize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.set.prototype.isEmpty">
            function <span class="apidocSignatureSpan">faye.set.prototype.</span>isEmpty
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.set.prototype.member">
            function <span class="apidocSignatureSpan">faye.set.prototype.</span>member
            <span class="apidocSignatureSpan">(item)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.set.prototype.remove">
            function <span class="apidocSignatureSpan">faye.set.prototype.</span>remove
            <span class="apidocSignatureSpan">(item)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.set.prototype.toArray">
            function <span class="apidocSignatureSpan">faye.set.prototype.</span>toArray
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.socket">module faye.socket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.socket.socket">
            function <span class="apidocSignatureSpan">faye.</span>socket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.socket.prototype">module faye.socket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.socket.prototype.close">
            function <span class="apidocSignatureSpan">faye.socket.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.socket.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.socket.prototype.</span>initialize
            <span class="apidocSignatureSpan">(server, socket, request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.socket.prototype.send">
            function <span class="apidocSignatureSpan">faye.socket.prototype.</span>send
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.static_server">module faye.static_server</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.static_server.static_server">
            function <span class="apidocSignatureSpan">faye.</span>static_server
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.static_server.prototype">module faye.static_server.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.static_server.prototype.call">
            function <span class="apidocSignatureSpan">faye.static_server.prototype.</span>call
            <span class="apidocSignatureSpan">(request, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.static_server.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.static_server.prototype.</span>initialize
            <span class="apidocSignatureSpan">(directory, pathRegex)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.static_server.prototype.map">
            function <span class="apidocSignatureSpan">faye.static_server.prototype.</span>map
            <span class="apidocSignatureSpan">(requestPath, filename)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.static_server.prototype.test">
            function <span class="apidocSignatureSpan">faye.static_server.prototype.</span>test
            <span class="apidocSignatureSpan">(pathname)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.subscription">module faye.subscription</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.subscription">
            function <span class="apidocSignatureSpan">faye.</span>subscription
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.subscription.prototype">module faye.subscription.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.apply">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>apply
            <span class="apidocSignatureSpan">(context, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.callback">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>callback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.cancel">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>cancel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.errback">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>errback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.initialize">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>initialize
            <span class="apidocSignatureSpan">(client, channels, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.setDeferredStatus">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>setDeferredStatus
            <span class="apidocSignatureSpan">(status, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.then">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>then
            <span class="apidocSignatureSpan">(callback, errback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.timeout">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>timeout
            <span class="apidocSignatureSpan">(seconds, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.unsubscribe">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>unsubscribe
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.subscription.prototype.withChannel">
            function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>withChannel
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.timeouts">module faye.timeouts</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.timeouts.addTimeout">
            function <span class="apidocSignatureSpan">faye.timeouts.</span>addTimeout
            <span class="apidocSignatureSpan">(name, delay, callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.timeouts.removeAllTimeouts">
            function <span class="apidocSignatureSpan">faye.timeouts.</span>removeAllTimeouts
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.timeouts.removeTimeout">
            function <span class="apidocSignatureSpan">faye.timeouts.</span>removeTimeout
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.uri">module faye.uri</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.uri.isSameOrigin">
            function <span class="apidocSignatureSpan">faye.uri.</span>isSameOrigin
            <span class="apidocSignatureSpan">(uri)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.uri.isURI">
            function <span class="apidocSignatureSpan">faye.uri.</span>isURI
            <span class="apidocSignatureSpan">(uri)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.uri.parse">
            function <span class="apidocSignatureSpan">faye.uri.</span>parse
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.uri.queryString">
            function <span class="apidocSignatureSpan">faye.uri.</span>queryString
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.uri.stringify">
            function <span class="apidocSignatureSpan">faye.uri.</span>stringify
            <span class="apidocSignatureSpan">(uri)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.web_socket">module faye.web_socket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.web_socket">
            function <span class="apidocSignatureSpan">faye.</span>web_socket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.create">
            function <span class="apidocSignatureSpan">faye.web_socket.</span>create
            <span class="apidocSignatureSpan">(dispatcher, endpoint)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.getSocketUrl">
            function <span class="apidocSignatureSpan">faye.web_socket.</span>getSocketUrl
            <span class="apidocSignatureSpan">(endpoint)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.isUsable">
            function <span class="apidocSignatureSpan">faye.web_socket.</span>isUsable
            <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">faye.web_socket.</span>PROTOCOLS</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.web_socket.prototype">module faye.web_socket.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>batching</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype._createSocket">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>_createSocket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype._ping">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>_ping
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype.callback">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>callback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype.close">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype.connect">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype.errback">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>errback
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype.isUsable">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>isUsable
            <span class="apidocSignatureSpan">(callback, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype.request">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>request
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype.setDeferredStatus">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>setDeferredStatus
            <span class="apidocSignatureSpan">(status, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype.then">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>then
            <span class="apidocSignatureSpan">(callback, errback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.web_socket.prototype.timeout">
            function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>timeout
            <span class="apidocSignatureSpan">(seconds, message)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>CONNECTED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>CONNECTING</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>UNCONNECTED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>connectionType</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.xhr">module faye.xhr</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.xhr.xhr">
            function <span class="apidocSignatureSpan">faye.</span>xhr
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.xhr.isUsable">
            function <span class="apidocSignatureSpan">faye.xhr.</span>isUsable
            <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faye.xhr.prototype">module faye.xhr.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.xhr.prototype.encode">
            function <span class="apidocSignatureSpan">faye.xhr.prototype.</span>encode
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faye.xhr.prototype.request">
            function <span class="apidocSignatureSpan">faye.xhr.prototype.</span>request
            <span class="apidocSignatureSpan">(messages)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">faye.xhr.prototype.</span>connectionType</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye" id="apidoc.module.faye">module faye</a></h1>


    <h2>
        <a href="#apidoc.element.faye.Client" id="apidoc.element.faye.Client">
        function <span class="apidocSignatureSpan">faye.</span>Client
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter" id="apidoc.element.faye.NodeAdapter">
        function <span class="apidocSignatureSpan">faye.</span>NodeAdapter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NodeAdapter = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Scheduler" id="apidoc.element.faye.Scheduler">
        function <span class="apidocSignatureSpan">faye.</span>Scheduler
        <span class="apidocSignatureSpan">(message, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Scheduler = function (message, options) {
  this.message  = message;
  this.options  = options;
  this.attempts = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports" id="apidoc.element.faye.browser_transports">
        function <span class="apidocSignatureSpan">faye.</span>browser_transports
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">browser_transports = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel" id="apidoc.element.faye.channel">
        function <span class="apidocSignatureSpan">faye.</span>channel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">channel = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection" id="apidoc.element.faye.connection">
        function <span class="apidocSignatureSpan">faye.</span>connection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connection = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  this.debug(&#x27;Created new engine: ?&#x27;, this._options);
},

connect: function(clientId, options, callback, context) {
  this.debug(&#x27;Accepting connection from ?&#x27;, clientId);
  this._engine.ping(clientId);
  var conn = this.<span class="apidocCodeKeywordSpan">connection</span>(clientId, true);
  conn.connect(options, callback, context);
  this._engine.emptyQueue(clientId);
},

hasConnection: function(clientId) {
  return this._connections.hasOwnProperty(clientId);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.cors" id="apidoc.element.faye.cors">
        function <span class="apidocSignatureSpan">faye.</span>cors
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cors = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher" id="apidoc.element.faye.dispatcher">
        function <span class="apidocSignatureSpan">faye.</span>dispatcher
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dispatcher = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error" id="apidoc.element.faye.error">
        function <span class="apidocSignatureSpan">faye.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_emitter" id="apidoc.element.faye.event_emitter">
        function <span class="apidocSignatureSpan">faye.</span>event_emitter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source" id="apidoc.element.faye.event_source">
        function <span class="apidocSignatureSpan">faye.</span>event_source
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">event_source = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.jsonp" id="apidoc.element.faye.jsonp">
        function <span class="apidocSignatureSpan">faye.</span>jsonp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">jsonp = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory" id="apidoc.element.faye.memory">
        function <span class="apidocSignatureSpan">faye.</span>memory
        <span class="apidocSignatureSpan">(server, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">memory = function (server, options) {
  this._server    = server;
  this._options   = options || {};
  this.reset();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.namespace" id="apidoc.element.faye.namespace">
        function <span class="apidocSignatureSpan">faye.</span>namespace
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">namespace = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.node_http" id="apidoc.element.faye.node_http">
        function <span class="apidocSignatureSpan">faye.</span>node_http
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">node_http = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.node_local" id="apidoc.element.faye.node_local">
        function <span class="apidocSignatureSpan">faye.</span>node_local
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">node_local = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.promise" id="apidoc.element.faye.promise">
        function <span class="apidocSignatureSpan">faye.</span>promise
        <span class="apidocSignatureSpan">(task)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">promise = function (task) {
  this._state       = PENDING;
  this._onFulfilled = [];
  this._onRejected  = [];

  if (typeof task !== &#x27;function&#x27;) return;
  var self = this;

  task(function(value)  { resolve(self, value) },
       function(reason) { reject(self, reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy" id="apidoc.element.faye.proxy">
        function <span class="apidocSignatureSpan">faye.</span>proxy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">proxy = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publication" id="apidoc.element.faye.publication">
        function <span class="apidocSignatureSpan">faye.</span>publication
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publication = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server" id="apidoc.element.faye.server">
        function <span class="apidocSignatureSpan">faye.</span>server
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">server = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.set" id="apidoc.element.faye.set">
        function <span class="apidocSignatureSpan">faye.</span>set
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.socket" id="apidoc.element.faye.socket">
        function <span class="apidocSignatureSpan">faye.</span>socket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">socket = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.static_server" id="apidoc.element.faye.static_server">
        function <span class="apidocSignatureSpan">faye.</span>static_server
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">static_server = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription" id="apidoc.element.faye.subscription">
        function <span class="apidocSignatureSpan">faye.</span>subscription
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscription = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket" id="apidoc.element.faye.web_socket">
        function <span class="apidocSignatureSpan">faye.</span>web_socket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">web_socket = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.xhr" id="apidoc.element.faye.xhr">
        function <span class="apidocSignatureSpan">faye.</span>xhr
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xhr = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.Client" id="apidoc.module.faye.Client">module faye.Client</a></h1>


    <h2>
        <a href="#apidoc.element.faye.Client.Client" id="apidoc.element.faye.Client.Client">
        function <span class="apidocSignatureSpan">faye.</span>Client
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.Client.prototype" id="apidoc.module.faye.Client.prototype">module faye.Client.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.Client.prototype._cycleConnection" id="apidoc.element.faye.Client.prototype._cycleConnection">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_cycleConnection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_cycleConnection = function () {
  if (this._connectRequest) {
    this._connectRequest = null;
    this.info(&#x27;Closed connection for ?&#x27;, this._dispatcher.clientId);
  }
  var self = this;
  global.setTimeout(function() { self.connect() }, this._advice.interval);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  _handleAdvice: function(advice) {
	    extend(this._advice, advice);
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    if (this._advice.reconnect === this.HANDSHAKE &#x26;&#x26; this._state !== this.DISCONNECTED) {
	      this._state = this.UNCONNECTED;
	      this._dispatcher.clientId = null;
	      this.<span class="apidocCodeKeywordSpan">_cycleConnection</span>();
	    }
	  },
	
	  _deliverMessage: function(message) {
	    if (!message.channel || message.data === undefined) return;
	    this.info(&#x27;Client ? calling listeners for ? with ?&#x27;, this._dispatcher.clientId, message.channel, message.data);
	    this._channels.distributeMessage(message);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype._deliverMessage" id="apidoc.element.faye.Client.prototype._deliverMessage">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_deliverMessage
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_deliverMessage = function (message) {
  if (!message.channel || message.data === undefined) return;
  this.info(&#x27;Client ? calling listeners for ? with ?&#x27;, this._dispatcher.clientId, message.channel, message.data);
  this._channels.distributeMessage(message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      callback = this._responseCallbacks[id];
	      delete this._responseCallbacks[id];
	    }
	
	    this.pipeThroughExtensions(&#x27;incoming&#x27;, message, null, function(message) {
	      if (!message) return;
	      if (message.advice) this._handleAdvice(message.advice);
	      this.<span class="apidocCodeKeywordSpan">_deliverMessage</span>(message);
	      if (callback) callback[0].call(callback[1], message);
	    }, this);
	  },
	
	  _handleAdvice: function(advice) {
	    extend(this._advice, advice);
	    this._dispatcher.timeout = this._advice.timeout / 1000;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype._generateMessageId" id="apidoc.element.faye.Client.prototype._generateMessageId">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_generateMessageId
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_generateMessageId = function () {
  this._messageId += 1;
  if (this._messageId &#x3e;= Math.pow(2,32)) this._messageId = 0;
  return this._messageId.toString(36);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      }, this);
	    }, this);
	
	    return publication;
	  },
	
	  _sendMessage: function(message, options, callback, context) {
	    message.id = this.<span class="apidocCodeKeywordSpan">_generateMessageId</span>();
	
	    var timeout = this._advice.timeout
	                ? 1.2 * this._advice.timeout / 1000
	                : 1.2 * this._dispatcher.retry;
	
	    this.pipeThroughExtensions(&#x27;outgoing&#x27;, message, null, function(message) {
	      if (!message) return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype._handleAdvice" id="apidoc.element.faye.Client.prototype._handleAdvice">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_handleAdvice
        <span class="apidocSignatureSpan">(advice)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleAdvice = function (advice) {
  extend(this._advice, advice);
  this._dispatcher.timeout = this._advice.timeout / 1000;

  if (this._advice.reconnect === this.HANDSHAKE &#x26;&#x26; this._state !== this.DISCONNECTED) {
    this._state = this.UNCONNECTED;
    this._dispatcher.clientId = null;
    this._cycleConnection();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (message.successful !== undefined) {
	      callback = this._responseCallbacks[id];
	      delete this._responseCallbacks[id];
	    }
	
	    this.pipeThroughExtensions(&#x27;incoming&#x27;, message, null, function(message) {
	      if (!message) return;
	      if (message.advice) this.<span class="apidocCodeKeywordSpan">_handleAdvice</span>(message.advice);
	      this._deliverMessage(message);
	      if (callback) callback[0].call(callback[1], message);
	    }, this);
	  },
	
	  _handleAdvice: function(advice) {
	    extend(this._advice, advice);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype._receiveMessage" id="apidoc.element.faye.Client.prototype._receiveMessage">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_receiveMessage
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_receiveMessage = function (message) {
  var id = message.id, callback;

  if (message.successful !== undefined) {
    callback = this._responseCallbacks[id];
    delete this._responseCallbacks[id];
  }

  this.pipeThroughExtensions(&#x27;incoming&#x27;, message, null, function(message) {
    if (!message) return;
    if (message.advice) this._handleAdvice(message.advice);
    this._deliverMessage(message);
    if (callback) callback[0].call(callback[1], message);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype._sendMessage" id="apidoc.element.faye.Client.prototype._sendMessage">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>_sendMessage
        <span class="apidocSignatureSpan">(message, options, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_sendMessage = function (message, options, callback, context) {
  message.id = this._generateMessageId();

  var timeout = this._advice.timeout
              ? 1.2 * this._advice.timeout / 1000
              : 1.2 * this._dispatcher.retry;

  this.pipeThroughExtensions(&#x27;outgoing&#x27;, message, null, function(message) {
    if (!message) return;
    if (callback) this._responseCallbacks[message.id] = [callback, context];
    this._dispatcher.sendMessage(message, timeout, options || {});
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._state = this.CONNECTING;
	    var self = this;
	
	    this.info(&#x27;Initiating handshake with ?&#x27;, URI.stringify(this._dispatcher.endpoint));
	    this._dispatcher.selectTransport(constants.MANDATORY_CONNECTION_TYPES);
	
	    this.<span class="apidocCodeKeywordSpan">_sendMessage</span>({
	      channel:                  Channel.HANDSHAKE,
	      version:                  constants.BAYEUX_VERSION,
	      supportedConnectionTypes: this._dispatcher.getConnectionTypes()
	
	    }, {}, function(response) {
	
	      if (response.successful) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.addExtension" id="apidoc.element.faye.Client.prototype.addExtension">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>addExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addExtension = function (extension) {
  this._extensions = this._extensions || [];
  this._extensions.push(extension);
  if (extension.added) extension.added(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.addListener" id="apidoc.element.faye.Client.prototype.addListener">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>addListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.addWebsocketExtension" id="apidoc.element.faye.Client.prototype.addWebsocketExtension">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>addWebsocketExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addWebsocketExtension = function (extension) {
  return this._dispatcher.addWebsocketExtension(extension);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.<span class="apidocCodeKeywordSpan">addWebsocketExtension</span>(extension);
	  },
	
	  disable: function(feature) {
	    return this._dispatcher.disable(feature);
	  },
	
	  setHeader: function(name, value) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.bind" id="apidoc.element.faye.Client.prototype.bind">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>bind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function (eventType, listener, context) {
  var slice   = Array.prototype.slice,
      handler = function() { listener.apply(context, slice.call(arguments)) };

  this._listeners = this._listeners || [];
  this._listeners.push([eventType, listener, context, handler]);
  return this.on(eventType, handler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._advice = {
	      reconnect: this.RETRY,
	      interval:  1000 * (options.interval || this.INTERVAL),
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.<span class="apidocCodeKeywordSpan">bind</span>(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.callback" id="apidoc.element.faye.Client.prototype.callback">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>callback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">callback = function (callback, context) {
  return this.then(function(value) { callback.call(context, value) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.<span class="apidocCodeKeywordSpan">callback</span>(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.connect" id="apidoc.element.faye.Client.prototype.connect">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>connect
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (callback, context) {
  if (this._advice.reconnect === this.NONE) return;
  if (this._state === this.DISCONNECTED) return;

  if (this._state === this.UNCONNECTED)
    return this.handshake(function() { this.connect(callback, context) }, this);

  this.callback(callback, context);
  if (this._state !== this.CONNECTED) return;

  this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
  this.setDeferredStatus(&#x27;succeeded&#x27;);
  this.setDeferredStatus(&#x27;unknown&#x27;);

  if (this._connectRequest) return;
  this._connectRequest = true;

  this.info(&#x27;Initiating connection for ?&#x27;, this._dispatcher.clientId);

  this._sendMessage({
    channel:        Channel.CONNECT,
    clientId:       this._dispatcher.clientId,
    connectionType: this._dispatcher.connectionType

  }, {}, this._cycleConnection, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  //                                                     * id
	  //                                                     * timestamp
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.<span class="apidocCodeKeywordSpan">connect</span>(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.countListeners" id="apidoc.element.faye.Client.prototype.countListeners">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>countListeners
        <span class="apidocSignatureSpan">(eventType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">countListeners = function (eventType) {
  return this.listeners(eventType).length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  push: function(message) {
	    this.trigger(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.<span class="apidocCodeKeywordSpan">countListeners</span>(&#x27;message&#x27;) === 0;
	  }
	});
	
	extend(Channel.prototype, Publisher);
	
	extend(Channel, {
	  HANDSHAKE:    &#x27;/meta/handshake&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.debug" id="apidoc.element.faye.Client.prototype.debug">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.get(this, transportTypes, this._disabled, function(transport) {
	      this.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI
.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.disable" id="apidoc.element.faye.Client.prototype.disable">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>disable
        <span class="apidocSignatureSpan">(feature)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disable = function (feature) {
  return this._dispatcher.disable(feature);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
	  },
	
	  disable: function(feature) {
	    return this._dispatcher.<span class="apidocCodeKeywordSpan">disable</span>(feature);
	  },
	
	  setHeader: function(name, value) {
	    return this._dispatcher.setHeader(name, value);
	  },
	
	  // Request
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.disconnect" id="apidoc.element.faye.Client.prototype.disconnect">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>disconnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disconnect = function () {
  if (this._state !== this.CONNECTED) return;
  this._state = this.DISCONNECTED;

  this.info(&#x27;Disconnecting ?&#x27;, this._dispatcher.clientId);
  var promise = new Publication();

  this._sendMessage({
    channel:  Channel.DISCONNECT,
    clientId: this._dispatcher.clientId

  }, {}, function(response) {
    if (response.successful) {
      this._dispatcher.close();
      promise.setDeferredStatus(&#x27;succeeded&#x27;);
    } else {
      promise.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
    }
  }, this);

  this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
  this._channels = new Channel.Set();

  return promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.<span class="apidocCodeKeywordSpan">disconnect</span>();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.emit" id="apidoc.element.faye.Client.prototype.emit">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>emit
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  } else {
	    return false;
	  }
	};
	
	// EventEmitter is defined in src/node_events.cc
	// EventEmitter.prototype.<span class="apidocCodeKeywordSpan">emit</span>() is also defined there.
	EventEmitter.prototype.addListener = function(type, listener) {
	  if (&#x27;function&#x27; !== typeof listener) {
	    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
	  }
	
	  if (!this._events) this._events = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.errback" id="apidoc.element.faye.Client.prototype.errback">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>errback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">errback = function (callback, context) {
  return this.then(null, function(reason) { callback.call(context, reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  CONNECTING:   2,
	  CONNECTED:    3,
	
	  batching:     false,
	
	  isUsable: function(callback, context) {
	    this.callback(function() { callback.call(context, true) });
	    this.<span class="apidocCodeKeywordSpan">errback</span>(function() { callback.call(context, false) });
	    this.connect();
	  },
	
	  request: function(messages) {
	    this._pending = this._pending || new Set();
	    for (var i = 0, n = messages.length; i &#x3c; n; i++) this._pending.add(messages[i]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.error" id="apidoc.element.faye.Client.prototype.error">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.fatal" id="apidoc.element.faye.Client.prototype.fatal">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>fatal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.handshake" id="apidoc.element.faye.Client.prototype.handshake">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>handshake
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handshake = function (callback, context) {
  if (this._advice.reconnect === this.NONE) return;
  if (this._state !== this.UNCONNECTED) return;

  this._state = this.CONNECTING;
  var self = this;

  this.info(&#x27;Initiating handshake with ?&#x27;, URI.stringify(this._dispatcher.endpoint));
  this._dispatcher.selectTransport(constants.MANDATORY_CONNECTION_TYPES);

  this._sendMessage({
    channel:                  Channel.HANDSHAKE,
    version:                  constants.BAYEUX_VERSION,
    supportedConnectionTypes: this._dispatcher.getConnectionTypes()

  }, {}, function(response) {

    if (response.successful) {
      this._state = this.CONNECTED;
      this._dispatcher.clientId  = response.clientId;

      this._dispatcher.selectTransport(response.supportedConnectionTypes);

      this.info(&#x27;Handshake successful: ?&#x27;, this._dispatcher.clientId);

      this.subscribe(this._channels.getKeys(), true);
      if (callback) asap(function() { callback.call(context) });

    } else {
      this.info(&#x27;Handshake unsuccessful&#x27;);
      global.setTimeout(function() { self.handshake(callback, context) }, this._dispatcher.retry * 1000);
      this._state = this.UNCONNECTED;
    }
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        this.info(&#x27;Handshake successful: ?&#x27;, this._dispatcher.clientId);
	
	        this.subscribe(this._channels.getKeys(), true);
	        if (callback) asap(function() { callback.call(context) });
	
	      } else {
	        this.info(&#x27;Handshake unsuccessful&#x27;);
	        global.setTimeout(function() { self.<span class="apidocCodeKeywordSpan">handshake</span>(callback, context) }, this._dispatcher
.retry * 1000);
	        this._state = this.UNCONNECTED;
	      }
	    }, this);
	  },
	
	  // Request                              Response
	  // MUST include:  * channel             MUST include:  * channel
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.info" id="apidoc.element.faye.Client.prototype.info">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>info
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  CONNECTION_TIMEOUT: 60,
	
	  DEFAULT_ENDPOINT:   &#x27;/bayeux&#x27;,
	  INTERVAL:           0,
	
	  initialize: function(endpoint, options) {
	    this.<span class="apidocCodeKeywordSpan">info</span>(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.initialize" id="apidoc.element.faye.Client.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>initialize
        <span class="apidocSignatureSpan">(endpoint, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (endpoint, options) {
  this.info(&#x27;New client created for ?&#x27;, endpoint);
  options = options || {};

  validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca
&#x27;]);

  this._channels   = new Channel.Set();
  this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);

  this._messageId = 0;
  this._state     = this.UNCONNECTED;

  this._responseCallbacks = {};

  this._advice = {
    reconnect: this.RETRY,
    interval:  1000 * (options.interval || this.INTERVAL),
    timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
  };
  this._dispatcher.timeout = this._advice.timeout / 1000;

  this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);

  if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
    browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
      if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
        this.disconnect();
    }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.listeners" id="apidoc.element.faye.Client.prototype.listeners">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>listeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listeners = function (type) {
  if (!this._events) this._events = {};
  if (!this._events[type]) this._events[type] = [];
  if (!isArray(this._events[type])) {
    this._events[type] = [this._events[type]];
  }
  return this._events[type];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	&#x27;use strict&#x27;;
	
	var extend       = __webpack_require__(8),
	    EventEmitter = __webpack_require__(16);
	
	var Publisher = {
	  countListeners: function(eventType) {
	    return this.<span class="apidocCodeKeywordSpan">listeners</span>(eventType).length;
	  },
	
	  bind: function(eventType, listener, context) {
	    var slice   = Array.prototype.slice,
	        handler = function() { listener.apply(context, slice.call(arguments)) };
	
	    this._listeners = this._listeners || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.on" id="apidoc.element.faye.Client.prototype.on">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>on
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.<span class="apidocCodeKeywordSpan">on</span>(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.once" id="apidoc.element.faye.Client.prototype.once">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>once
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (type, listener) {
  var self = this;
  self.on(type, function g() {
    self.removeListener(type, g);
    listener.apply(this, arguments);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.pipeThroughExtensions" id="apidoc.element.faye.Client.prototype.pipeThroughExtensions">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>pipeThroughExtensions
        <span class="apidocSignatureSpan">(stage, message, request, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pipeThroughExtensions = function (stage, message, request, callback, context) {
  this.debug(&#x27;Passing through ? extensions: ?&#x27;, stage, message);

  if (!this._extensions) return callback.call(context, message);
  var extensions = this._extensions.slice();

  var pipe = function(message) {
    if (!message) return callback.call(context, message);

    var extension = extensions.shift();
    if (!extension) return callback.call(context, message);

    var fn = extension[stage];
    if (!fn) return pipe(message);

    if (fn.length &#x3e;= 3) extension[stage](message, request, pipe);
    else                extension[stage](message, pipe);
  };
  pipe(message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  _sendMessage: function(message, options, callback, context) {
	    message.id = this._generateMessageId();
	
	    var timeout = this._advice.timeout
	                ? 1.2 * this._advice.timeout / 1000
	                : 1.2 * this._dispatcher.retry;
	
	    this.<span class="apidocCodeKeywordSpan">pipeThroughExtensions</span>(&#x27;outgoing&#x27;, message, null, function(message
) {
	      if (!message) return;
	      if (callback) this._responseCallbacks[message.id] = [callback, context];
	      this._dispatcher.sendMessage(message, timeout, options || {});
	    }, this);
	  },
	
	  _generateMessageId: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.publish" id="apidoc.element.faye.Client.prototype.publish">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>publish
        <span class="apidocSignatureSpan">(channel, data, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publish = function (channel, data, options) {
  validateOptions(options || {}, [&#x27;attempts&#x27;, &#x27;deadline&#x27;]);
  var publication = new Publication();

  this.connect(function() {
    this.info(&#x27;Client ? queueing published message to ?: ?&#x27;, this._dispatcher.clientId, channel, data);

    this._sendMessage({
      channel:  channel,
      data:     data,
      clientId: this._dispatcher.clientId

    }, options, function(response) {
      if (response.successful)
        publication.setDeferredStatus(&#x27;succeeded&#x27;);
      else
        publication.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
    }, this);
  }, this);

  return publication;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  disconnect: function() {
    if (this._engine.disconnect) return this._engine.disconnect();
  },

  publish: function(message) {
    var channels = Channel.expand(message.channel);
    return this._engine.<span class="apidocCodeKeywordSpan">publish</span>(message, channels);
  }
}), {
  get: function(options) {
    return new Proxy(options);
  }
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.removeAllListeners" id="apidoc.element.faye.Client.prototype.removeAllListeners">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>removeAllListeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (type) {
  if (arguments.length === 0) {
    this._events = {};
    return this;
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (type &#x26;&#x26; this._events &#x26;&#x26; this._events[type]) this._events[type] = null;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.removeExtension" id="apidoc.element.faye.Client.prototype.removeExtension">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>removeExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeExtension = function (extension) {
  if (!this._extensions) return;
  var i = this._extensions.length;
  while (i--) {
    if (this._extensions[i] !== extension) continue;
    this._extensions.splice(i,1);
    if (extension.removed) extension.removed(this);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.removeListener" id="apidoc.element.faye.Client.prototype.removeListener">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>removeListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;removeListener only takes instances of Function&#x27;);
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (!this._events || !this._events[type]) return this;

  var list = this._events[type];

  if (isArray(list)) {
    var i = indexOf(list, listener);
    if (i &#x3c; 0) return this;
    list.splice(i, 1);
    if (list.length == 0)
      delete this._events[type];
  } else if (this._events[type] === listener) {
    delete this._events[type];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var n = this._listeners.length, tuple;
	
	    while (n--) {
	      tuple = this._listeners[n];
	      if (tuple[0] !== eventType) continue;
	      if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
	      this._listeners.splice(n, 1);
	      this.<span class="apidocCodeKeywordSpan">removeListener</span>(eventType, tuple[3]);
	    }
	  }
	};
	
	extend(Publisher, EventEmitter.prototype);
	Publisher.trigger = Publisher.emit;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.setDeferredStatus" id="apidoc.element.faye.Client.prototype.setDeferredStatus">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>setDeferredStatus
        <span class="apidocSignatureSpan">(status, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDeferredStatus = function (status, value) {
  if (this._timer) global.clearTimeout(this._timer);

  this.then();

  if (status === &#x27;succeeded&#x27;)
    this._resolve(value);
  else if (status === &#x27;failed&#x27;)
    this._reject(value);
  else
    delete this._promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.<span class="apidocCodeKeywordSpan">setDeferredStatus</span>(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
	    this._connectRequest = true;
	
	    this.info(&#x27;Initiating connection for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.setHeader" id="apidoc.element.faye.Client.prototype.setHeader">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>setHeader
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setHeader = function (name, value) {
  return this._dispatcher.setHeader(name, value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  disable: function(feature) {
	    return this._dispatcher.disable(feature);
	  },
	
	  setHeader: function(name, value) {
	    return this._dispatcher.<span class="apidocCodeKeywordSpan">setHeader</span>(name, value);
	  },
	
	  // Request
	  // MUST include:  * channel
	  //                * version
	  //                * supportedConnectionTypes
	  // MAY include:   * minimumVersion
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.subscribe" id="apidoc.element.faye.Client.prototype.subscribe">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>subscribe
        <span class="apidocSignatureSpan">(channel, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscribe = function (channel, callback, context) {
  if (channel instanceof Array)
    return array.map(channel, function(c) {
      return this.subscribe(c, callback, context);
    }, this);

  var subscription = new Subscription(this, channel, callback, context),
      force        = (callback === true),
      hasSubscribe = this._channels.hasSubscription(channel);

  if (hasSubscribe &#x26;&#x26; !force) {
    this._channels.subscribe([channel], subscription);
    subscription.setDeferredStatus(&#x27;succeeded&#x27;);
    return subscription;
  }

  this.connect(function() {
    this.info(&#x27;Client ? attempting to subscribe to ?&#x27;, this._dispatcher.clientId, channel);
    if (!force) this._channels.subscribe([channel], subscription);

    this._sendMessage({
      channel:      Channel.SUBSCRIBE,
      clientId:     this._dispatcher.clientId,
      subscription: channel

    }, {}, function(response) {
      if (!response.successful) {
        subscription.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
        return this._channels.unsubscribe(channel, subscription);
      }

      var channels = [].concat(response.subscription);
      this.info(&#x27;Subscription acknowledged for ? to ?&#x27;, this._dispatcher.clientId, channels);
      subscription.setDeferredStatus(&#x27;succeeded&#x27;);
    }, this);
  }, this);

  return subscription;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        this._state = this.CONNECTED;
	        this._dispatcher.clientId  = response.clientId;
	
	        this._dispatcher.selectTransport(response.supportedConnectionTypes);
	
	        this.info(&#x27;Handshake successful: ?&#x27;, this._dispatcher.clientId);
	
	        this.<span class="apidocCodeKeywordSpan">subscribe</span>(this._channels.getKeys(), true);
	        if (callback) asap(function() { callback.call(context) });
	
	      } else {
	        this.info(&#x27;Handshake unsuccessful&#x27;);
	        global.setTimeout(function() { self.handshake(callback, context) }, this._dispatcher.retry * 1000);
	        this._state = this.UNCONNECTED;
	      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.then" id="apidoc.element.faye.Client.prototype.then">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>then
        <span class="apidocSignatureSpan">(callback, errback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (callback, errback) {
  var self = this;
  if (!this._promise)
    this._promise = new Promise(function(resolve, reject) {
      self._resolve = resolve;
      self._reject  = reject;
    });

  if (arguments.length === 0)
    return this._promise;
  else
    return this._promise.then(callback, errback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  var next = new Promise();
	  registerOnFulfilled(this, onFulfilled, next);
	  registerOnRejected(this, onRejected, next);
	  return next;
	};
	
	Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
	  return this.<span class="apidocCodeKeywordSpan">then</span>(null, onRejected);
	};
	
	var registerOnFulfilled = function(promise, onFulfilled, next) {
	  if (typeof onFulfilled !== &#x27;function&#x27;) onFulfilled = RETURN;
	  var handler = function(value) { invoke(onFulfilled, value, next) };
	
	  if (promise._state === PENDING) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.timeout" id="apidoc.element.faye.Client.prototype.timeout">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>timeout
        <span class="apidocSignatureSpan">(seconds, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (seconds, message) {
  this.then();
  var self = this;
  this._timer = global.setTimeout(function() {
    self._reject(message);
  }, seconds * 1000);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.trigger" id="apidoc.element.faye.Client.prototype.trigger">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>trigger
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trigger = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	var Channel = Class({
	  initialize: function(name) {
	    this.id = this.name = name;
	  },
	
	  push: function(message) {
	    this.<span class="apidocCodeKeywordSpan">trigger</span>(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.countListeners(&#x27;message&#x27;) === 0;
	  }
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.unbind" id="apidoc.element.faye.Client.prototype.unbind">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>unbind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unbind = function (eventType, listener, context) {
  this._listeners = this._listeners || [];
  var n = this._listeners.length, tuple;

  while (n--) {
    tuple = this._listeners[n];
    if (tuple[0] !== eventType) continue;
    if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
    this._listeners.splice(n, 1);
    this.removeListener(eventType, tuple[3]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel.bind(&#x27;message&#x27;, subscription);
	      }
	    },
	
	    unsubscribe: function(name, subscription) {
	      var channel = this._channels[name];
	      if (!channel) return false;
	      channel.<span class="apidocCodeKeywordSpan">unbind</span>(&#x27;message&#x27;, subscription);
	
	      if (channel.isUnused()) {
	        this.remove(name);
	        return true;
	      } else {
	        return false;
	      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.unsubscribe" id="apidoc.element.faye.Client.prototype.unsubscribe">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>unsubscribe
        <span class="apidocSignatureSpan">(channel, subscription)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsubscribe = function (channel, subscription) {
  if (channel instanceof Array)
    return array.map(channel, function(c) {
      return this.unsubscribe(c, subscription);
    }, this);

  var dead = this._channels.unsubscribe(channel, subscription);
  if (!dead) return;

  this.connect(function() {
    this.info(&#x27;Client ? attempting to unsubscribe from ?&#x27;, this._dispatcher.clientId, channel);

    this._sendMessage({
      channel:      Channel.UNSUBSCRIBE,
      clientId:     this._dispatcher.clientId,
      subscription: channel

    }, {}, function(response) {
      if (!response.successful) return;

      var channels = [].concat(response.subscription);
      this.info(&#x27;Unsubscription acknowledged for ? from ?&#x27;, this._dispatcher.clientId, channels);
    }, this);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel:      Channel.SUBSCRIBE,
	        clientId:     this._dispatcher.clientId,
	        subscription: channel
	
	      }, {}, function(response) {
	        if (!response.successful) {
	          subscription.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	          return this._channels.<span class="apidocCodeKeywordSpan">unsubscribe</span>(channel, subscription);
	        }
	
	        var channels = [].concat(response.subscription);
	        this.info(&#x27;Subscription acknowledged for ? to ?&#x27;, this._dispatcher.clientId, channels);
	        subscription.setDeferredStatus(&#x27;succeeded&#x27;);
	      }, this);
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.warn" id="apidoc.element.faye.Client.prototype.warn">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>warn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      } else if (keys.length &#x3e; 1) {
	        proxy = env[name];
	      }
	      proxy = proxy || env[&#x27;CGI_&#x27; + upcase];
	    } else {
	      proxy = env[name] || env[upcase];
	      if (proxy &#x26;&#x26; !env[name])
	        console.<span class="apidocCodeKeywordSpan">warn</span>(&#x27;The environment variable &#x27; + upcase +
	                     &#x27; is discouraged. Use &#x27; + name + &#x27;.&#x27;);
	    }
	    return proxy;
	  }
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Client.prototype.writeLog" id="apidoc.element.faye.Client.prototype.writeLog">
        function <span class="apidocSignatureSpan">faye.Client.prototype.</span>writeLog
        <span class="apidocSignatureSpan">(messageArgs, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeLog = function (messageArgs, level) {
  var logger = Logging.logger || (Logging.wrapper || Logging).logger;
  if (!logger) return;

  var args   = Array.prototype.slice.apply(messageArgs),
      banner = &#x27;[Faye&#x27;,
      klass  = this.className,

      message = args.shift().replace(/\?/g, function() {
        try {
          return toJSON(args.shift());
        } catch (error) {
          return &#x27;[Object]&#x27;;
        }
      });

  if (klass) banner += &#x27;.&#x27; + klass;
  banner += &#x27;] &#x27;;

  if (typeof logger[level] === &#x27;function&#x27;)
    logger[level](banner + message);
  else if (typeof logger === &#x27;function&#x27;)
    logger(banner + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      logger(banner + message);
	  }
	};
	
	for (var key in Logging.LOG_LEVELS)
	  (function(level) {
	    Logging[level] = function() {
	      this.<span class="apidocCodeKeywordSpan">writeLog</span>(arguments, level);
	    };
	  })(key);
	
	module.exports = Logging;


/***/ },
...</pre></li>
    </ul>


























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.NodeAdapter" id="apidoc.module.faye.NodeAdapter">module faye.NodeAdapter</a></h1>


    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.NodeAdapter" id="apidoc.element.faye.NodeAdapter.NodeAdapter">
        function <span class="apidocSignatureSpan">faye.</span>NodeAdapter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NodeAdapter = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.NodeAdapter.prototype" id="apidoc.module.faye.NodeAdapter.prototype">module faye.NodeAdapter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype._callWithParams" id="apidoc.element.faye.NodeAdapter.prototype._callWithParams">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_callWithParams
        <span class="apidocSignatureSpan">(request, response, params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_callWithParams = function (request, response, params) {
  if (!params.message)
    return this._returnError(response, {message: &#x27;Received request with no message: &#x27; + this._formatRequest(request)});

  try {
    this.debug(&#x27;Received message via HTTP &#x27; + request.method + &#x27;: ?&#x27;, params.message);

    var message = this._parseJSON(params.message),
        jsonp   = params.jsonp || constants.JSONP_CALLBACK,
        isGet   = (request.method === &#x27;GET&#x27;),
        type    = isGet ? contenttypes.TYPE_SCRIPT : contenttypes.TYPE_JSON,
        headers = extend({}, type),
        origin  = request.headers.origin;

    if (!this.VALID_JSONP_CALLBACK.test(jsonp))
      return this._returnError(response, {message: &#x27;Invalid JSON-P callback: &#x27; + jsonp});

    if (origin) headers[&#x27;Access-Control-Allow-Origin&#x27;] = origin;
    headers[&#x27;Cache-Control&#x27;] = &#x27;no-cache, no-store&#x27;;
    headers[&#x27;X-Content-Type-Options&#x27;] = &#x27;nosniff&#x27;;

    this._server.process(message, request, function(replies) {
      var body = toJSON(replies);

      if (isGet) {
        body = &#x27;/**/&#x27; + jsonp + &#x27;(&#x27; + this._jsonpEscape(body) + &#x27;);&#x27;;
        headers[&#x27;Content-Disposition&#x27;] = &#x27;attachment; filename=f.txt&#x27;;
      }

      headers[&#x27;Content-Length&#x27;] = new Buffer(body, &#x27;utf8&#x27;).length.toString();

      this.debug(&#x27;HTTP response: ?&#x27;, body);
      response.writeHead(200, headers);
      response.end(body);
    }, this);
  } catch (error) {
    this._returnError(response, error);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype._concatStream" id="apidoc.element.faye.NodeAdapter.prototype._concatStream">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_concatStream
        <span class="apidocSignatureSpan">(stream, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_concatStream = function (stream, callback, context) {
  var chunks = [],
      length = 0;

  stream.on(&#x27;data&#x27;, function(chunk) {
    chunks.push(chunk);
    length += chunk.length;
  });

  stream.on(&#x27;end&#x27;, function() {
    var buffer = new Buffer(length),
        offset = 0;

    for (var i = 0, n = chunks.length; i &#x3c; n; i++) {
      chunks[i].copy(buffer, offset);
      offset += chunks[i].length;
    }
    callback.call(context, buffer.toString(&#x27;utf8&#x27;));
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype._formatRequest" id="apidoc.element.faye.NodeAdapter.prototype._formatRequest">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_formatRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_formatRequest = function (request) {
  var method = request.method.toUpperCase(),
      string = &#x27;curl -X &#x27; + method;

  string += &#x22; &#x27;http://&#x22; + request.headers.host + request.url + &#x22;&#x27;&#x22;;
  if (method === &#x27;POST&#x27;) {
    string += &#x22; -H &#x27;Content-Type: &#x22; + request.headers[&#x27;content-type&#x27;] + &#x22;&#x27;&#x22;;
    string += &#x22; -d &#x27;&#x22; + request.body + &#x22;&#x27;&#x22;;
  }
  return string;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype._handleOptions" id="apidoc.element.faye.NodeAdapter.prototype._handleOptions">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_handleOptions
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleOptions = function (response) {
  var headers = {
    &#x27;Access-Control-Allow-Credentials&#x27;: &#x27;false&#x27;,
    &#x27;Access-Control-Allow-Headers&#x27;:     &#x27;Accept, Authorization, Content-Type, Pragma, X-Requested-With&#x27;,
    &#x27;Access-Control-Allow-Methods&#x27;:     &#x27;POST, GET&#x27;,
    &#x27;Access-Control-Allow-Origin&#x27;:      &#x27;*&#x27;,
    &#x27;Access-Control-Max-Age&#x27;:           &#x27;86400&#x27;
  };

  response.writeHead(200, headers);
  response.end(&#x27;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype._jsonpEscape" id="apidoc.element.faye.NodeAdapter.prototype._jsonpEscape">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_jsonpEscape
        <span class="apidocSignatureSpan">(json)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_jsonpEscape = function (json) {
  return json.replace(/\u2028/g, &#x27;\\u2028&#x27;).replace(/\u2029/g, &#x27;\\u2029&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype._overrideListeners" id="apidoc.element.faye.NodeAdapter.prototype._overrideListeners">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_overrideListeners
        <span class="apidocSignatureSpan">(httpServer, event, method)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_overrideListeners = function (httpServer, event, method) {
  var listeners = httpServer.listeners(event),
      self      = this;

  httpServer.removeAllListeners(event);

  httpServer.on(event, function(request) {
    if (self.check(request)) return self[method].apply(self, arguments);

    for (var i = 0, n = listeners.length; i &#x3c; n; i++)
      listeners[i].apply(this, arguments);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype._parseJSON" id="apidoc.element.faye.NodeAdapter.prototype._parseJSON">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_parseJSON
        <span class="apidocSignatureSpan">(json)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseJSON = function (json) {
  var data = JSON.parse(json);
  if (typeof data === &#x27;object&#x27;) return data;
  throw new SyntaxError(&#x27;JSON messages must contain an object or array&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype._returnError" id="apidoc.element.faye.NodeAdapter.prototype._returnError">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>_returnError
        <span class="apidocSignatureSpan">(response, error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_returnError = function (response, error) {
  var message = error.message;
  if (error.stack) message += &#x27;\nBacktrace:\n&#x27; + error.stack;
  this.error(message);

  if (!response) return;

  response.writeHead(400, contenttypes.TYPE_TEXT);
  response.end(&#x27;Bad request&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.addExtension" id="apidoc.element.faye.NodeAdapter.prototype.addExtension">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>addExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addExtension = function (extension) {
  return this._server.addExtension(extension);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.addListener" id="apidoc.element.faye.NodeAdapter.prototype.addListener">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>addListener
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.addWebsocketExtension" id="apidoc.element.faye.NodeAdapter.prototype.addWebsocketExtension">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>addWebsocketExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addWebsocketExtension = function (extension) {
  this._extensions.push(extension);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.<span class="apidocCodeKeywordSpan">addWebsocketExtension</span>(extension);
	  },
	
	  disable: function(feature) {
	    return this._dispatcher.disable(feature);
	  },
	
	  setHeader: function(name, value) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.attach" id="apidoc.element.faye.NodeAdapter.prototype.attach">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>attach
        <span class="apidocSignatureSpan">(httpServer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attach = function (httpServer) {
  this._overrideListeners(httpServer, &#x27;request&#x27;, &#x27;handle&#x27;);
  this._overrideListeners(httpServer, &#x27;upgrade&#x27;, &#x27;handleUpgrade&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.bind" id="apidoc.element.faye.NodeAdapter.prototype.bind">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>bind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._advice = {
	      reconnect: this.RETRY,
	      interval:  1000 * (options.interval || this.INTERVAL),
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.<span class="apidocCodeKeywordSpan">bind</span>(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.check" id="apidoc.element.faye.NodeAdapter.prototype.check">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>check
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">check = function (request) {
  var path = url.parse(request.url, true).pathname;
  return !!this._endpointRe.test(path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.close" id="apidoc.element.faye.NodeAdapter.prototype.close">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  return this._server.close();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._sendMessage({
	      channel:  Channel.DISCONNECT,
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.<span class="apidocCodeKeywordSpan">close</span>();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.countListeners" id="apidoc.element.faye.NodeAdapter.prototype.countListeners">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>countListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">countListeners = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  push: function(message) {
	    this.trigger(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.<span class="apidocCodeKeywordSpan">countListeners</span>(&#x27;message&#x27;) === 0;
	  }
	});
	
	extend(Channel.prototype, Publisher);
	
	extend(Channel, {
	  HANDSHAKE:    &#x27;/meta/handshake&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.debug" id="apidoc.element.faye.NodeAdapter.prototype.debug">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.get(this, transportTypes, this._disabled, function(transport) {
	      this.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI
.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.emit" id="apidoc.element.faye.NodeAdapter.prototype.emit">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>emit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  } else {
	    return false;
	  }
	};
	
	// EventEmitter is defined in src/node_events.cc
	// EventEmitter.prototype.<span class="apidocCodeKeywordSpan">emit</span>() is also defined there.
	EventEmitter.prototype.addListener = function(type, listener) {
	  if (&#x27;function&#x27; !== typeof listener) {
	    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
	  }
	
	  if (!this._events) this._events = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.error" id="apidoc.element.faye.NodeAdapter.prototype.error">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.fatal" id="apidoc.element.faye.NodeAdapter.prototype.fatal">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>fatal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.getClient" id="apidoc.element.faye.NodeAdapter.prototype.getClient">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>getClient
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getClient = function () {
  return this._client = this._client || new Client(this._server);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.handle" id="apidoc.element.faye.NodeAdapter.prototype.handle">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>handle
        <span class="apidocSignatureSpan">(request, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handle = function (request, response) {
  var requestUrl    = url.parse(request.url, true),
      requestMethod = request.method,
      self          = this;

  request.originalUrl = request.url;

  request.on(&#x27;error&#x27;, function(error) { self._returnError(response, error) });
  response.on(&#x27;error&#x27;, function(error) { self._returnError(null, error) });

  if (this._static.test(requestUrl.pathname))
    return this._static.call(request, response);

  // http://groups.google.com/group/faye-users/browse_thread/thread/4a01bb7d25d3636a
  if (requestMethod === &#x27;OPTIONS&#x27; || request.headers[&#x27;access-control-request-method&#x27;] === &#x27;POST&#x27;)
    return this._handleOptions(response);

  if (EventSource.isEventSource(request))
    return this.handleEventSource(request, response);

  if (requestMethod === &#x27;GET&#x27;)
    return this._callWithParams(request, response, requestUrl.query);

  if (requestMethod === &#x27;POST&#x27;)
    return this._concatStream(request, function(data) {
      var type   = (request.headers[&#x27;content-type&#x27;] || &#x27;&#x27;).split(&#x27;;&#x27;)[0],
          params = (type === &#x27;application/json&#x27;)
                 ? {message: data}
                 : querystring.parse(data);

      request.body = data;
      this._callWithParams(request, response, params);
    }, this);

  this._returnError(response, {message: &#x27;Unrecognized request type&#x27;});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.handleEventSource" id="apidoc.element.faye.NodeAdapter.prototype.handleEventSource">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>handleEventSource
        <span class="apidocSignatureSpan">(request, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleEventSource = function (request, response) {
  var es       = new EventSource(request, response, {ping: this._options.ping}),
      clientId = es.url.split(&#x27;/&#x27;).pop(),
      self     = this;

  this.debug(&#x27;Opened EventSource connection for ?&#x27;, clientId);
  this._server.openSocket(clientId, es, request);

  es.onclose = function(event) {
    self._server.closeSocket(clientId);
    es = null;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.handleUpgrade" id="apidoc.element.faye.NodeAdapter.prototype.handleUpgrade">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>handleUpgrade
        <span class="apidocSignatureSpan">(request, socket, head)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleUpgrade = function (request, socket, head) {
  var options  = {extensions: this._extensions, ping: this._options.ping},
      ws       = new WebSocket(request, socket, head, [], options),
      clientId = null,
      self     = this;

  request.originalUrl = request.url;

  ws.onmessage = function(event) {
    try {
      self.debug(&#x27;Received message via WebSocket[&#x27; + ws.version + &#x27;]: ?&#x27;, event.data);

      var message = self._parseJSON(event.data),
          cid     = idFromMessages(message);

      if (clientId &#x26;&#x26; cid &#x26;&#x26; cid !== clientId) self._server.closeSocket(clientId, false);
      self._server.openSocket(cid, ws, request);
      if (cid) clientId = cid;

      self._server.process(message, request, function(replies) {
        if (ws) ws.send(toJSON(replies));
      });
    } catch (error) {
      console.log(error.stack);
      self.error(error.message + &#x27;\nBacktrace:\n&#x27; + error.stack);
    }
  };

  ws.onclose = function(event) {
    self._server.closeSocket(clientId);
    ws = null;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.info" id="apidoc.element.faye.NodeAdapter.prototype.info">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>info
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  CONNECTION_TIMEOUT: 60,
	
	  DEFAULT_ENDPOINT:   &#x27;/bayeux&#x27;,
	  INTERVAL:           0,
	
	  initialize: function(endpoint, options) {
	    this.<span class="apidocCodeKeywordSpan">info</span>(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.initialize" id="apidoc.element.faye.NodeAdapter.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>initialize
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (options) {
  this._options = options || {};
  validateOptions(this._options, [&#x27;engine&#x27;, &#x27;mount&#x27;, &#x27;ping&#x27;, &#x27;timeout&#x27;, &#x27;extensions&#x27;, &#x27;websocketExtensions&#x27;]);

  this._extensions = [];
  this._endpoint   = this._options.mount || this.DEFAULT_ENDPOINT;
  this._endpointRe = new RegExp(&#x27;^&#x27; + this._endpoint.replace(/\/$/, &#x27;&#x27;) + &#x27;(/[^/]*)*(\\.[^\\.]+)?$&#x27;);
  this._server     = Server.create(this._options);

  this._static = new StaticServer(path.join(__dirname, &#x27;..&#x27;, &#x27;..&#x27;, &#x27;client&#x27;), /\.(?:js|map)$/);
  this._static.map(path.basename(this._endpoint) + &#x27;.js&#x27;, this.SCRIPT_PATH);
  this._static.map(&#x27;client.js&#x27;, this.SCRIPT_PATH);

  var extensions = this._options.extensions,
      websocketExtensions = this._options.websocketExtensions,
      i, n;

  if (extensions) {
    extensions = [].concat(extensions);
    for (i = 0, n = extensions.length; i &#x3c; n; i++)
      this.addExtension(extensions[i]);
  }

  if (websocketExtensions) {
    websocketExtensions = [].concat(websocketExtensions);
    for (i = 0, n = websocketExtensions.length; i &#x3c; n; i++)
      this.addWebsocketExtension(websocketExtensions[i]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.listen" id="apidoc.element.faye.NodeAdapter.prototype.listen">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>listen
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listen = function () {
  throw new Error(&#x27;The listen() method is deprecated - use the attach() method to bind Faye to an http.Server&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.listeners" id="apidoc.element.faye.NodeAdapter.prototype.listeners">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>listeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listeners = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	&#x27;use strict&#x27;;
	
	var extend       = __webpack_require__(8),
	    EventEmitter = __webpack_require__(16);
	
	var Publisher = {
	  countListeners: function(eventType) {
	    return this.<span class="apidocCodeKeywordSpan">listeners</span>(eventType).length;
	  },
	
	  bind: function(eventType, listener, context) {
	    var slice   = Array.prototype.slice,
	        handler = function() { listener.apply(context, slice.call(arguments)) };
	
	    this._listeners = this._listeners || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.on" id="apidoc.element.faye.NodeAdapter.prototype.on">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>on
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.<span class="apidocCodeKeywordSpan">on</span>(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.once" id="apidoc.element.faye.NodeAdapter.prototype.once">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>once
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.removeAllListeners" id="apidoc.element.faye.NodeAdapter.prototype.removeAllListeners">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>removeAllListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.removeExtension" id="apidoc.element.faye.NodeAdapter.prototype.removeExtension">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>removeExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeExtension = function (extension) {
  return this._server.removeExtension(extension);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.removeListener" id="apidoc.element.faye.NodeAdapter.prototype.removeListener">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>removeListener
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListener = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var n = this._listeners.length, tuple;
	
	    while (n--) {
	      tuple = this._listeners[n];
	      if (tuple[0] !== eventType) continue;
	      if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
	      this._listeners.splice(n, 1);
	      this.<span class="apidocCodeKeywordSpan">removeListener</span>(eventType, tuple[3]);
	    }
	  }
	};
	
	extend(Publisher, EventEmitter.prototype);
	Publisher.trigger = Publisher.emit;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.trigger" id="apidoc.element.faye.NodeAdapter.prototype.trigger">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>trigger
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trigger = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	var Channel = Class({
	  initialize: function(name) {
	    this.id = this.name = name;
	  },
	
	  push: function(message) {
	    this.<span class="apidocCodeKeywordSpan">trigger</span>(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.countListeners(&#x27;message&#x27;) === 0;
	  }
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.unbind" id="apidoc.element.faye.NodeAdapter.prototype.unbind">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>unbind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unbind = function () {
  return this._server._engine[method].apply(this._server._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel.bind(&#x27;message&#x27;, subscription);
	      }
	    },
	
	    unsubscribe: function(name, subscription) {
	      var channel = this._channels[name];
	      if (!channel) return false;
	      channel.<span class="apidocCodeKeywordSpan">unbind</span>(&#x27;message&#x27;, subscription);
	
	      if (channel.isUnused()) {
	        this.remove(name);
	        return true;
	      } else {
	        return false;
	      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.warn" id="apidoc.element.faye.NodeAdapter.prototype.warn">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>warn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      } else if (keys.length &#x3e; 1) {
	        proxy = env[name];
	      }
	      proxy = proxy || env[&#x27;CGI_&#x27; + upcase];
	    } else {
	      proxy = env[name] || env[upcase];
	      if (proxy &#x26;&#x26; !env[name])
	        console.<span class="apidocCodeKeywordSpan">warn</span>(&#x27;The environment variable &#x27; + upcase +
	                     &#x27; is discouraged. Use &#x27; + name + &#x27;.&#x27;);
	    }
	    return proxy;
	  }
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.NodeAdapter.prototype.writeLog" id="apidoc.element.faye.NodeAdapter.prototype.writeLog">
        function <span class="apidocSignatureSpan">faye.NodeAdapter.prototype.</span>writeLog
        <span class="apidocSignatureSpan">(messageArgs, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeLog = function (messageArgs, level) {
  var logger = Logging.logger || (Logging.wrapper || Logging).logger;
  if (!logger) return;

  var args   = Array.prototype.slice.apply(messageArgs),
      banner = &#x27;[Faye&#x27;,
      klass  = this.className,

      message = args.shift().replace(/\?/g, function() {
        try {
          return toJSON(args.shift());
        } catch (error) {
          return &#x27;[Object]&#x27;;
        }
      });

  if (klass) banner += &#x27;.&#x27; + klass;
  banner += &#x27;] &#x27;;

  if (typeof logger[level] === &#x27;function&#x27;)
    logger[level](banner + message);
  else if (typeof logger === &#x27;function&#x27;)
    logger(banner + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      logger(banner + message);
	  }
	};
	
	for (var key in Logging.LOG_LEVELS)
	  (function(level) {
	    Logging[level] = function() {
	      this.<span class="apidocCodeKeywordSpan">writeLog</span>(arguments, level);
	    };
	  })(key);
	
	module.exports = Logging;


/***/ },
...</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.Scheduler" id="apidoc.module.faye.Scheduler">module faye.Scheduler</a></h1>


    <h2>
        <a href="#apidoc.element.faye.Scheduler.Scheduler" id="apidoc.element.faye.Scheduler.Scheduler">
        function <span class="apidocSignatureSpan">faye.</span>Scheduler
        <span class="apidocSignatureSpan">(message, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Scheduler = function (message, options) {
  this.message  = message;
  this.options  = options;
  this.attempts = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.Scheduler.prototype" id="apidoc.module.faye.Scheduler.prototype">module faye.Scheduler.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.Scheduler.prototype.abort" id="apidoc.element.faye.Scheduler.prototype.abort">
        function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>abort
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">abort = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (envelope.request || envelope.timer) return;
	
	    var message   = envelope.message,
	        scheduler = envelope.scheduler,
	        self      = this;
	
	    if (!scheduler.isDeliverable()) {
	      scheduler.<span class="apidocCodeKeywordSpan">abort</span>();
	      delete this._envelopes[message.id];
	      return;
	    }
	
	    envelope.timer = global.setTimeout(function() {
	      self.handleError(message);
	    }, scheduler.getTimeout() * 1000);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Scheduler.prototype.fail" id="apidoc.element.faye.Scheduler.prototype.fail">
        function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>fail
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fail = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (!request) return;
	
	    request.then(function(req) {
	      if (req &#x26;&#x26; req.abort) req.abort();
	    });
	
	    var scheduler = envelope.scheduler;
	    scheduler.<span class="apidocCodeKeywordSpan">fail</span>();
	
	    global.clearTimeout(envelope.timer);
	    envelope.request = envelope.timer = null;
	
	    if (immediate) {
	      this._sendEnvelope(envelope);
	    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Scheduler.prototype.getInterval" id="apidoc.element.faye.Scheduler.prototype.getInterval">
        function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>getInterval
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInterval = function () {
  return this.options.interval;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    if (immediate) {
	      this._sendEnvelope(envelope);
	    } else {
	      envelope.timer = global.setTimeout(function() {
	        envelope.timer = null;
	        self._sendEnvelope(envelope);
	      }, scheduler.<span class="apidocCodeKeywordSpan">getInterval</span>() * 1000);
	    }
	
	    if (this._state === this.DOWN) return;
	    this._state = this.DOWN;
	    this._client.trigger(&#x27;transport:down&#x27;);
	  }
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Scheduler.prototype.getTimeout" id="apidoc.element.faye.Scheduler.prototype.getTimeout">
        function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>getTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTimeout = function () {
  return this.options.timeout;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      scheduler.abort();
	      delete this._envelopes[message.id];
	      return;
	    }
	
	    envelope.timer = global.setTimeout(function() {
	      self.handleError(message);
	    }, scheduler.<span class="apidocCodeKeywordSpan">getTimeout</span>() * 1000);
	
	    scheduler.send();
	    envelope.request = this._transport.sendMessage(message);
	  },
	
	  handleResponse: function(reply) {
	    var envelope = this._envelopes[reply.id];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Scheduler.prototype.isDeliverable" id="apidoc.element.faye.Scheduler.prototype.isDeliverable">
        function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>isDeliverable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDeliverable = function () {
  var attempts = this.options.attempts,
      made     = this.attempts,
      deadline = this.options.deadline,
      now      = new Date().getTime();

  if (attempts !== undefined &#x26;&#x26; made &#x3e;= attempts)
    return false;

  if (deadline !== undefined &#x26;&#x26; now &#x3e; deadline)
    return false;

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (!this._transport) return;
	    if (envelope.request || envelope.timer) return;
	
	    var message   = envelope.message,
	        scheduler = envelope.scheduler,
	        self      = this;
	
	    if (!scheduler.<span class="apidocCodeKeywordSpan">isDeliverable</span>()) {
	      scheduler.abort();
	      delete this._envelopes[message.id];
	      return;
	    }
	
	    envelope.timer = global.setTimeout(function() {
	      self.handleError(message);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Scheduler.prototype.send" id="apidoc.element.faye.Scheduler.prototype.send">
        function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>send
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function () {
  this.attempts += 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      return;
	    }
	
	    envelope.timer = global.setTimeout(function() {
	      self.handleError(message);
	    }, scheduler.getTimeout() * 1000);
	
	    scheduler.<span class="apidocCodeKeywordSpan">send</span>();
	    envelope.request = this._transport.sendMessage(message);
	  },
	
	  handleResponse: function(reply) {
	    var envelope = this._envelopes[reply.id];
	
	    if (reply.successful !== undefined &#x26;&#x26; envelope) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.Scheduler.prototype.succeed" id="apidoc.element.faye.Scheduler.prototype.succeed">
        function <span class="apidocSignatureSpan">faye.Scheduler.prototype.</span>succeed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">succeed = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    envelope.request = this._transport.sendMessage(message);
	  },
	
	  handleResponse: function(reply) {
	    var envelope = this._envelopes[reply.id];
	
	    if (reply.successful !== undefined &#x26;&#x26; envelope) {
	      envelope.scheduler.<span class="apidocCodeKeywordSpan">succeed</span>();
	      delete this._envelopes[reply.id];
	      global.clearTimeout(envelope.timer);
	    }
	
	    this.trigger(&#x27;message&#x27;, reply);
	
	    if (this._state === this.UP) return;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.array" id="apidoc.module.faye.array">module faye.array</a></h1>


    <h2>
        <a href="#apidoc.element.faye.array.asyncEach" id="apidoc.element.faye.array.asyncEach">
        function <span class="apidocSignatureSpan">faye.array.</span>asyncEach
        <span class="apidocSignatureSpan">(list, iterator, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">asyncEach = function (list, iterator, callback, context) {
  var n       = list.length,
      i       = -1,
      calls   = 0,
      looping = false;

  var iterate = function() {
    calls -= 1;
    i += 1;
    if (i === n) return callback &#x26;&#x26; callback.call(context);
    iterator(list[i], resume);
  };

  var loop = function() {
    if (looping) return;
    looping = true;
    while (calls &#x3e; 0) iterate();
    looping = false;
  };

  var resume = function() {
    calls += 1;
    loop();
  };
  resume();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    return proxy;
	  }
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
	    var endpoint = dispatcher.endpoint;
	
	    array.<span class="apidocCodeKeywordSpan">asyncEach</span>(this._transports, function(pair, resume) {
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.array.commonElement" id="apidoc.element.faye.array.commonElement">
        function <span class="apidocSignatureSpan">faye.array.</span>commonElement
        <span class="apidocSignatureSpan">(lista, listb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">commonElement = function (lista, listb) {
  for (var i = 0, n = lista.length; i &#x3c; n; i++) {
    if (this.indexOf(listb, lista[i]) !== -1)
      return lista[i];
  }
  return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.array.filter" id="apidoc.element.faye.array.filter">
        function <span class="apidocSignatureSpan">faye.array.</span>filter
        <span class="apidocSignatureSpan">(array, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (array, callback, context) {
  if (array.filter) return array.filter(callback, context);
  var result = [];
  for (var i = 0, n = array.length; i &#x3c; n; i++) {
    if (callback.call(context || null, array[i], i))
      result.push(array[i]);
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        result.push(callback.call(context || null, key, object[key]));
	      }
	    }
	    return result;
	  },
	
	  filter: function(array, callback, context) {
	    if (array.filter) return array.<span class="apidocCodeKeywordSpan">filter</span>(callback, context);
	    var result = [];
	    for (var i = 0, n = array.length; i &#x3c; n; i++) {
	      if (callback.call(context || null, array[i], i))
	        result.push(array[i]);
	    }
	    return result;
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.array.indexOf" id="apidoc.element.faye.array.indexOf">
        function <span class="apidocSignatureSpan">faye.array.</span>indexOf
        <span class="apidocSignatureSpan">(list, needle)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexOf = function (list, needle) {
  if (list.indexOf) return list.indexOf(needle);

  for (var i = 0, n = list.length; i &#x3c; n; i++) {
    if (list[i] === needle) return i;
  }
  return -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.<span class="apidocCodeKeywordSpan">indexOf</span>(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#
x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.array.map" id="apidoc.element.faye.array.map">
        function <span class="apidocSignatureSpan">faye.array.</span>map
        <span class="apidocSignatureSpan">(object, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (object, callback, context) {
  if (object.map) return object.map(callback, context);
  var result = [];

  if (object instanceof Array) {
    for (var i = 0, n = object.length; i &#x3c; n; i++) {
      result.push(callback.call(context || null, object[i], i));
    }
  } else {
    for (var key in object) {
      if (!object.hasOwnProperty(key)) continue;
      result.push(callback.call(context || null, key, object[key]));
    }
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  //                * id                  MAY include:   * error
	  //                                                     * advice
	  //                                                     * ext
	  //                                                     * id
	  //                                                     * timestamp
	  subscribe: function(channel, callback, context) {
	    if (channel instanceof Array)
	      return array.<span class="apidocCodeKeywordSpan">map</span>(channel, function(c) {
	        return this.subscribe(c, callback, context);
	      }, this);
	
	    var subscription = new Subscription(this, channel, callback, context),
	        force        = (callback === true),
	        hasSubscribe = this._channels.hasSubscription(channel);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.browser_transports" id="apidoc.module.faye.browser_transports">module faye.browser_transports</a></h1>


    <h2>
        <a href="#apidoc.element.faye.browser_transports.browser_transports" id="apidoc.element.faye.browser_transports.browser_transports">
        function <span class="apidocSignatureSpan">faye.</span>browser_transports
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">browser_transports = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.get" id="apidoc.element.faye.browser_transports.get">
        function <span class="apidocSignatureSpan">faye.browser_transports.</span>get
        <span class="apidocSignatureSpan">(dispatcher, allowed, disabled, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (dispatcher, allowed, disabled, callback, context) {
  var endpoint = dispatcher.endpoint;

  array.asyncEach(this._transports, function(pair, resume) {
    var connType     = pair[0], klass = pair[1],
        connEndpoint = dispatcher.endpointFor(connType);

    if (array.indexOf(disabled, connType) &#x3e;= 0)
      return resume();

    if (array.indexOf(allowed, connType) &#x3c; 0) {
      klass.isUsable(dispatcher, connEndpoint, function() {});
      return resume();
    }

    klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
      if (!isUsable) return resume();
      var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher, connEndpoint
);
      callback.call(context, transport);
    });
  }, function() {
    throw new Error(&#x27;Could not find a usable connection type for &#x27; + URI.stringify(endpoint));
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.<span class="apidocCodeKeywordSpan">get</span>(this, transportTypes, this._disabled, function(transport) {
	      this.debug(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.getConnectionTypes" id="apidoc.element.faye.browser_transports.getConnectionTypes">
        function <span class="apidocSignatureSpan">faye.browser_transports.</span>getConnectionTypes
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getConnectionTypes = function () {
  return array.map(this._transports, function(t) { return t[0] });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this.info(&#x27;Initiating handshake with ?&#x27;, URI.stringify(this._dispatcher.endpoint));
	    this._dispatcher.selectTransport(constants.MANDATORY_CONNECTION_TYPES);
	
	    this._sendMessage({
	      channel:                  Channel.HANDSHAKE,
	      version:                  constants.BAYEUX_VERSION,
	      supportedConnectionTypes: this._dispatcher.<span class="apidocCodeKeywordSpan">getConnectionTypes</span>()
	
	    }, {}, function(response) {
	
	      if (response.successful) {
	        this._state = this.CONNECTED;
	        this._dispatcher.clientId  = response.clientId;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.register" id="apidoc.element.faye.browser_transports.register">
        function <span class="apidocSignatureSpan">faye.browser_transports.</span>register
        <span class="apidocSignatureSpan">(type, klass)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">register = function (type, klass) {
  this._transports.push([type, klass]);
  klass.prototype.connectionType = type;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/* 21 */
/***/ function(module, exports, __webpack_require__) {

	&#x27;use strict&#x27;;
	
	var Transport = __webpack_require__(22);
	
	Transport.<span class="apidocCodeKeywordSpan">register</span>(&#x27;websocket&#x27;, __webpack_require__(24));
	Transport.register(&#x27;eventsource&#x27;, __webpack_require__(28));
	Transport.register(&#x27;long-polling&#x27;, __webpack_require__(29));
	Transport.register(&#x27;cross-origin-long-polling&#x27;, __webpack_require__(30));
	Transport.register(&#x27;callback-polling&#x27;, __webpack_require__(31));
	
	module.exports = Transport;
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.browser_transports.prototype" id="apidoc.module.faye.browser_transports.prototype">module faye.browser_transports.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype._findProxy" id="apidoc.element.faye.browser_transports.prototype._findProxy">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_findProxy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_findProxy = function () {
  if (typeof process === &#x27;undefined&#x27;) return undefined;

  var protocol = this.endpoint.protocol;
  if (!protocol) return undefined;

  var name   = protocol.replace(/:$/, &#x27;&#x27;).toLowerCase() + &#x27;_proxy&#x27;,
      upcase = name.toUpperCase(),
      env    = process.env,
      keys, proxy;

  if (name === &#x27;http_proxy&#x27; &#x26;&#x26; env.REQUEST_METHOD) {
    keys = Object.keys(env).filter(function(k) { return /^http_proxy$/i.test(k) });
    if (keys.length === 1) {
      if (keys[0] === name &#x26;&#x26; env[upcase] === undefined)
        proxy = env[name];
    } else if (keys.length &#x3e; 1) {
      proxy = env[name];
    }
    proxy = proxy || env[&#x27;CGI_&#x27; + upcase];
  } else {
    proxy = env[name] || env[upcase];
    if (proxy &#x26;&#x26; !env[name])
      console.warn(&#x27;The environment variable &#x27; + upcase +
                   &#x27; is discouraged. Use &#x27; + name + &#x27;.&#x27;);
  }
  return proxy;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  initialize: function(dispatcher, endpoint) {
	    this._dispatcher = dispatcher;
	    this.endpoint    = endpoint;
	    this._outbox     = [];
	    this._proxy      = extend({}, this._dispatcher.proxy);
	
	    if (!this._proxy.origin)
	      this._proxy.origin = this.<span class="apidocCodeKeywordSpan">_findProxy</span>();
	  },
	
	  close: function() {},
	
	  encode: function(messages) {
	    return &#x27;&#x27;;
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype._flush" id="apidoc.element.faye.browser_transports.prototype._flush">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_flush
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_flush = function () {
  this.removeTimeout(&#x27;publish&#x27;);

  if (this._outbox.length &#x3e; 1 &#x26;&#x26; this._connectMessage)
    this._connectMessage.advice = {timeout: 0};

  this._resolvePromise(this.request(this._outbox));

  this._connectMessage = null;
  this._outbox = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    });
	  },
	
	  _publish: function(delay) {
	    this._makePromise();
	
	    this.addTimeout(&#x27;publish&#x27;, delay, function() {
	      this.<span class="apidocCodeKeywordSpan">_flush</span>();
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
	  },
	
	  _flush: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype._flushLargeBatch" id="apidoc.element.faye.browser_transports.prototype._flushLargeBatch">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_flushLargeBatch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_flushLargeBatch = function () {
  var string = this.encode(this._outbox);
  if (string.length &#x3c; this._dispatcher.maxRequestSize) return;
  var last = this._outbox.pop();

  this._makePromise();
  this._flush();

  if (last) this._outbox.push(last);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  sendMessage: function(message) {
	    this.debug(&#x27;Client ? sending message to ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), message);
	
	    if (!this.batching) return Promise.resolve(this.request([message]));
	
	    this._outbox.push(message);
	    this.<span class="apidocCodeKeywordSpan">_flushLargeBatch</span>();
	
	    if (message.channel === Channel.HANDSHAKE)
	      return this._publish(0.01);
	
	    if (message.channel === Channel.CONNECT)
	      this._connectMessage = message;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype._getCookies" id="apidoc.element.faye.browser_transports.prototype._getCookies">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_getCookies
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getCookies = function () {
  var cookies = this._dispatcher.cookies,
      url     = URI.stringify(this.endpoint);

  if (!cookies) return &#x27;&#x27;;

  return array.map(cookies.getCookiesSync(url), function(cookie) {
    return cookie.cookieString();
  }).join(&#x27;; &#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._socket.close();
	  },
	
	  _createSocket: function() {
	    var url        = WebSocket.getSocketUrl(this.endpoint),
	        headers    = this._dispatcher.headers,
	        extensions = this._dispatcher.wsExtensions,
	        cookie     = this.<span class="apidocCodeKeywordSpan">_getCookies</span>(),
	        tls        = this._dispatcher.tls,
	        options    = {extensions: extensions, headers: headers, proxy: this._proxy, tls: tls};
	
	    if (cookie !== &#x27;&#x27;) options.headers[&#x27;Cookie&#x27;] = cookie;
	
	    return ws.create(url, [], options);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype._handleError" id="apidoc.element.faye.browser_transports.prototype._handleError">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_handleError
        <span class="apidocSignatureSpan">(messages, immediate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleError = function (messages, immediate) {
  messages = [].concat(messages);

  this.debug(&#x27;Client ? failed to send to ? via ?: ?&#x27;,
             this._dispatcher.clientId, URI.stringify(this.endpoint), this.connectionType, messages);

  for (var i = 0, n = messages.length; i &#x3c; n; i++)
    this._dispatcher.handleError(messages[i]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      self.removeTimeout(&#x27;ping&#x27;);
	
	      var pending = self._pending ? self._pending.toArray() : [];
	      delete self._pending;
	
	      if (wasConnected || self._everConnected) {
	        self.setDeferredStatus(&#x27;unknown&#x27;);
	        self.<span class="apidocCodeKeywordSpan">_handleError</span>(pending, wasConnected);
	      } else {
	        self.setDeferredStatus(&#x27;failed&#x27;);
	      }
	    };
	
	    socket.onmessage = function(event) {
	      var replies;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype._makePromise" id="apidoc.element.faye.browser_transports.prototype._makePromise">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_makePromise
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_makePromise = function () {
  var self = this;

  this._requestPromise = this._requestPromise || new Promise(function(resolve) {
    self._resolvePromise = resolve;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._requestPromise = this._requestPromise || new Promise(function(resolve) {
	      self._resolvePromise = resolve;
	    });
	  },
	
	  _publish: function(delay) {
	    this.<span class="apidocCodeKeywordSpan">_makePromise</span>();
	
	    this.addTimeout(&#x27;publish&#x27;, delay, function() {
	      this._flush();
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype._publish" id="apidoc.element.faye.browser_transports.prototype._publish">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_publish
        <span class="apidocSignatureSpan">(delay)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_publish = function (delay) {
  this._makePromise();

  this.addTimeout(&#x27;publish&#x27;, delay, function() {
    this._flush();
    delete this._requestPromise;
  }, this);

  return this._requestPromise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    if (!this.batching) return Promise.resolve(this.request([message]));
	
	    this._outbox.push(message);
	    this._flushLargeBatch();
	
	    if (message.channel === Channel.HANDSHAKE)
	      return this.<span class="apidocCodeKeywordSpan">_publish</span>(0.01);
	
	    if (message.channel === Channel.CONNECT)
	      this._connectMessage = message;
	
	    return this._publish(this.MAX_DELAY);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype._receive" id="apidoc.element.faye.browser_transports.prototype._receive">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_receive
        <span class="apidocSignatureSpan">(replies)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_receive = function (replies) {
  if (!replies) return;
  replies = [].concat(replies);

  this.debug(&#x27;Client ? received from ? via ?: ?&#x27;,
             this._dispatcher.clientId, URI.stringify(this.endpoint), this.connectionType, replies);

  for (var i = 0, n = replies.length; i &#x3c; n; i++)
    this._dispatcher.handleResponse(replies[i]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	      replies = [].concat(replies);
	
	      for (var i = 0, n = replies.length; i &#x3c; n; i++) {
	        if (replies[i].successful === undefined) continue;
	        self._pending.remove(replies[i]);
	      }
	      self.<span class="apidocCodeKeywordSpan">_receive</span>(replies);
	    };
	  },
	
	  close: function() {
	    if (!this._socket) return;
	    this._socket.close();
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype._storeCookies" id="apidoc.element.faye.browser_transports.prototype._storeCookies">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>_storeCookies
        <span class="apidocSignatureSpan">(setCookie)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_storeCookies = function (setCookie) {
  var cookies = this._dispatcher.cookies,
      url     = URI.stringify(this.endpoint),
      cookie;

  if (!setCookie || !cookies) return;
  setCookie = [].concat(setCookie);

  for (var i = 0, n = setCookie.length; i &#x3c; n; i++) {
    cookie = Cookie.parse(setCookie[i]);
    cookies.setCookieSync(cookie, url);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    var socket = this._createSocket();
	    if (!socket) return this.setDeferredStatus(&#x27;failed&#x27;);
	
	    var self = this;
	
	    socket.onopen = function() {
	      if (socket.headers) self.<span class="apidocCodeKeywordSpan">_storeCookies</span>(socket.headers[&#x27;set-cookie&#x27;]);
	      self._socket = socket;
	      self._state = self.CONNECTED;
	      self._everConnected = true;
	      self._ping();
	      self.setDeferredStatus(&#x27;succeeded&#x27;, socket);
	    };
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.addTimeout" id="apidoc.element.faye.browser_transports.prototype.addTimeout">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>addTimeout
        <span class="apidocSignatureSpan">(name, delay, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addTimeout = function (name, delay, callback, context) {
  this._timeouts = this._timeouts || {};
  if (this._timeouts.hasOwnProperty(name)) return;
  var self = this;
  this._timeouts[name] = global.setTimeout(function() {
    delete self._timeouts[name];
    callback.call(context);
  }, 1000 * delay);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      self._resolvePromise = resolve;
	    });
	  },
	
	  _publish: function(delay) {
	    this._makePromise();
	
	    this.<span class="apidocCodeKeywordSpan">addTimeout</span>(&#x27;publish&#x27;, delay, function() {
	      this._flush();
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.close" id="apidoc.element.faye.browser_transports.prototype.close">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._sendMessage({
	      channel:  Channel.DISCONNECT,
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.<span class="apidocCodeKeywordSpan">close</span>();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.debug" id="apidoc.element.faye.browser_transports.prototype.debug">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.get(this, transportTypes, this._disabled, function(transport) {
	      this.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI
.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.encode" id="apidoc.element.faye.browser_transports.prototype.encode">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>encode
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">encode = function (messages) {
  return &#x27;&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
	    this._outbox = [];
	  },
	
	  _flushLargeBatch: function() {
	    var string = this.<span class="apidocCodeKeywordSpan">encode</span>(this._outbox);
	    if (string.length &#x3c; this._dispatcher.maxRequestSize) return;
	    var last = this._outbox.pop();
	
	    this._makePromise();
	    this._flush();
	
	    if (last) this._outbox.push(last);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.error" id="apidoc.element.faye.browser_transports.prototype.error">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.fatal" id="apidoc.element.faye.browser_transports.prototype.fatal">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>fatal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.info" id="apidoc.element.faye.browser_transports.prototype.info">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>info
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  CONNECTION_TIMEOUT: 60,
	
	  DEFAULT_ENDPOINT:   &#x27;/bayeux&#x27;,
	  INTERVAL:           0,
	
	  initialize: function(endpoint, options) {
	    this.<span class="apidocCodeKeywordSpan">info</span>(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.initialize" id="apidoc.element.faye.browser_transports.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>initialize
        <span class="apidocSignatureSpan">(dispatcher, endpoint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (dispatcher, endpoint) {
  this._dispatcher = dispatcher;
  this.endpoint    = endpoint;
  this._outbox     = [];
  this._proxy      = extend({}, this._dispatcher.proxy);

  if (!this._proxy.origin)
    this._proxy.origin = this._findProxy();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.removeAllTimeouts" id="apidoc.element.faye.browser_transports.prototype.removeAllTimeouts">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>removeAllTimeouts
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllTimeouts = function () {
  this._timeouts = this._timeouts || {};
  for (var name in this._timeouts) this.removeTimeout(name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Memory.create = function(server, options) {
return new Memory(server, options);
};

Memory.prototype = {
disconnect: function() {
  this.reset();
  this.<span class="apidocCodeKeywordSpan">removeAllTimeouts</span>();
},

reset: function() {
  this._namespace = new Namespace();
  this._clients   = {};
  this._channels  = {};
  this._messages  = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.removeTimeout" id="apidoc.element.faye.browser_transports.prototype.removeTimeout">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>removeTimeout
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeTimeout = function (name) {
  this._timeouts = this._timeouts || {};
  var timeout = this._timeouts[name];
  if (!timeout) return;
  global.clearTimeout(timeout);
  delete this._timeouts[name];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
	  },
	
	  _flush: function() {
	    this.<span class="apidocCodeKeywordSpan">removeTimeout</span>(&#x27;publish&#x27;);
	
	    if (this._outbox.length &#x3e; 1 &#x26;&#x26; this._connectMessage)
	      this._connectMessage.advice = {timeout: 0};
	
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.sendMessage" id="apidoc.element.faye.browser_transports.prototype.sendMessage">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>sendMessage
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendMessage = function (message) {
  this.debug(&#x27;Client ? sending message to ?: ?&#x27;,
             this._dispatcher.clientId, URI.stringify(this.endpoint), message);

  if (!this.batching) return Promise.resolve(this.request([message]));

  this._outbox.push(message);
  this._flushLargeBatch();

  if (message.channel === Channel.HANDSHAKE)
    return this._publish(0.01);

  if (message.channel === Channel.CONNECT)
    this._connectMessage = message;

  return this._publish(this.MAX_DELAY);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var timeout = this._advice.timeout
	                ? 1.2 * this._advice.timeout / 1000
	                : 1.2 * this._dispatcher.retry;
	
	    this.pipeThroughExtensions(&#x27;outgoing&#x27;, message, null, function(message) {
	      if (!message) return;
	      if (callback) this._responseCallbacks[message.id] = [callback, context];
	      this._dispatcher.<span class="apidocCodeKeywordSpan">sendMessage</span>(message, timeout, options || {});
	    }, this);
	  },
	
	  _generateMessageId: function() {
	    this._messageId += 1;
	    if (this._messageId &#x3e;= Math.pow(2,32)) this._messageId = 0;
	    return this._messageId.toString(36);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.warn" id="apidoc.element.faye.browser_transports.prototype.warn">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>warn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      } else if (keys.length &#x3e; 1) {
	        proxy = env[name];
	      }
	      proxy = proxy || env[&#x27;CGI_&#x27; + upcase];
	    } else {
	      proxy = env[name] || env[upcase];
	      if (proxy &#x26;&#x26; !env[name])
	        console.<span class="apidocCodeKeywordSpan">warn</span>(&#x27;The environment variable &#x27; + upcase +
	                     &#x27; is discouraged. Use &#x27; + name + &#x27;.&#x27;);
	    }
	    return proxy;
	  }
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.browser_transports.prototype.writeLog" id="apidoc.element.faye.browser_transports.prototype.writeLog">
        function <span class="apidocSignatureSpan">faye.browser_transports.prototype.</span>writeLog
        <span class="apidocSignatureSpan">(messageArgs, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeLog = function (messageArgs, level) {
  var logger = Logging.logger || (Logging.wrapper || Logging).logger;
  if (!logger) return;

  var args   = Array.prototype.slice.apply(messageArgs),
      banner = &#x27;[Faye&#x27;,
      klass  = this.className,

      message = args.shift().replace(/\?/g, function() {
        try {
          return toJSON(args.shift());
        } catch (error) {
          return &#x27;[Object]&#x27;;
        }
      });

  if (klass) banner += &#x27;.&#x27; + klass;
  banner += &#x27;] &#x27;;

  if (typeof logger[level] === &#x27;function&#x27;)
    logger[level](banner + message);
  else if (typeof logger === &#x27;function&#x27;)
    logger(banner + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      logger(banner + message);
	  }
	};
	
	for (var key in Logging.LOG_LEVELS)
	  (function(level) {
	    Logging[level] = function() {
	      this.<span class="apidocCodeKeywordSpan">writeLog</span>(arguments, level);
	    };
	  })(key);
	
	module.exports = Logging;


/***/ },
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.channel" id="apidoc.module.faye.channel">module faye.channel</a></h1>


    <h2>
        <a href="#apidoc.element.faye.channel.channel" id="apidoc.element.faye.channel.channel">
        function <span class="apidocSignatureSpan">faye.</span>channel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">channel = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.Set" id="apidoc.element.faye.channel.Set">
        function <span class="apidocSignatureSpan">faye.channel.</span>Set
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Set = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  initialize: function(endpoint, options) {
	    this.info(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.<span class="apidocCodeKeywordSpan">Set</span>();
	    this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);
	
	    this._messageId = 0;
	    this._state     = this.UNCONNECTED;
	
	    this._responseCallbacks = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.expand" id="apidoc.element.faye.channel.expand">
        function <span class="apidocSignatureSpan">faye.channel.</span>expand
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">expand = function (name) {
  var segments = this.parse(name),
      channels = [&#x27;/**&#x27;, name];

  var copy = segments.slice();
  copy[copy.length - 1] = &#x27;*&#x27;;
  channels.push(this.unparse(copy));

  for (var i = 1, n = segments.length; i &#x3c; n; i++) {
    copy = segments.slice(0, i);
    copy.push(&#x27;**&#x27;);
    channels.push(this.unparse(copy));
  }

  return channels;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        return true;
	      } else {
	        return false;
	      }
	    },
	
	    distributeMessage: function(message) {
	      var channels = Channel.<span class="apidocCodeKeywordSpan">expand</span>(message.channel);
	
	      for (var i = 0, n = channels.length; i &#x3c; n; i++) {
	        var channel = this._channels[channels[i]];
	        if (channel) channel.trigger(&#x27;message&#x27;, message);
	      }
	    }
	  })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.isMeta" id="apidoc.element.faye.channel.isMeta">
        function <span class="apidocSignatureSpan">faye.channel.</span>isMeta
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isMeta = function (name) {
  var segments = this.parse(name);
  return segments ? (segments[0] === this.META) : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  isService: function(name) {
	    var segments = this.parse(name);
	    return segments ? (segments[0] === this.SERVICE) : null;
	  },
	
	  isSubscribable: function(name) {
	    if (!this.isValid(name)) return null;
	    return !this.<span class="apidocCodeKeywordSpan">isMeta</span>(name) &#x26;&#x26; !this.isService(name);
	  },
	
	  Set: Class({
	    initialize: function() {
	      this._channels = {};
	    },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.isService" id="apidoc.element.faye.channel.isService">
        function <span class="apidocSignatureSpan">faye.channel.</span>isService
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isService = function (name) {
  var segments = this.parse(name);
  return segments ? (segments[0] === this.SERVICE) : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  isService: function(name) {
	    var segments = this.parse(name);
	    return segments ? (segments[0] === this.SERVICE) : null;
	  },
	
	  isSubscribable: function(name) {
	    if (!this.isValid(name)) return null;
	    return !this.isMeta(name) &#x26;&#x26; !this.<span class="apidocCodeKeywordSpan">isService</span>(name);
	  },
	
	  Set: Class({
	    initialize: function() {
	      this._channels = {};
	    },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.isSubscribable" id="apidoc.element.faye.channel.isSubscribable">
        function <span class="apidocSignatureSpan">faye.channel.</span>isSubscribable
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isSubscribable = function (name) {
  if (!this.isValid(name)) return null;
  return !this.isMeta(name) &#x26;&#x26; !this.isService(name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

response.subscription = message.subscription || [];

for (var i = 0, n = subscription.length; i &#x3c; n; i++) {
  channel = subscription[i];

  if (response.error) break;
  if (!local &#x26;&#x26; !Channel.<span class="apidocCodeKeywordSpan">isSubscribable</span>(channel)) response.error = Error.channelForbidden
(channel);
  if (!Channel.isValid(channel))                  response.error = Error.channelInvalid(channel);

  if (response.error) break;
  this._engine.subscribe(clientId, channel);
}

response.successful = !response.error;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.isValid" id="apidoc.element.faye.channel.isValid">
        function <span class="apidocSignatureSpan">faye.channel.</span>isValid
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (name) {
  return Grammar.CHANNEL_NAME.test(name) ||
         Grammar.CHANNEL_PATTERN.test(name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  isValid: function(name) {
	    return Grammar.CHANNEL_NAME.test(name) ||
	           Grammar.CHANNEL_PATTERN.test(name);
	  },
	
	  parse: function(name) {
	    if (!this.<span class="apidocCodeKeywordSpan">isValid</span>(name)) return null;
	    return name.split(&#x27;/&#x27;).slice(1);
	  },
	
	  unparse: function(segments) {
	    return &#x27;/&#x27; + segments.join(&#x27;/&#x27;);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.parse" id="apidoc.element.faye.channel.parse">
        function <span class="apidocSignatureSpan">faye.channel.</span>parse
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (name) {
  if (!this.isValid(name)) return null;
  return name.split(&#x27;/&#x27;).slice(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.close();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.<span class="apidocCodeKeywordSpan">parse</span>(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
	    this._channels = new Channel.Set();
	
	    return promise;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.unparse" id="apidoc.element.faye.channel.unparse">
        function <span class="apidocSignatureSpan">faye.channel.</span>unparse
        <span class="apidocSignatureSpan">(segments)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unparse = function (segments) {
  return &#x27;/&#x27; + segments.join(&#x27;/&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  expand: function(name) {
	    var segments = this.parse(name),
	        channels = [&#x27;/**&#x27;, name];
	
	    var copy = segments.slice();
	    copy[copy.length - 1] = &#x27;*&#x27;;
	    channels.push(this.<span class="apidocCodeKeywordSpan">unparse</span>(copy));
	
	    for (var i = 1, n = segments.length; i &#x3c; n; i++) {
	      copy = segments.slice(0, i);
	      copy.push(&#x27;**&#x27;);
	      channels.push(this.unparse(copy));
	    }
...</pre></li>
    </ul>
















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.channel.prototype" id="apidoc.module.faye.channel.prototype">module faye.channel.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.channel.prototype.addListener" id="apidoc.element.faye.channel.prototype.addListener">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>addListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.bind" id="apidoc.element.faye.channel.prototype.bind">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>bind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function (eventType, listener, context) {
  var slice   = Array.prototype.slice,
      handler = function() { listener.apply(context, slice.call(arguments)) };

  this._listeners = this._listeners || [];
  this._listeners.push([eventType, listener, context, handler]);
  return this.on(eventType, handler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._advice = {
	      reconnect: this.RETRY,
	      interval:  1000 * (options.interval || this.INTERVAL),
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.<span class="apidocCodeKeywordSpan">bind</span>(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.countListeners" id="apidoc.element.faye.channel.prototype.countListeners">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>countListeners
        <span class="apidocSignatureSpan">(eventType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">countListeners = function (eventType) {
  return this.listeners(eventType).length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  push: function(message) {
	    this.trigger(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.<span class="apidocCodeKeywordSpan">countListeners</span>(&#x27;message&#x27;) === 0;
	  }
	});
	
	extend(Channel.prototype, Publisher);
	
	extend(Channel, {
	  HANDSHAKE:    &#x27;/meta/handshake&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.emit" id="apidoc.element.faye.channel.prototype.emit">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>emit
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  } else {
	    return false;
	  }
	};
	
	// EventEmitter is defined in src/node_events.cc
	// EventEmitter.prototype.<span class="apidocCodeKeywordSpan">emit</span>() is also defined there.
	EventEmitter.prototype.addListener = function(type, listener) {
	  if (&#x27;function&#x27; !== typeof listener) {
	    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
	  }
	
	  if (!this._events) this._events = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.initialize" id="apidoc.element.faye.channel.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>initialize
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (name) {
  this.id = this.name = name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.isUnused" id="apidoc.element.faye.channel.prototype.isUnused">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>isUnused
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUnused = function () {
  return this.countListeners(&#x27;message&#x27;) === 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    },
	
	    unsubscribe: function(name, subscription) {
	      var channel = this._channels[name];
	      if (!channel) return false;
	      channel.unbind(&#x27;message&#x27;, subscription);
	
	      if (channel.<span class="apidocCodeKeywordSpan">isUnused</span>()) {
	        this.remove(name);
	        return true;
	      } else {
	        return false;
	      }
	    },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.listeners" id="apidoc.element.faye.channel.prototype.listeners">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>listeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listeners = function (type) {
  if (!this._events) this._events = {};
  if (!this._events[type]) this._events[type] = [];
  if (!isArray(this._events[type])) {
    this._events[type] = [this._events[type]];
  }
  return this._events[type];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	&#x27;use strict&#x27;;
	
	var extend       = __webpack_require__(8),
	    EventEmitter = __webpack_require__(16);
	
	var Publisher = {
	  countListeners: function(eventType) {
	    return this.<span class="apidocCodeKeywordSpan">listeners</span>(eventType).length;
	  },
	
	  bind: function(eventType, listener, context) {
	    var slice   = Array.prototype.slice,
	        handler = function() { listener.apply(context, slice.call(arguments)) };
	
	    this._listeners = this._listeners || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.on" id="apidoc.element.faye.channel.prototype.on">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>on
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.<span class="apidocCodeKeywordSpan">on</span>(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.once" id="apidoc.element.faye.channel.prototype.once">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>once
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (type, listener) {
  var self = this;
  self.on(type, function g() {
    self.removeListener(type, g);
    listener.apply(this, arguments);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.push" id="apidoc.element.faye.channel.prototype.push">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>push
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function (message) {
  this.trigger(&#x27;message&#x27;, message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	            // Its name will be periodically randomized to break any code that
	            // depends on its existence.
	            asap.onerror(error);
	        } else {
	            // In a web browser, exceptions are not fatal. However, to avoid
	            // slowing down the queue of pending tasks, we rethrow the error in a
	            // lower priority turn.
	            pendingErrors.<span class="apidocCodeKeywordSpan">push</span>(error);
	            requestErrorThrow();
	        }
	    } finally {
	        this.task = null;
	        freeTasks[freeTasks.length] = this;
	    }
	};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.removeAllListeners" id="apidoc.element.faye.channel.prototype.removeAllListeners">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>removeAllListeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (type) {
  if (arguments.length === 0) {
    this._events = {};
    return this;
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (type &#x26;&#x26; this._events &#x26;&#x26; this._events[type]) this._events[type] = null;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.removeListener" id="apidoc.element.faye.channel.prototype.removeListener">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>removeListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;removeListener only takes instances of Function&#x27;);
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (!this._events || !this._events[type]) return this;

  var list = this._events[type];

  if (isArray(list)) {
    var i = indexOf(list, listener);
    if (i &#x3c; 0) return this;
    list.splice(i, 1);
    if (list.length == 0)
      delete this._events[type];
  } else if (this._events[type] === listener) {
    delete this._events[type];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var n = this._listeners.length, tuple;
	
	    while (n--) {
	      tuple = this._listeners[n];
	      if (tuple[0] !== eventType) continue;
	      if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
	      this._listeners.splice(n, 1);
	      this.<span class="apidocCodeKeywordSpan">removeListener</span>(eventType, tuple[3]);
	    }
	  }
	};
	
	extend(Publisher, EventEmitter.prototype);
	Publisher.trigger = Publisher.emit;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.trigger" id="apidoc.element.faye.channel.prototype.trigger">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>trigger
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trigger = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	var Channel = Class({
	  initialize: function(name) {
	    this.id = this.name = name;
	  },
	
	  push: function(message) {
	    this.<span class="apidocCodeKeywordSpan">trigger</span>(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.countListeners(&#x27;message&#x27;) === 0;
	  }
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.channel.prototype.unbind" id="apidoc.element.faye.channel.prototype.unbind">
        function <span class="apidocSignatureSpan">faye.channel.prototype.</span>unbind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unbind = function (eventType, listener, context) {
  this._listeners = this._listeners || [];
  var n = this._listeners.length, tuple;

  while (n--) {
    tuple = this._listeners[n];
    if (tuple[0] !== eventType) continue;
    if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
    this._listeners.splice(n, 1);
    this.removeListener(eventType, tuple[3]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel.bind(&#x27;message&#x27;, subscription);
	      }
	    },
	
	    unsubscribe: function(name, subscription) {
	      var channel = this._channels[name];
	      if (!channel) return false;
	      channel.<span class="apidocCodeKeywordSpan">unbind</span>(&#x27;message&#x27;, subscription);
	
	      if (channel.isUnused()) {
	        this.remove(name);
	        return true;
	      } else {
	        return false;
	      }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.connection" id="apidoc.module.faye.connection">module faye.connection</a></h1>


    <h2>
        <a href="#apidoc.element.faye.connection.connection" id="apidoc.element.faye.connection.connection">
        function <span class="apidocSignatureSpan">faye.</span>connection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connection = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  this.debug(&#x27;Created new engine: ?&#x27;, this._options);
},

connect: function(clientId, options, callback, context) {
  this.debug(&#x27;Accepting connection from ?&#x27;, clientId);
  this._engine.ping(clientId);
  var conn = this.<span class="apidocCodeKeywordSpan">connection</span>(clientId, true);
  conn.connect(options, callback, context);
  this._engine.emptyQueue(clientId);
},

hasConnection: function(clientId) {
  return this._connections.hasOwnProperty(clientId);
},
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.connection.prototype" id="apidoc.module.faye.connection.prototype">module faye.connection.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.connection.prototype._beginConnectionTimeout" id="apidoc.element.faye.connection.prototype._beginConnectionTimeout">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>_beginConnectionTimeout
        <span class="apidocSignatureSpan">(timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_beginConnectionTimeout = function (timeout) {
  this.addTimeout(&#x27;connection&#x27;, timeout, this.flush, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
options = options || {};
var timeout = (options.timeout !== undefined) ? options.timeout / 1000 : this._engine.timeout;

this.setDeferredStatus(&#x27;unknown&#x27;);
this.callback(callback, context);

this._beginDeliveryTimeout();
this.<span class="apidocCodeKeywordSpan">_beginConnectionTimeout</span>(timeout);
  },

  flush: function() {
this.removeTimeout(&#x27;connection&#x27;);
this.removeTimeout(&#x27;delivery&#x27;);

this.setDeferredStatus(&#x27;succeeded&#x27;, this._inbox);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype._beginDeliveryTimeout" id="apidoc.element.faye.connection.prototype._beginDeliveryTimeout">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>_beginDeliveryTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_beginDeliveryTimeout = function () {
  if (this._inbox.length === 0) return;
  this.addTimeout(&#x27;delivery&#x27;, this._engine.MAX_DELAY, this.flush, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._inbox   = [];
  },

  deliver: function(message) {
delete message.clientId;
if (this.socket) return this.socket.send(message);
this._inbox.push(message);
this.<span class="apidocCodeKeywordSpan">_beginDeliveryTimeout</span>();
  },

  connect: function(options, callback, context) {
options = options || {};
var timeout = (options.timeout !== undefined) ? options.timeout / 1000 : this._engine.timeout;

this.setDeferredStatus(&#x27;unknown&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.addTimeout" id="apidoc.element.faye.connection.prototype.addTimeout">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>addTimeout
        <span class="apidocSignatureSpan">(name, delay, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addTimeout = function (name, delay, callback, context) {
  this._timeouts = this._timeouts || {};
  if (this._timeouts.hasOwnProperty(name)) return;
  var self = this;
  this._timeouts[name] = global.setTimeout(function() {
    delete self._timeouts[name];
    callback.call(context);
  }, 1000 * delay);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      self._resolvePromise = resolve;
	    });
	  },
	
	  _publish: function(delay) {
	    this._makePromise();
	
	    this.<span class="apidocCodeKeywordSpan">addTimeout</span>(&#x27;publish&#x27;, delay, function() {
	      this._flush();
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.callback" id="apidoc.element.faye.connection.prototype.callback">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>callback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">callback = function (callback, context) {
  return this.then(function(value) { callback.call(context, value) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.<span class="apidocCodeKeywordSpan">callback</span>(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.connect" id="apidoc.element.faye.connection.prototype.connect">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>connect
        <span class="apidocSignatureSpan">(options, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (options, callback, context) {
  options = options || {};
  var timeout = (options.timeout !== undefined) ? options.timeout / 1000 : this._engine.timeout;

  this.setDeferredStatus(&#x27;unknown&#x27;);
  this.callback(callback, context);

  this._beginDeliveryTimeout();
  this._beginConnectionTimeout(timeout);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  //                                                     * id
	  //                                                     * timestamp
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.<span class="apidocCodeKeywordSpan">connect</span>(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.deliver" id="apidoc.element.faye.connection.prototype.deliver">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>deliver
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deliver = function (message) {
  delete message.clientId;
  if (this.socket) return this.socket.send(message);
  this._inbox.push(message);
  this._beginDeliveryTimeout();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }, this);

    this._server.trigger(&#x27;publish&#x27;, message.clientId, message.channel, message.data);
  },

  emptyQueue: function(clientId) {
    if (!this._server.hasConnection(clientId)) return;
    this._server.<span class="apidocCodeKeywordSpan">deliver</span>(clientId, this._messages[clientId]);
    delete this._messages[clientId];
  }
};

extend(Memory.prototype, Timeouts);

module.exports = Memory;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.errback" id="apidoc.element.faye.connection.prototype.errback">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>errback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">errback = function (callback, context) {
  return this.then(null, function(reason) { callback.call(context, reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  CONNECTING:   2,
	  CONNECTED:    3,
	
	  batching:     false,
	
	  isUsable: function(callback, context) {
	    this.callback(function() { callback.call(context, true) });
	    this.<span class="apidocCodeKeywordSpan">errback</span>(function() { callback.call(context, false) });
	    this.connect();
	  },
	
	  request: function(messages) {
	    this._pending = this._pending || new Set();
	    for (var i = 0, n = messages.length; i &#x3c; n; i++) this._pending.add(messages[i]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.flush" id="apidoc.element.faye.connection.prototype.flush">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>flush
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">flush = function () {
  this.removeTimeout(&#x27;connection&#x27;);
  this.removeTimeout(&#x27;delivery&#x27;);

  this.setDeferredStatus(&#x27;succeeded&#x27;, this._inbox);
  this._inbox = [];

  if (!this.socket) this._engine.closeConnection(this._id);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

flushConnection: function(clientId, close) {
  if (!clientId) return;
  this.debug(&#x27;Flushing connection for ?&#x27;, clientId);
  var conn = this.connection(clientId, false);
  if (!conn) return;
  if (close === false) conn.socket = null;
  conn.<span class="apidocCodeKeywordSpan">flush</span>();
  this.closeConnection(clientId);
},

close: function() {
  for (var clientId in this._connections) this.flushConnection(clientId);
  this._engine.disconnect();
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.initialize" id="apidoc.element.faye.connection.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>initialize
        <span class="apidocSignatureSpan">(engine, id, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (engine, id, options) {
  this._engine  = engine;
  this._id      = id;
  this._options = options;
  this._inbox   = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.removeAllTimeouts" id="apidoc.element.faye.connection.prototype.removeAllTimeouts">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>removeAllTimeouts
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllTimeouts = function () {
  this._timeouts = this._timeouts || {};
  for (var name in this._timeouts) this.removeTimeout(name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Memory.create = function(server, options) {
return new Memory(server, options);
};

Memory.prototype = {
disconnect: function() {
  this.reset();
  this.<span class="apidocCodeKeywordSpan">removeAllTimeouts</span>();
},

reset: function() {
  this._namespace = new Namespace();
  this._clients   = {};
  this._channels  = {};
  this._messages  = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.removeTimeout" id="apidoc.element.faye.connection.prototype.removeTimeout">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>removeTimeout
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeTimeout = function (name) {
  this._timeouts = this._timeouts || {};
  var timeout = this._timeouts[name];
  if (!timeout) return;
  global.clearTimeout(timeout);
  delete this._timeouts[name];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
	  },
	
	  _flush: function() {
	    this.<span class="apidocCodeKeywordSpan">removeTimeout</span>(&#x27;publish&#x27;);
	
	    if (this._outbox.length &#x3e; 1 &#x26;&#x26; this._connectMessage)
	      this._connectMessage.advice = {timeout: 0};
	
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.setDeferredStatus" id="apidoc.element.faye.connection.prototype.setDeferredStatus">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>setDeferredStatus
        <span class="apidocSignatureSpan">(status, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDeferredStatus = function (status, value) {
  if (this._timer) global.clearTimeout(this._timer);

  this.then();

  if (status === &#x27;succeeded&#x27;)
    this._resolve(value);
  else if (status === &#x27;failed&#x27;)
    this._reject(value);
  else
    delete this._promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.<span class="apidocCodeKeywordSpan">setDeferredStatus</span>(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
	    this._connectRequest = true;
	
	    this.info(&#x27;Initiating connection for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.then" id="apidoc.element.faye.connection.prototype.then">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>then
        <span class="apidocSignatureSpan">(callback, errback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (callback, errback) {
  var self = this;
  if (!this._promise)
    this._promise = new Promise(function(resolve, reject) {
      self._resolve = resolve;
      self._reject  = reject;
    });

  if (arguments.length === 0)
    return this._promise;
  else
    return this._promise.then(callback, errback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  var next = new Promise();
	  registerOnFulfilled(this, onFulfilled, next);
	  registerOnRejected(this, onRejected, next);
	  return next;
	};
	
	Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
	  return this.<span class="apidocCodeKeywordSpan">then</span>(null, onRejected);
	};
	
	var registerOnFulfilled = function(promise, onFulfilled, next) {
	  if (typeof onFulfilled !== &#x27;function&#x27;) onFulfilled = RETURN;
	  var handler = function(value) { invoke(onFulfilled, value, next) };
	
	  if (promise._state === PENDING) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.connection.prototype.timeout" id="apidoc.element.faye.connection.prototype.timeout">
        function <span class="apidocSignatureSpan">faye.connection.prototype.</span>timeout
        <span class="apidocSignatureSpan">(seconds, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (seconds, message) {
  this.then();
  var self = this;
  this._timer = global.setTimeout(function() {
    self._reject(message);
  }, seconds * 1000);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.cors" id="apidoc.module.faye.cors">module faye.cors</a></h1>


    <h2>
        <a href="#apidoc.element.faye.cors.cors" id="apidoc.element.faye.cors.cors">
        function <span class="apidocSignatureSpan">faye.</span>cors
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cors = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.cors.isUsable" id="apidoc.element.faye.cors.isUsable">
        function <span class="apidocSignatureSpan">faye.cors.</span>isUsable
        <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUsable = function (dispatcher, endpoint, callback, context) {
  if (URI.isSameOrigin(endpoint))
    return callback.call(context, false);

  if (global.XDomainRequest)
    return callback.call(context, endpoint.protocol === location.protocol);

  if (global.XMLHttpRequest) {
    var xhr = new XMLHttpRequest();
    return callback.call(context, xhr.withCredentials !== undefined);
  }
  return callback.call(context, false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.<span class="apidocCodeKeywordSpan">isUsable</span>(dispatcher, connEndpoint, function() {});
	        return resume();
	      }
	
	      klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
	        if (!isUsable) return resume();
	        var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher
, connEndpoint);
	        callback.call(context, transport);
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.cors.prototype" id="apidoc.module.faye.cors.prototype">module faye.cors.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.cors.prototype.encode" id="apidoc.element.faye.cors.prototype.encode">
        function <span class="apidocSignatureSpan">faye.cors.prototype.</span>encode
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">encode = function (messages) {
  return &#x27;message=&#x27; + encodeURIComponent(toJSON(messages));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
	    this._outbox = [];
	  },
	
	  _flushLargeBatch: function() {
	    var string = this.<span class="apidocCodeKeywordSpan">encode</span>(this._outbox);
	    if (string.length &#x3c; this._dispatcher.maxRequestSize) return;
	    var last = this._outbox.pop();
	
	    this._makePromise();
	    this._flush();
	
	    if (last) this._outbox.push(last);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.cors.prototype.request" id="apidoc.element.faye.cors.prototype.request">
        function <span class="apidocSignatureSpan">faye.cors.prototype.</span>request
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (messages) {
  var xhrClass = global.XDomainRequest ? XDomainRequest : XMLHttpRequest,
      xhr      = new xhrClass(),
      id       = ++CORS._id,
      headers  = this._dispatcher.headers,
      self     = this,
      key;

  xhr.open(&#x27;POST&#x27;, URI.stringify(this.endpoint), true);

  if (xhr.setRequestHeader) {
    xhr.setRequestHeader(&#x27;Pragma&#x27;, &#x27;no-cache&#x27;);
    for (key in headers) {
      if (!headers.hasOwnProperty(key)) continue;
      xhr.setRequestHeader(key, headers[key]);
    }
  }

  var cleanUp = function() {
    if (!xhr) return false;
    CORS._pending.remove(id);
    xhr.onload = xhr.onerror = xhr.ontimeout = xhr.onprogress = null;
    xhr = null;
  };

  xhr.onload = function() {
    var replies;
    try { replies = JSON.parse(xhr.responseText) } catch (error) {}

    cleanUp();

    if (replies)
      self._receive(replies);
    else
      self._handleError(messages);
  };

  xhr.onerror = xhr.ontimeout = function() {
    cleanUp();
    self._handleError(messages);
  };

  xhr.onprogress = function() {};

  if (xhrClass === global.XDomainRequest)
    CORS._pending.add({id: id, xhr: xhr});

  xhr.send(this.encode(messages));
  return xhr;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    return &#x27;&#x27;;
	  },
	
	  sendMessage: function(message) {
	    this.debug(&#x27;Client ? sending message to ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), message);
	
	    if (!this.batching) return Promise.resolve(this.<span class="apidocCodeKeywordSpan">request</span>([message]));
	
	    this._outbox.push(message);
	    this._flushLargeBatch();
	
	    if (message.channel === Channel.HANDSHAKE)
	      return this._publish(0.01);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.deferrable" id="apidoc.module.faye.deferrable">module faye.deferrable</a></h1>


    <h2>
        <a href="#apidoc.element.faye.deferrable.callback" id="apidoc.element.faye.deferrable.callback">
        function <span class="apidocSignatureSpan">faye.deferrable.</span>callback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">callback = function (callback, context) {
  return this.then(function(value) { callback.call(context, value) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.<span class="apidocCodeKeywordSpan">callback</span>(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.deferrable.errback" id="apidoc.element.faye.deferrable.errback">
        function <span class="apidocSignatureSpan">faye.deferrable.</span>errback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">errback = function (callback, context) {
  return this.then(null, function(reason) { callback.call(context, reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  CONNECTING:   2,
	  CONNECTED:    3,
	
	  batching:     false,
	
	  isUsable: function(callback, context) {
	    this.callback(function() { callback.call(context, true) });
	    this.<span class="apidocCodeKeywordSpan">errback</span>(function() { callback.call(context, false) });
	    this.connect();
	  },
	
	  request: function(messages) {
	    this._pending = this._pending || new Set();
	    for (var i = 0, n = messages.length; i &#x3c; n; i++) this._pending.add(messages[i]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.deferrable.setDeferredStatus" id="apidoc.element.faye.deferrable.setDeferredStatus">
        function <span class="apidocSignatureSpan">faye.deferrable.</span>setDeferredStatus
        <span class="apidocSignatureSpan">(status, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDeferredStatus = function (status, value) {
  if (this._timer) global.clearTimeout(this._timer);

  this.then();

  if (status === &#x27;succeeded&#x27;)
    this._resolve(value);
  else if (status === &#x27;failed&#x27;)
    this._reject(value);
  else
    delete this._promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.<span class="apidocCodeKeywordSpan">setDeferredStatus</span>(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
	    this._connectRequest = true;
	
	    this.info(&#x27;Initiating connection for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.deferrable.then" id="apidoc.element.faye.deferrable.then">
        function <span class="apidocSignatureSpan">faye.deferrable.</span>then
        <span class="apidocSignatureSpan">(callback, errback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (callback, errback) {
  var self = this;
  if (!this._promise)
    this._promise = new Promise(function(resolve, reject) {
      self._resolve = resolve;
      self._reject  = reject;
    });

  if (arguments.length === 0)
    return this._promise;
  else
    return this._promise.then(callback, errback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  var next = new Promise();
	  registerOnFulfilled(this, onFulfilled, next);
	  registerOnRejected(this, onRejected, next);
	  return next;
	};
	
	Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
	  return this.<span class="apidocCodeKeywordSpan">then</span>(null, onRejected);
	};
	
	var registerOnFulfilled = function(promise, onFulfilled, next) {
	  if (typeof onFulfilled !== &#x27;function&#x27;) onFulfilled = RETURN;
	  var handler = function(value) { invoke(onFulfilled, value, next) };
	
	  if (promise._state === PENDING) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.deferrable.timeout" id="apidoc.element.faye.deferrable.timeout">
        function <span class="apidocSignatureSpan">faye.deferrable.</span>timeout
        <span class="apidocSignatureSpan">(seconds, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (seconds, message) {
  this.then();
  var self = this;
  this._timer = global.setTimeout(function() {
    self._reject(message);
  }, seconds * 1000);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.dispatcher" id="apidoc.module.faye.dispatcher">module faye.dispatcher</a></h1>


    <h2>
        <a href="#apidoc.element.faye.dispatcher.dispatcher" id="apidoc.element.faye.dispatcher.dispatcher">
        function <span class="apidocSignatureSpan">faye.</span>dispatcher
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dispatcher = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.create" id="apidoc.element.faye.dispatcher.create">
        function <span class="apidocSignatureSpan">faye.dispatcher.</span>create
        <span class="apidocSignatureSpan">(client, endpoint, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (client, endpoint, options) {
  return new Dispatcher(client, endpoint, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  initialize: function(endpoint, options) {
	    this.info(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.<span class="apidocCodeKeywordSpan">create</span>(this, endpoint || this.DEFAULT_ENDPOINT, options
);
	
	    this._messageId = 0;
	    this._state     = this.UNCONNECTED;
	
	    this._responseCallbacks = {};
	
	    this._advice = {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.dispatcher.prototype" id="apidoc.module.faye.dispatcher.prototype">module faye.dispatcher.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype._sendEnvelope" id="apidoc.element.faye.dispatcher.prototype._sendEnvelope">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>_sendEnvelope
        <span class="apidocSignatureSpan">(envelope)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_sendEnvelope = function (envelope) {
  if (!this._transport) return;
  if (envelope.request || envelope.timer) return;

  var message   = envelope.message,
      scheduler = envelope.scheduler,
      self      = this;

  if (!scheduler.isDeliverable()) {
    scheduler.abort();
    delete this._envelopes[message.id];
    return;
  }

  envelope.timer = global.setTimeout(function() {
    self.handleError(message);
  }, scheduler.getTimeout() * 1000);

  scheduler.send();
  envelope.request = this._transport.sendMessage(message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        scheduler;
	
	    if (!envelope) {
	      scheduler = new this._scheduler(message, {timeout: timeout, interval: this.retry, attempts: attempts, deadline: deadline});
	      envelope  = this._envelopes[id] = {message: message, scheduler: scheduler};
	    }
	
	    this.<span class="apidocCodeKeywordSpan">_sendEnvelope</span>(envelope);
	  },
	
	  _sendEnvelope: function(envelope) {
	    if (!this._transport) return;
	    if (envelope.request || envelope.timer) return;
	
	    var message   = envelope.message,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.addListener" id="apidoc.element.faye.dispatcher.prototype.addListener">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>addListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.addWebsocketExtension" id="apidoc.element.faye.dispatcher.prototype.addWebsocketExtension">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>addWebsocketExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addWebsocketExtension = function (extension) {
  this.wsExtensions.push(extension);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.<span class="apidocCodeKeywordSpan">addWebsocketExtension</span>(extension);
	  },
	
	  disable: function(feature) {
	    return this._dispatcher.disable(feature);
	  },
	
	  setHeader: function(name, value) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.bind" id="apidoc.element.faye.dispatcher.prototype.bind">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>bind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function (eventType, listener, context) {
  var slice   = Array.prototype.slice,
      handler = function() { listener.apply(context, slice.call(arguments)) };

  this._listeners = this._listeners || [];
  this._listeners.push([eventType, listener, context, handler]);
  return this.on(eventType, handler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._advice = {
	      reconnect: this.RETRY,
	      interval:  1000 * (options.interval || this.INTERVAL),
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.<span class="apidocCodeKeywordSpan">bind</span>(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.close" id="apidoc.element.faye.dispatcher.prototype.close">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  var transport = this._transport;
  delete this._transport;
  if (transport) transport.close();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._sendMessage({
	      channel:  Channel.DISCONNECT,
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.<span class="apidocCodeKeywordSpan">close</span>();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.countListeners" id="apidoc.element.faye.dispatcher.prototype.countListeners">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>countListeners
        <span class="apidocSignatureSpan">(eventType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">countListeners = function (eventType) {
  return this.listeners(eventType).length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  push: function(message) {
	    this.trigger(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.<span class="apidocCodeKeywordSpan">countListeners</span>(&#x27;message&#x27;) === 0;
	  }
	});
	
	extend(Channel.prototype, Publisher);
	
	extend(Channel, {
	  HANDSHAKE:    &#x27;/meta/handshake&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.debug" id="apidoc.element.faye.dispatcher.prototype.debug">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.get(this, transportTypes, this._disabled, function(transport) {
	      this.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI
.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.disable" id="apidoc.element.faye.dispatcher.prototype.disable">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>disable
        <span class="apidocSignatureSpan">(feature)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disable = function (feature) {
  this._disabled.push(feature);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
	  },
	
	  disable: function(feature) {
	    return this._dispatcher.<span class="apidocCodeKeywordSpan">disable</span>(feature);
	  },
	
	  setHeader: function(name, value) {
	    return this._dispatcher.setHeader(name, value);
	  },
	
	  // Request
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.emit" id="apidoc.element.faye.dispatcher.prototype.emit">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>emit
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  } else {
	    return false;
	  }
	};
	
	// EventEmitter is defined in src/node_events.cc
	// EventEmitter.prototype.<span class="apidocCodeKeywordSpan">emit</span>() is also defined there.
	EventEmitter.prototype.addListener = function(type, listener) {
	  if (&#x27;function&#x27; !== typeof listener) {
	    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
	  }
	
	  if (!this._events) this._events = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.endpointFor" id="apidoc.element.faye.dispatcher.prototype.endpointFor">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>endpointFor
        <span class="apidocSignatureSpan">(connectionType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">endpointFor = function (connectionType) {
  return this._alternates[connectionType] || this.endpoint;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
	    var endpoint = dispatcher.endpoint;
	
	    array.asyncEach(this._transports, function(pair, resume) {
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.<span class="apidocCodeKeywordSpan">endpointFor</span>(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.isUsable(dispatcher, connEndpoint, function() {});
	        return resume();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.error" id="apidoc.element.faye.dispatcher.prototype.error">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.fatal" id="apidoc.element.faye.dispatcher.prototype.fatal">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>fatal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.getConnectionTypes" id="apidoc.element.faye.dispatcher.prototype.getConnectionTypes">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>getConnectionTypes
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getConnectionTypes = function () {
  return Transport.getConnectionTypes();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this.info(&#x27;Initiating handshake with ?&#x27;, URI.stringify(this._dispatcher.endpoint));
	    this._dispatcher.selectTransport(constants.MANDATORY_CONNECTION_TYPES);
	
	    this._sendMessage({
	      channel:                  Channel.HANDSHAKE,
	      version:                  constants.BAYEUX_VERSION,
	      supportedConnectionTypes: this._dispatcher.<span class="apidocCodeKeywordSpan">getConnectionTypes</span>()
	
	    }, {}, function(response) {
	
	      if (response.successful) {
	        this._state = this.CONNECTED;
	        this._dispatcher.clientId  = response.clientId;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.handleError" id="apidoc.element.faye.dispatcher.prototype.handleError">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>handleError
        <span class="apidocSignatureSpan">(message, immediate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleError = function (message, immediate) {
  var envelope = this._envelopes[message.id],
      request  = envelope &#x26;&#x26; envelope.request,
      self     = this;

  if (!request) return;

  request.then(function(req) {
    if (req &#x26;&#x26; req.abort) req.abort();
  });

  var scheduler = envelope.scheduler;
  scheduler.fail();

  global.clearTimeout(envelope.timer);
  envelope.request = envelope.timer = null;

  if (immediate) {
    this._sendEnvelope(envelope);
  } else {
    envelope.timer = global.setTimeout(function() {
      envelope.timer = null;
      self._sendEnvelope(envelope);
    }, scheduler.getInterval() * 1000);
  }

  if (this._state === this.DOWN) return;
  this._state = this.DOWN;
  this._client.trigger(&#x27;transport:down&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (!scheduler.isDeliverable()) {
	      scheduler.abort();
	      delete this._envelopes[message.id];
	      return;
	    }
	
	    envelope.timer = global.setTimeout(function() {
	      self.<span class="apidocCodeKeywordSpan">handleError</span>(message);
	    }, scheduler.getTimeout() * 1000);
	
	    scheduler.send();
	    envelope.request = this._transport.sendMessage(message);
	  },
	
	  handleResponse: function(reply) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.handleResponse" id="apidoc.element.faye.dispatcher.prototype.handleResponse">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>handleResponse
        <span class="apidocSignatureSpan">(reply)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleResponse = function (reply) {
  var envelope = this._envelopes[reply.id];

  if (reply.successful !== undefined &#x26;&#x26; envelope) {
    envelope.scheduler.succeed();
    delete this._envelopes[reply.id];
    global.clearTimeout(envelope.timer);
  }

  this.trigger(&#x27;message&#x27;, reply);

  if (this._state === this.UP) return;
  this._state = this.UP;
  this._client.trigger(&#x27;transport:up&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (!replies) return;
	    replies = [].concat(replies);
	
	    this.debug(&#x27;Client ? received from ? via ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), this.connectionType, replies);
	
	    for (var i = 0, n = replies.length; i &#x3c; n; i++)
	      this._dispatcher.<span class="apidocCodeKeywordSpan">handleResponse</span>(replies[i]);
	  },
	
	  _handleError: function(messages, immediate) {
	    messages = [].concat(messages);
	
	    this.debug(&#x27;Client ? failed to send to ? via ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), this.connectionType, messages);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.info" id="apidoc.element.faye.dispatcher.prototype.info">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>info
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  CONNECTION_TIMEOUT: 60,
	
	  DEFAULT_ENDPOINT:   &#x27;/bayeux&#x27;,
	  INTERVAL:           0,
	
	  initialize: function(endpoint, options) {
	    this.<span class="apidocCodeKeywordSpan">info</span>(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.initialize" id="apidoc.element.faye.dispatcher.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>initialize
        <span class="apidocSignatureSpan">(client, endpoint, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (client, endpoint, options) {
  this._client     = client;
  this.endpoint    = URI.parse(endpoint);
  this._alternates = options.endpoints || {};

  this.cookies      = cookies.CookieJar &#x26;&#x26; new cookies.CookieJar();
  this._disabled    = [];
  this._envelopes   = {};
  this.headers      = {};
  this.retry        = options.retry || this.DEFAULT_RETRY;
  this._scheduler   = options.scheduler || Scheduler;
  this._state       = 0;
  this.transports   = {};
  this.wsExtensions = [];

  this.proxy = options.proxy || {};
  if (typeof this._proxy === &#x27;string&#x27;) this._proxy = {origin: this._proxy};

  var exts = options.websocketExtensions;
  if (exts) {
    exts = [].concat(exts);
    for (var i = 0, n = exts.length; i &#x3c; n; i++)
      this.addWebsocketExtension(exts[i]);
  }

  this.tls = options.tls || {};
  this.tls.ca = this.tls.ca || options.ca;

  for (var type in this._alternates)
    this._alternates[type] = URI.parse(this._alternates[type]);

  this.maxRequestSize = this.MAX_REQUEST_SIZE;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.listeners" id="apidoc.element.faye.dispatcher.prototype.listeners">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>listeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listeners = function (type) {
  if (!this._events) this._events = {};
  if (!this._events[type]) this._events[type] = [];
  if (!isArray(this._events[type])) {
    this._events[type] = [this._events[type]];
  }
  return this._events[type];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	&#x27;use strict&#x27;;
	
	var extend       = __webpack_require__(8),
	    EventEmitter = __webpack_require__(16);
	
	var Publisher = {
	  countListeners: function(eventType) {
	    return this.<span class="apidocCodeKeywordSpan">listeners</span>(eventType).length;
	  },
	
	  bind: function(eventType, listener, context) {
	    var slice   = Array.prototype.slice,
	        handler = function() { listener.apply(context, slice.call(arguments)) };
	
	    this._listeners = this._listeners || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.on" id="apidoc.element.faye.dispatcher.prototype.on">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>on
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.<span class="apidocCodeKeywordSpan">on</span>(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.once" id="apidoc.element.faye.dispatcher.prototype.once">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>once
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (type, listener) {
  var self = this;
  self.on(type, function g() {
    self.removeListener(type, g);
    listener.apply(this, arguments);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.removeAllListeners" id="apidoc.element.faye.dispatcher.prototype.removeAllListeners">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>removeAllListeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (type) {
  if (arguments.length === 0) {
    this._events = {};
    return this;
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (type &#x26;&#x26; this._events &#x26;&#x26; this._events[type]) this._events[type] = null;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.removeListener" id="apidoc.element.faye.dispatcher.prototype.removeListener">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>removeListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;removeListener only takes instances of Function&#x27;);
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (!this._events || !this._events[type]) return this;

  var list = this._events[type];

  if (isArray(list)) {
    var i = indexOf(list, listener);
    if (i &#x3c; 0) return this;
    list.splice(i, 1);
    if (list.length == 0)
      delete this._events[type];
  } else if (this._events[type] === listener) {
    delete this._events[type];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var n = this._listeners.length, tuple;
	
	    while (n--) {
	      tuple = this._listeners[n];
	      if (tuple[0] !== eventType) continue;
	      if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
	      this._listeners.splice(n, 1);
	      this.<span class="apidocCodeKeywordSpan">removeListener</span>(eventType, tuple[3]);
	    }
	  }
	};
	
	extend(Publisher, EventEmitter.prototype);
	Publisher.trigger = Publisher.emit;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.selectTransport" id="apidoc.element.faye.dispatcher.prototype.selectTransport">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>selectTransport
        <span class="apidocSignatureSpan">(transportTypes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">selectTransport = function (transportTypes) {
  Transport.get(this, transportTypes, this._disabled, function(transport) {
    this.debug(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI.stringify(transport.endpoint));

    if (transport === this._transport) return;
    if (this._transport) this._transport.close();

    this._transport = transport;
    this.connectionType = transport.connectionType;
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state !== this.UNCONNECTED) return;
	
	    this._state = this.CONNECTING;
	    var self = this;
	
	    this.info(&#x27;Initiating handshake with ?&#x27;, URI.stringify(this._dispatcher.endpoint));
	    this._dispatcher.<span class="apidocCodeKeywordSpan">selectTransport</span>(constants.MANDATORY_CONNECTION_TYPES);
	
	    this._sendMessage({
	      channel:                  Channel.HANDSHAKE,
	      version:                  constants.BAYEUX_VERSION,
	      supportedConnectionTypes: this._dispatcher.getConnectionTypes()
	
	    }, {}, function(response) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.sendMessage" id="apidoc.element.faye.dispatcher.prototype.sendMessage">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>sendMessage
        <span class="apidocSignatureSpan">(message, timeout, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendMessage = function (message, timeout, options) {
  options = options || {};

  var id       = message.id,
      attempts = options.attempts,
      deadline = options.deadline &#x26;&#x26; new Date().getTime() + (options.deadline * 1000),
      envelope = this._envelopes[id],
      scheduler;

  if (!envelope) {
    scheduler = new this._scheduler(message, {timeout: timeout, interval: this.retry, attempts: attempts, deadline: deadline});
    envelope  = this._envelopes[id] = {message: message, scheduler: scheduler};
  }

  this._sendEnvelope(envelope);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var timeout = this._advice.timeout
	                ? 1.2 * this._advice.timeout / 1000
	                : 1.2 * this._dispatcher.retry;
	
	    this.pipeThroughExtensions(&#x27;outgoing&#x27;, message, null, function(message) {
	      if (!message) return;
	      if (callback) this._responseCallbacks[message.id] = [callback, context];
	      this._dispatcher.<span class="apidocCodeKeywordSpan">sendMessage</span>(message, timeout, options || {});
	    }, this);
	  },
	
	  _generateMessageId: function() {
	    this._messageId += 1;
	    if (this._messageId &#x3e;= Math.pow(2,32)) this._messageId = 0;
	    return this._messageId.toString(36);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.setHeader" id="apidoc.element.faye.dispatcher.prototype.setHeader">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>setHeader
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setHeader = function (name, value) {
  this.headers[name] = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  disable: function(feature) {
	    return this._dispatcher.disable(feature);
	  },
	
	  setHeader: function(name, value) {
	    return this._dispatcher.<span class="apidocCodeKeywordSpan">setHeader</span>(name, value);
	  },
	
	  // Request
	  // MUST include:  * channel
	  //                * version
	  //                * supportedConnectionTypes
	  // MAY include:   * minimumVersion
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.trigger" id="apidoc.element.faye.dispatcher.prototype.trigger">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>trigger
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trigger = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	var Channel = Class({
	  initialize: function(name) {
	    this.id = this.name = name;
	  },
	
	  push: function(message) {
	    this.<span class="apidocCodeKeywordSpan">trigger</span>(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.countListeners(&#x27;message&#x27;) === 0;
	  }
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.unbind" id="apidoc.element.faye.dispatcher.prototype.unbind">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>unbind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unbind = function (eventType, listener, context) {
  this._listeners = this._listeners || [];
  var n = this._listeners.length, tuple;

  while (n--) {
    tuple = this._listeners[n];
    if (tuple[0] !== eventType) continue;
    if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
    this._listeners.splice(n, 1);
    this.removeListener(eventType, tuple[3]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel.bind(&#x27;message&#x27;, subscription);
	      }
	    },
	
	    unsubscribe: function(name, subscription) {
	      var channel = this._channels[name];
	      if (!channel) return false;
	      channel.<span class="apidocCodeKeywordSpan">unbind</span>(&#x27;message&#x27;, subscription);
	
	      if (channel.isUnused()) {
	        this.remove(name);
	        return true;
	      } else {
	        return false;
	      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.warn" id="apidoc.element.faye.dispatcher.prototype.warn">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>warn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      } else if (keys.length &#x3e; 1) {
	        proxy = env[name];
	      }
	      proxy = proxy || env[&#x27;CGI_&#x27; + upcase];
	    } else {
	      proxy = env[name] || env[upcase];
	      if (proxy &#x26;&#x26; !env[name])
	        console.<span class="apidocCodeKeywordSpan">warn</span>(&#x27;The environment variable &#x27; + upcase +
	                     &#x27; is discouraged. Use &#x27; + name + &#x27;.&#x27;);
	    }
	    return proxy;
	  }
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.dispatcher.prototype.writeLog" id="apidoc.element.faye.dispatcher.prototype.writeLog">
        function <span class="apidocSignatureSpan">faye.dispatcher.prototype.</span>writeLog
        <span class="apidocSignatureSpan">(messageArgs, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeLog = function (messageArgs, level) {
  var logger = Logging.logger || (Logging.wrapper || Logging).logger;
  if (!logger) return;

  var args   = Array.prototype.slice.apply(messageArgs),
      banner = &#x27;[Faye&#x27;,
      klass  = this.className,

      message = args.shift().replace(/\?/g, function() {
        try {
          return toJSON(args.shift());
        } catch (error) {
          return &#x27;[Object]&#x27;;
        }
      });

  if (klass) banner += &#x27;.&#x27; + klass;
  banner += &#x27;] &#x27;;

  if (typeof logger[level] === &#x27;function&#x27;)
    logger[level](banner + message);
  else if (typeof logger === &#x27;function&#x27;)
    logger(banner + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      logger(banner + message);
	  }
	};
	
	for (var key in Logging.LOG_LEVELS)
	  (function(level) {
	    Logging[level] = function() {
	      this.<span class="apidocCodeKeywordSpan">writeLog</span>(arguments, level);
	    };
	  })(key);
	
	module.exports = Logging;


/***/ },
...</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.error" id="apidoc.module.faye.error">module faye.error</a></h1>


    <h2>
        <a href="#apidoc.element.faye.error.error" id="apidoc.element.faye.error.error">
        function <span class="apidocSignatureSpan">faye.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.badRequest" id="apidoc.element.faye.error.badRequest">
        function <span class="apidocSignatureSpan">faye.error.</span>badRequest
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">badRequest = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.channelForbidden" id="apidoc.element.faye.error.channelForbidden">
        function <span class="apidocSignatureSpan">faye.error.</span>channelForbidden
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">channelForbidden = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  _handleMeta: function(message, local, callback, context) {
var method = Channel.parse(message.channel)[1],
    response;

if (array.indexOf(this.META_METHODS, method) &#x3c; 0) {
  response = this._makeResponse(message);
  response.error = Error.<span class="apidocCodeKeywordSpan">channelForbidden</span>(message.channel);
  response.successful = false;
  return callback.call(context, [response]);
}

this[method](message, local, function(responses) {
  responses = [].concat(responses);
  for (var i = 0, n = responses.length; i &#x3c; n; i++) this._advize(responses[i], message.connectionType);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.channelInvalid" id="apidoc.element.faye.error.channelInvalid">
        function <span class="apidocSignatureSpan">faye.error.</span>channelInvalid
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">channelInvalid = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    error       = message.error,
    response;

if (Channel.isMeta(channelName))
  return this._handleMeta(message, local, callback, context);

if (!Grammar.CHANNEL_NAME.test(channelName))
  error = Error.<span class="apidocCodeKeywordSpan">channelInvalid</span>(channelName);

if (message.data === undefined)
  error = Error.parameterMissing(&#x27;data&#x27;);

if (!error) this._engine.publish(message);

response = this._makeResponse(message);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.channelUnknown" id="apidoc.element.faye.error.channelUnknown">
        function <span class="apidocSignatureSpan">faye.error.</span>channelUnknown
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">channelUnknown = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.clientUnknown" id="apidoc.element.faye.error.clientUnknown">
        function <span class="apidocSignatureSpan">faye.error.</span>clientUnknown
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clientUnknown = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  //               * id
  connect: function(message, local, callback, context) {
    var response       = this._makeResponse(message),
  clientId       = message.clientId,
  connectionType = message.connectionType;

    this._engine.clientExists(clientId, function(exists) {
if (!exists)         response.error = Error.<span class="apidocCodeKeywordSpan">clientUnknown</span>(clientId);
if (!clientId)       response.error = Error.parameterMissing(&#x27;clientId&#x27;);

if (array.indexOf(constants.CONNECTION_TYPES, connectionType) &#x3c; 0)
  response.error = Error.conntypeMismatch(connectionType);

if (!connectionType) response.error = Error.parameterMissing(&#x27;connectionType&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.conntypeMismatch" id="apidoc.element.faye.error.conntypeMismatch">
        function <span class="apidocSignatureSpan">faye.error.</span>conntypeMismatch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">conntypeMismatch = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
response.supportedConnectionTypes = constants.CONNECTION_TYPES;

if (clientConns) {
  commonConns = array.filter(clientConns, function(conn) {
    return array.indexOf(constants.CONNECTION_TYPES, conn) &#x3e;= 0;
  });
  if (commonConns.length === 0)
    response.error = Error.<span class="apidocCodeKeywordSpan">conntypeMismatch</span>(clientConns);
} else {
  response.error = Error.parameterMissing(&#x27;supportedConnectionTypes&#x27;);
}

response.successful = !response.error;
if (!response.successful) return callback.call(context, response);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.extMismatch" id="apidoc.element.faye.error.extMismatch">
        function <span class="apidocSignatureSpan">faye.error.</span>extMismatch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extMismatch = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.extUnknown" id="apidoc.element.faye.error.extUnknown">
        function <span class="apidocSignatureSpan">faye.error.</span>extUnknown
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extUnknown = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.parameterMissing" id="apidoc.element.faye.error.parameterMissing">
        function <span class="apidocSignatureSpan">faye.error.</span>parameterMissing
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parameterMissing = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (Channel.isMeta(channelName))
  return this._handleMeta(message, local, callback, context);

if (!Grammar.CHANNEL_NAME.test(channelName))
  error = Error.channelInvalid(channelName);

if (message.data === undefined)
  error = Error.<span class="apidocCodeKeywordSpan">parameterMissing</span>(&#x27;data&#x27;);

if (!error) this._engine.publish(message);

response = this._makeResponse(message);
if (error) response.error = error;
response.successful = !response.error;
callback.call(context, [response]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.parse" id="apidoc.element.faye.error.parse">
        function <span class="apidocSignatureSpan">faye.error.</span>parse
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (message) {
  message = message || &#x27;&#x27;;
  if (!Grammar.ERROR.test(message)) return new Error(null, [], message);

  var parts   = message.split(&#x27;:&#x27;),
      code    = parseInt(parts[0]),
      params  = parts[1].split(&#x27;,&#x27;),
      message = parts[2];

  return new Error(code, params, message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.close();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.<span class="apidocCodeKeywordSpan">parse</span>(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
	    this._channels = new Channel.Set();
	
	    return promise;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.publishFailed" id="apidoc.element.faye.error.publishFailed">
        function <span class="apidocSignatureSpan">faye.error.</span>publishFailed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publishFailed = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.serverError" id="apidoc.element.faye.error.serverError">
        function <span class="apidocSignatureSpan">faye.error.</span>serverError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serverError = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.versionMismatch" id="apidoc.element.faye.error.versionMismatch">
        function <span class="apidocSignatureSpan">faye.error.</span>versionMismatch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">versionMismatch = function () {
  return new Error(errors[name][0], arguments, errors[name][1]).toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.error.prototype" id="apidoc.module.faye.error.prototype">module faye.error.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.error.prototype.initialize" id="apidoc.element.faye.error.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.error.prototype.</span>initialize
        <span class="apidocSignatureSpan">(code, params, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (code, params, message) {
  this.code    = code;
  this.params  = Array.prototype.slice.call(params);
  this.message = message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.error.prototype.toString" id="apidoc.element.faye.error.prototype.toString">
        function <span class="apidocSignatureSpan">faye.error.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  return this.code + &#x27;:&#x27; +
         this.params.join(&#x27;,&#x27;) + &#x27;:&#x27; +
         this.message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      this._dispatcher.sendMessage(message, timeout, options || {});
	    }, this);
	  },
	
	  _generateMessageId: function() {
	    this._messageId += 1;
	    if (this._messageId &#x3e;= Math.pow(2,32)) this._messageId = 0;
	    return this._messageId.<span class="apidocCodeKeywordSpan">toString</span>(36);
	  },
	
	  _receiveMessage: function(message) {
	    var id = message.id, callback;
	
	    if (message.successful !== undefined) {
	      callback = this._responseCallbacks[id];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.event_emitter" id="apidoc.module.faye.event_emitter">module faye.event_emitter</a></h1>


    <h2>
        <a href="#apidoc.element.faye.event_emitter.event_emitter" id="apidoc.element.faye.event_emitter.event_emitter">
        function <span class="apidocSignatureSpan">faye.</span>event_emitter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.event_emitter.prototype" id="apidoc.module.faye.event_emitter.prototype">module faye.event_emitter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.event_emitter.prototype.addListener" id="apidoc.element.faye.event_emitter.prototype.addListener">
        function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>addListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_emitter.prototype.emit" id="apidoc.element.faye.event_emitter.prototype.emit">
        function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>emit
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  } else {
	    return false;
	  }
	};
	
	// EventEmitter is defined in src/node_events.cc
	// EventEmitter.prototype.<span class="apidocCodeKeywordSpan">emit</span>() is also defined there.
	EventEmitter.prototype.addListener = function(type, listener) {
	  if (&#x27;function&#x27; !== typeof listener) {
	    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
	  }
	
	  if (!this._events) this._events = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_emitter.prototype.listeners" id="apidoc.element.faye.event_emitter.prototype.listeners">
        function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>listeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listeners = function (type) {
  if (!this._events) this._events = {};
  if (!this._events[type]) this._events[type] = [];
  if (!isArray(this._events[type])) {
    this._events[type] = [this._events[type]];
  }
  return this._events[type];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	&#x27;use strict&#x27;;
	
	var extend       = __webpack_require__(8),
	    EventEmitter = __webpack_require__(16);
	
	var Publisher = {
	  countListeners: function(eventType) {
	    return this.<span class="apidocCodeKeywordSpan">listeners</span>(eventType).length;
	  },
	
	  bind: function(eventType, listener, context) {
	    var slice   = Array.prototype.slice,
	        handler = function() { listener.apply(context, slice.call(arguments)) };
	
	    this._listeners = this._listeners || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_emitter.prototype.on" id="apidoc.element.faye.event_emitter.prototype.on">
        function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>on
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.<span class="apidocCodeKeywordSpan">on</span>(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_emitter.prototype.once" id="apidoc.element.faye.event_emitter.prototype.once">
        function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>once
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (type, listener) {
  var self = this;
  self.on(type, function g() {
    self.removeListener(type, g);
    listener.apply(this, arguments);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_emitter.prototype.removeAllListeners" id="apidoc.element.faye.event_emitter.prototype.removeAllListeners">
        function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>removeAllListeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (type) {
  if (arguments.length === 0) {
    this._events = {};
    return this;
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (type &#x26;&#x26; this._events &#x26;&#x26; this._events[type]) this._events[type] = null;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_emitter.prototype.removeListener" id="apidoc.element.faye.event_emitter.prototype.removeListener">
        function <span class="apidocSignatureSpan">faye.event_emitter.prototype.</span>removeListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;removeListener only takes instances of Function&#x27;);
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (!this._events || !this._events[type]) return this;

  var list = this._events[type];

  if (isArray(list)) {
    var i = indexOf(list, listener);
    if (i &#x3c; 0) return this;
    list.splice(i, 1);
    if (list.length == 0)
      delete this._events[type];
  } else if (this._events[type] === listener) {
    delete this._events[type];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var n = this._listeners.length, tuple;
	
	    while (n--) {
	      tuple = this._listeners[n];
	      if (tuple[0] !== eventType) continue;
	      if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
	      this._listeners.splice(n, 1);
	      this.<span class="apidocCodeKeywordSpan">removeListener</span>(eventType, tuple[3]);
	    }
	  }
	};
	
	extend(Publisher, EventEmitter.prototype);
	Publisher.trigger = Publisher.emit;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.event_source" id="apidoc.module.faye.event_source">module faye.event_source</a></h1>


    <h2>
        <a href="#apidoc.element.faye.event_source.event_source" id="apidoc.element.faye.event_source.event_source">
        function <span class="apidocSignatureSpan">faye.</span>event_source
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">event_source = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.create" id="apidoc.element.faye.event_source.create">
        function <span class="apidocSignatureSpan">faye.event_source.</span>create
        <span class="apidocSignatureSpan">(dispatcher, endpoint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (dispatcher, endpoint) {
  var sockets = dispatcher.transports.eventsource = dispatcher.transports.eventsource || {},
      id      = dispatcher.clientId;

  var url = copyObject(endpoint);
  url.pathname += &#x27;/&#x27; + (id || &#x27;&#x27;);
  url = URI.stringify(url);

  sockets[url] = sockets[url] || new this(dispatcher, endpoint);
  return sockets[url];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  initialize: function(endpoint, options) {
	    this.info(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.<span class="apidocCodeKeywordSpan">create</span>(this, endpoint || this.DEFAULT_ENDPOINT, options
);
	
	    this._messageId = 0;
	    this._state     = this.UNCONNECTED;
	
	    this._responseCallbacks = {};
	
	    this._advice = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.isUsable" id="apidoc.element.faye.event_source.isUsable">
        function <span class="apidocSignatureSpan">faye.event_source.</span>isUsable
        <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUsable = function (dispatcher, endpoint, callback, context) {
  var id = dispatcher.clientId;
  if (!id) return callback.call(context, false);

  XHR.isUsable(dispatcher, endpoint, function(usable) {
    if (!usable) return callback.call(context, false);
    this.create(dispatcher, endpoint).isUsable(callback, context);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.<span class="apidocCodeKeywordSpan">isUsable</span>(dispatcher, connEndpoint, function() {});
	        return resume();
	      }
	
	      klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
	        if (!isUsable) return resume();
	        var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher
, connEndpoint);
	        callback.call(context, transport);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.event_source.prototype" id="apidoc.module.faye.event_source.prototype">module faye.event_source.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.callback" id="apidoc.element.faye.event_source.prototype.callback">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>callback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">callback = function (callback, context) {
  return this.then(function(value) { callback.call(context, value) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.<span class="apidocCodeKeywordSpan">callback</span>(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.close" id="apidoc.element.faye.event_source.prototype.close">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  if (!this._socket) return;
  this._socket.onopen = this._socket.onerror = this._socket.onmessage = null;
  this._socket.close();
  delete this._socket;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._sendMessage({
	      channel:  Channel.DISCONNECT,
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.<span class="apidocCodeKeywordSpan">close</span>();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.encode" id="apidoc.element.faye.event_source.prototype.encode">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>encode
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">encode = function (messages) {
  return this._xhr.encode(messages);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
	    this._outbox = [];
	  },
	
	  _flushLargeBatch: function() {
	    var string = this.<span class="apidocCodeKeywordSpan">encode</span>(this._outbox);
	    if (string.length &#x3c; this._dispatcher.maxRequestSize) return;
	    var last = this._outbox.pop();
	
	    this._makePromise();
	    this._flush();
	
	    if (last) this._outbox.push(last);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.errback" id="apidoc.element.faye.event_source.prototype.errback">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>errback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">errback = function (callback, context) {
  return this.then(null, function(reason) { callback.call(context, reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  CONNECTING:   2,
	  CONNECTED:    3,
	
	  batching:     false,
	
	  isUsable: function(callback, context) {
	    this.callback(function() { callback.call(context, true) });
	    this.<span class="apidocCodeKeywordSpan">errback</span>(function() { callback.call(context, false) });
	    this.connect();
	  },
	
	  request: function(messages) {
	    this._pending = this._pending || new Set();
	    for (var i = 0, n = messages.length; i &#x3c; n; i++) this._pending.add(messages[i]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.initialize" id="apidoc.element.faye.event_source.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>initialize
        <span class="apidocSignatureSpan">(dispatcher, endpoint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (dispatcher, endpoint) {
  Transport.prototype.initialize.call(this, dispatcher, endpoint);
  if (!global.EventSource) return this.setDeferredStatus(&#x27;failed&#x27;);

  this._xhr = new XHR(dispatcher, endpoint);

  endpoint = copyObject(endpoint);
  endpoint.pathname += &#x27;/&#x27; + dispatcher.clientId;

  var socket = new global.EventSource(URI.stringify(endpoint)),
      self   = this;

  socket.onopen = function() {
    self._everConnected = true;
    self.setDeferredStatus(&#x27;succeeded&#x27;);
  };

  socket.onerror = function() {
    if (self._everConnected) {
      self._handleError([]);
    } else {
      self.setDeferredStatus(&#x27;failed&#x27;);
      socket.close();
    }
  };

  socket.onmessage = function(event) {
    var replies;
    try { replies = JSON.parse(event.data) } catch (error) {}

    if (replies)
      self._receive(replies);
    else
      self._handleError([]);
  };

  this._socket = socket;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.isUsable" id="apidoc.element.faye.event_source.prototype.isUsable">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>isUsable
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUsable = function (callback, context) {
  this.callback(function() { callback.call(context, true) });
  this.errback(function() { callback.call(context, false) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.<span class="apidocCodeKeywordSpan">isUsable</span>(dispatcher, connEndpoint, function() {});
	        return resume();
	      }
	
	      klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
	        if (!isUsable) return resume();
	        var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher
, connEndpoint);
	        callback.call(context, transport);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.request" id="apidoc.element.faye.event_source.prototype.request">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>request
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (messages) {
  return this._xhr.request(messages);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    return &#x27;&#x27;;
	  },
	
	  sendMessage: function(message) {
	    this.debug(&#x27;Client ? sending message to ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), message);
	
	    if (!this.batching) return Promise.resolve(this.<span class="apidocCodeKeywordSpan">request</span>([message]));
	
	    this._outbox.push(message);
	    this._flushLargeBatch();
	
	    if (message.channel === Channel.HANDSHAKE)
	      return this._publish(0.01);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.setDeferredStatus" id="apidoc.element.faye.event_source.prototype.setDeferredStatus">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>setDeferredStatus
        <span class="apidocSignatureSpan">(status, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDeferredStatus = function (status, value) {
  if (this._timer) global.clearTimeout(this._timer);

  this.then();

  if (status === &#x27;succeeded&#x27;)
    this._resolve(value);
  else if (status === &#x27;failed&#x27;)
    this._reject(value);
  else
    delete this._promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.<span class="apidocCodeKeywordSpan">setDeferredStatus</span>(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
	    this._connectRequest = true;
	
	    this.info(&#x27;Initiating connection for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.then" id="apidoc.element.faye.event_source.prototype.then">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>then
        <span class="apidocSignatureSpan">(callback, errback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (callback, errback) {
  var self = this;
  if (!this._promise)
    this._promise = new Promise(function(resolve, reject) {
      self._resolve = resolve;
      self._reject  = reject;
    });

  if (arguments.length === 0)
    return this._promise;
  else
    return this._promise.then(callback, errback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  var next = new Promise();
	  registerOnFulfilled(this, onFulfilled, next);
	  registerOnRejected(this, onRejected, next);
	  return next;
	};
	
	Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
	  return this.<span class="apidocCodeKeywordSpan">then</span>(null, onRejected);
	};
	
	var registerOnFulfilled = function(promise, onFulfilled, next) {
	  if (typeof onFulfilled !== &#x27;function&#x27;) onFulfilled = RETURN;
	  var handler = function(value) { invoke(onFulfilled, value, next) };
	
	  if (promise._state === PENDING) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.event_source.prototype.timeout" id="apidoc.element.faye.event_source.prototype.timeout">
        function <span class="apidocSignatureSpan">faye.event_source.prototype.</span>timeout
        <span class="apidocSignatureSpan">(seconds, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (seconds, message) {
  this.then();
  var self = this;
  this._timer = global.setTimeout(function() {
    self._reject(message);
  }, seconds * 1000);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.extensible" id="apidoc.module.faye.extensible">module faye.extensible</a></h1>


    <h2>
        <a href="#apidoc.element.faye.extensible.addExtension" id="apidoc.element.faye.extensible.addExtension">
        function <span class="apidocSignatureSpan">faye.extensible.</span>addExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addExtension = function (extension) {
  this._extensions = this._extensions || [];
  this._extensions.push(extension);
  if (extension.added) extension.added(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.extensible.debug" id="apidoc.element.faye.extensible.debug">
        function <span class="apidocSignatureSpan">faye.extensible.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.get(this, transportTypes, this._disabled, function(transport) {
	      this.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI
.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.extensible.error" id="apidoc.element.faye.extensible.error">
        function <span class="apidocSignatureSpan">faye.extensible.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.extensible.fatal" id="apidoc.element.faye.extensible.fatal">
        function <span class="apidocSignatureSpan">faye.extensible.</span>fatal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.extensible.info" id="apidoc.element.faye.extensible.info">
        function <span class="apidocSignatureSpan">faye.extensible.</span>info
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  CONNECTION_TIMEOUT: 60,
	
	  DEFAULT_ENDPOINT:   &#x27;/bayeux&#x27;,
	  INTERVAL:           0,
	
	  initialize: function(endpoint, options) {
	    this.<span class="apidocCodeKeywordSpan">info</span>(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.extensible.pipeThroughExtensions" id="apidoc.element.faye.extensible.pipeThroughExtensions">
        function <span class="apidocSignatureSpan">faye.extensible.</span>pipeThroughExtensions
        <span class="apidocSignatureSpan">(stage, message, request, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pipeThroughExtensions = function (stage, message, request, callback, context) {
  this.debug(&#x27;Passing through ? extensions: ?&#x27;, stage, message);

  if (!this._extensions) return callback.call(context, message);
  var extensions = this._extensions.slice();

  var pipe = function(message) {
    if (!message) return callback.call(context, message);

    var extension = extensions.shift();
    if (!extension) return callback.call(context, message);

    var fn = extension[stage];
    if (!fn) return pipe(message);

    if (fn.length &#x3e;= 3) extension[stage](message, request, pipe);
    else                extension[stage](message, pipe);
  };
  pipe(message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  _sendMessage: function(message, options, callback, context) {
	    message.id = this._generateMessageId();
	
	    var timeout = this._advice.timeout
	                ? 1.2 * this._advice.timeout / 1000
	                : 1.2 * this._dispatcher.retry;
	
	    this.<span class="apidocCodeKeywordSpan">pipeThroughExtensions</span>(&#x27;outgoing&#x27;, message, null, function(message
) {
	      if (!message) return;
	      if (callback) this._responseCallbacks[message.id] = [callback, context];
	      this._dispatcher.sendMessage(message, timeout, options || {});
	    }, this);
	  },
	
	  _generateMessageId: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.extensible.removeExtension" id="apidoc.element.faye.extensible.removeExtension">
        function <span class="apidocSignatureSpan">faye.extensible.</span>removeExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeExtension = function (extension) {
  if (!this._extensions) return;
  var i = this._extensions.length;
  while (i--) {
    if (this._extensions[i] !== extension) continue;
    this._extensions.splice(i,1);
    if (extension.removed) extension.removed(this);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.extensible.warn" id="apidoc.element.faye.extensible.warn">
        function <span class="apidocSignatureSpan">faye.extensible.</span>warn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      } else if (keys.length &#x3e; 1) {
	        proxy = env[name];
	      }
	      proxy = proxy || env[&#x27;CGI_&#x27; + upcase];
	    } else {
	      proxy = env[name] || env[upcase];
	      if (proxy &#x26;&#x26; !env[name])
	        console.<span class="apidocCodeKeywordSpan">warn</span>(&#x27;The environment variable &#x27; + upcase +
	                     &#x27; is discouraged. Use &#x27; + name + &#x27;.&#x27;);
	    }
	    return proxy;
	  }
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.extensible.writeLog" id="apidoc.element.faye.extensible.writeLog">
        function <span class="apidocSignatureSpan">faye.extensible.</span>writeLog
        <span class="apidocSignatureSpan">(messageArgs, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeLog = function (messageArgs, level) {
  var logger = Logging.logger || (Logging.wrapper || Logging).logger;
  if (!logger) return;

  var args   = Array.prototype.slice.apply(messageArgs),
      banner = &#x27;[Faye&#x27;,
      klass  = this.className,

      message = args.shift().replace(/\?/g, function() {
        try {
          return toJSON(args.shift());
        } catch (error) {
          return &#x27;[Object]&#x27;;
        }
      });

  if (klass) banner += &#x27;.&#x27; + klass;
  banner += &#x27;] &#x27;;

  if (typeof logger[level] === &#x27;function&#x27;)
    logger[level](banner + message);
  else if (typeof logger === &#x27;function&#x27;)
    logger(banner + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      logger(banner + message);
	  }
	};
	
	for (var key in Logging.LOG_LEVELS)
	  (function(level) {
	    Logging[level] = function() {
	      this.<span class="apidocCodeKeywordSpan">writeLog</span>(arguments, level);
	    };
	  })(key);
	
	module.exports = Logging;


/***/ },
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.jsonp" id="apidoc.module.faye.jsonp">module faye.jsonp</a></h1>


    <h2>
        <a href="#apidoc.element.faye.jsonp.jsonp" id="apidoc.element.faye.jsonp.jsonp">
        function <span class="apidocSignatureSpan">faye.</span>jsonp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">jsonp = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.jsonp.getCallbackName" id="apidoc.element.faye.jsonp.getCallbackName">
        function <span class="apidocSignatureSpan">faye.jsonp.</span>getCallbackName
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCallbackName = function () {
  this._cbCount += 1;
  return &#x27;__jsonp&#x27; + this._cbCount + &#x27;__&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    url.query.jsonp   = &#x27;__jsonp&#x27; + JSONP._cbCount + &#x27;__&#x27;;
	    return URI.stringify(url);
	  },
	
	  request: function(messages) {
	    var head         = document.getElementsByTagName(&#x27;head&#x27;)[0],
	        script       = document.createElement(&#x27;script&#x27;),
	        callbackName = JSONP.<span class="apidocCodeKeywordSpan">getCallbackName</span>(),
	        endpoint     = copyObject(this.endpoint),
	        self         = this;
	
	    endpoint.query.message = toJSON(messages);
	    endpoint.query.jsonp   = callbackName;
	
	    var cleanup = function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.jsonp.isUsable" id="apidoc.element.faye.jsonp.isUsable">
        function <span class="apidocSignatureSpan">faye.jsonp.</span>isUsable
        <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUsable = function (dispatcher, endpoint, callback, context) {
  callback.call(context, true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.<span class="apidocCodeKeywordSpan">isUsable</span>(dispatcher, connEndpoint, function() {});
	        return resume();
	      }
	
	      klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
	        if (!isUsable) return resume();
	        var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher
, connEndpoint);
	        callback.call(context, transport);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.jsonp.prototype" id="apidoc.module.faye.jsonp.prototype">module faye.jsonp.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.jsonp.prototype.encode" id="apidoc.element.faye.jsonp.prototype.encode">
        function <span class="apidocSignatureSpan">faye.jsonp.prototype.</span>encode
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">encode = function (messages) {
  var url = copyObject(this.endpoint);
  url.query.message = toJSON(messages);
  url.query.jsonp   = &#x27;__jsonp&#x27; + JSONP._cbCount + &#x27;__&#x27;;
  return URI.stringify(url);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
	    this._outbox = [];
	  },
	
	  _flushLargeBatch: function() {
	    var string = this.<span class="apidocCodeKeywordSpan">encode</span>(this._outbox);
	    if (string.length &#x3c; this._dispatcher.maxRequestSize) return;
	    var last = this._outbox.pop();
	
	    this._makePromise();
	    this._flush();
	
	    if (last) this._outbox.push(last);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.jsonp.prototype.request" id="apidoc.element.faye.jsonp.prototype.request">
        function <span class="apidocSignatureSpan">faye.jsonp.prototype.</span>request
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (messages) {
  var head         = document.getElementsByTagName(&#x27;head&#x27;)[0],
      script       = document.createElement(&#x27;script&#x27;),
      callbackName = JSONP.getCallbackName(),
      endpoint     = copyObject(this.endpoint),
      self         = this;

  endpoint.query.message = toJSON(messages);
  endpoint.query.jsonp   = callbackName;

  var cleanup = function() {
    if (!global[callbackName]) return false;
    global[callbackName] = undefined;
    try { delete global[callbackName] } catch (error) {}
    script.parentNode.removeChild(script);
  };

  global[callbackName] = function(replies) {
    cleanup();
    self._receive(replies);
  };

  script.type = &#x27;text/javascript&#x27;;
  script.src  = URI.stringify(endpoint);
  head.appendChild(script);

  script.onerror = function() {
    cleanup();
    self._handleError(messages);
  };

  return {abort: cleanup};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    return &#x27;&#x27;;
	  },
	
	  sendMessage: function(message) {
	    this.debug(&#x27;Client ? sending message to ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), message);
	
	    if (!this.batching) return Promise.resolve(this.<span class="apidocCodeKeywordSpan">request</span>([message]));
	
	    this._outbox.push(message);
	    this._flushLargeBatch();
	
	    if (message.channel === Channel.HANDSHAKE)
	      return this._publish(0.01);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.logging" id="apidoc.module.faye.logging">module faye.logging</a></h1>


    <h2>
        <a href="#apidoc.element.faye.logging.debug" id="apidoc.element.faye.logging.debug">
        function <span class="apidocSignatureSpan">faye.logging.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.get(this, transportTypes, this._disabled, function(transport) {
	      this.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI
.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.logging.error" id="apidoc.element.faye.logging.error">
        function <span class="apidocSignatureSpan">faye.logging.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.logging.fatal" id="apidoc.element.faye.logging.fatal">
        function <span class="apidocSignatureSpan">faye.logging.</span>fatal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.logging.info" id="apidoc.element.faye.logging.info">
        function <span class="apidocSignatureSpan">faye.logging.</span>info
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  CONNECTION_TIMEOUT: 60,
	
	  DEFAULT_ENDPOINT:   &#x27;/bayeux&#x27;,
	  INTERVAL:           0,
	
	  initialize: function(endpoint, options) {
	    this.<span class="apidocCodeKeywordSpan">info</span>(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.logging.warn" id="apidoc.element.faye.logging.warn">
        function <span class="apidocSignatureSpan">faye.logging.</span>warn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      } else if (keys.length &#x3e; 1) {
	        proxy = env[name];
	      }
	      proxy = proxy || env[&#x27;CGI_&#x27; + upcase];
	    } else {
	      proxy = env[name] || env[upcase];
	      if (proxy &#x26;&#x26; !env[name])
	        console.<span class="apidocCodeKeywordSpan">warn</span>(&#x27;The environment variable &#x27; + upcase +
	                     &#x27; is discouraged. Use &#x27; + name + &#x27;.&#x27;);
	    }
	    return proxy;
	  }
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.logging.writeLog" id="apidoc.element.faye.logging.writeLog">
        function <span class="apidocSignatureSpan">faye.logging.</span>writeLog
        <span class="apidocSignatureSpan">(messageArgs, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeLog = function (messageArgs, level) {
  var logger = Logging.logger || (Logging.wrapper || Logging).logger;
  if (!logger) return;

  var args   = Array.prototype.slice.apply(messageArgs),
      banner = &#x27;[Faye&#x27;,
      klass  = this.className,

      message = args.shift().replace(/\?/g, function() {
        try {
          return toJSON(args.shift());
        } catch (error) {
          return &#x27;[Object]&#x27;;
        }
      });

  if (klass) banner += &#x27;.&#x27; + klass;
  banner += &#x27;] &#x27;;

  if (typeof logger[level] === &#x27;function&#x27;)
    logger[level](banner + message);
  else if (typeof logger === &#x27;function&#x27;)
    logger(banner + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      logger(banner + message);
	  }
	};
	
	for (var key in Logging.LOG_LEVELS)
	  (function(level) {
	    Logging[level] = function() {
	      this.<span class="apidocCodeKeywordSpan">writeLog</span>(arguments, level);
	    };
	  })(key);
	
	module.exports = Logging;


/***/ },
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.memory" id="apidoc.module.faye.memory">module faye.memory</a></h1>


    <h2>
        <a href="#apidoc.element.faye.memory.memory" id="apidoc.element.faye.memory.memory">
        function <span class="apidocSignatureSpan">faye.</span>memory
        <span class="apidocSignatureSpan">(server, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">memory = function (server, options) {
  this._server    = server;
  this._options   = options || {};
  this.reset();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.create" id="apidoc.element.faye.memory.create">
        function <span class="apidocSignatureSpan">faye.memory.</span>create
        <span class="apidocSignatureSpan">(server, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (server, options) {
  return new Memory(server, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  initialize: function(endpoint, options) {
	    this.info(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.<span class="apidocCodeKeywordSpan">create</span>(this, endpoint || this.DEFAULT_ENDPOINT, options
);
	
	    this._messageId = 0;
	    this._state     = this.UNCONNECTED;
	
	    this._responseCallbacks = {};
	
	    this._advice = {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.memory.prototype" id="apidoc.module.faye.memory.prototype">module faye.memory.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.memory.prototype.addTimeout" id="apidoc.element.faye.memory.prototype.addTimeout">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>addTimeout
        <span class="apidocSignatureSpan">(name, delay, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addTimeout = function (name, delay, callback, context) {
  this._timeouts = this._timeouts || {};
  if (this._timeouts.hasOwnProperty(name)) return;
  var self = this;
  this._timeouts[name] = global.setTimeout(function() {
    delete self._timeouts[name];
    callback.call(context);
  }, 1000 * delay);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      self._resolvePromise = resolve;
	    });
	  },
	
	  _publish: function(delay) {
	    this._makePromise();
	
	    this.<span class="apidocCodeKeywordSpan">addTimeout</span>(&#x27;publish&#x27;, delay, function() {
	      this._flush();
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.clientExists" id="apidoc.element.faye.memory.prototype.clientExists">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>clientExists
        <span class="apidocSignatureSpan">(clientId, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clientExists = function (clientId, callback, context) {
  callback.call(context, this._namespace.exists(clientId));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // MAY contain   * ext
  //               * id
  connect: function(message, local, callback, context) {
    var response       = this._makeResponse(message),
  clientId       = message.clientId,
  connectionType = message.connectionType;

    this._engine.<span class="apidocCodeKeywordSpan">clientExists</span>(clientId, function(exists) {
if (!exists)         response.error = Error.clientUnknown(clientId);
if (!clientId)       response.error = Error.parameterMissing(&#x27;clientId&#x27;);

if (array.indexOf(constants.CONNECTION_TYPES, connectionType) &#x3c; 0)
  response.error = Error.conntypeMismatch(connectionType);

if (!connectionType) response.error = Error.parameterMissing(&#x27;connectionType&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.createClient" id="apidoc.element.faye.memory.prototype.createClient">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>createClient
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createClient = function (callback, context) {
  var clientId = this._namespace.generate();
  this._server.debug(&#x27;Created new client ?&#x27;, clientId);
  this.ping(clientId);
  this._server.trigger(&#x27;handshake&#x27;, clientId);
  callback.call(context, clientId);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
    response.error = Error.parameterMissing(&#x27;supportedConnectionTypes&#x27;);
  }

  response.successful = !response.error;
  if (!response.successful) return callback.call(context, response);

  this._engine.<span class="apidocCodeKeywordSpan">createClient</span>(function(clientId) {
    response.clientId = clientId;
    callback.call(context, response);
  }, this);
},

// MUST contain  * clientId
//               * connectionType
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.destroyClient" id="apidoc.element.faye.memory.prototype.destroyClient">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>destroyClient
        <span class="apidocSignatureSpan">(clientId, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroyClient = function (clientId, callback, context) {
  if (!this._namespace.exists(clientId)) return;
  var clients = this._clients;

  if (clients[clientId])
    clients[clientId].forEach(function(channel) { this.unsubscribe(clientId, channel) }, this);

  this.removeTimeout(clientId);
  this._namespace.release(clientId);
  delete this._messages[clientId];
  this._server.debug(&#x27;Destroyed client ?&#x27;, clientId);
  this._server.trigger(&#x27;disconnect&#x27;, clientId);
  this._server.trigger(&#x27;close&#x27;, clientId);
  if (callback) callback.call(context);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ping: function(clientId) {
var timeout = this._server.timeout;
if (typeof timeout !== &#x27;number&#x27;) return;

this._server.debug(&#x27;Ping ?, ?&#x27;, clientId, timeout);
this.removeTimeout(clientId);
this.addTimeout(clientId, 2 * timeout, function() {
  this.<span class="apidocCodeKeywordSpan">destroyClient</span>(clientId);
}, this);
  },

  subscribe: function(clientId, channel, callback, context) {
var clients = this._clients, channels = this._channels;

clients[clientId] = clients[clientId] || new Set();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.disconnect" id="apidoc.element.faye.memory.prototype.disconnect">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>disconnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disconnect = function () {
  this.reset();
  this.removeAllTimeouts();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.<span class="apidocCodeKeywordSpan">disconnect</span>();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.emptyQueue" id="apidoc.element.faye.memory.prototype.emptyQueue">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>emptyQueue
        <span class="apidocSignatureSpan">(clientId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emptyQueue = function (clientId) {
  if (!this._server.hasConnection(clientId)) return;
  this._server.deliver(clientId, this._messages[clientId]);
  delete this._messages[clientId];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    subs.forEach(clients.add, clients);
  }

  clients.forEach(function(clientId) {
    this._server.debug(&#x27;Queueing for client ?: ?&#x27;, clientId, message);
    messages[clientId] = messages[clientId] || [];
    messages[clientId].push(copyObject(message));
    this.<span class="apidocCodeKeywordSpan">emptyQueue</span>(clientId);
  }, this);

  this._server.trigger(&#x27;publish&#x27;, message.clientId, message.channel, message.data);
},

emptyQueue: function(clientId) {
  if (!this._server.hasConnection(clientId)) return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.ping" id="apidoc.element.faye.memory.prototype.ping">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>ping
        <span class="apidocSignatureSpan">(clientId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ping = function (clientId) {
  var timeout = this._server.timeout;
  if (typeof timeout !== &#x27;number&#x27;) return;

  this._server.debug(&#x27;Ping ?, ?&#x27;, clientId, timeout);
  this.removeTimeout(clientId);
  this.addTimeout(clientId, 2 * timeout, function() {
    this.destroyClient(clientId);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._channels  = {};
  this._messages  = {};
},

createClient: function(callback, context) {
  var clientId = this._namespace.generate();
  this._server.debug(&#x27;Created new client ?&#x27;, clientId);
  this.<span class="apidocCodeKeywordSpan">ping</span>(clientId);
  this._server.trigger(&#x27;handshake&#x27;, clientId);
  callback.call(context, clientId);
},

destroyClient: function(clientId, callback, context) {
  if (!this._namespace.exists(clientId)) return;
  var clients = this._clients;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.publish" id="apidoc.element.faye.memory.prototype.publish">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>publish
        <span class="apidocSignatureSpan">(message, channels)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publish = function (message, channels) {
  this._server.debug(&#x27;Publishing message ?&#x27;, message);

  var messages = this._messages,
      clients  = new Set(),
      subs;

  for (var i = 0, n = channels.length; i &#x3c; n; i++) {
    subs = this._channels[channels[i]];
    if (!subs) continue;
    subs.forEach(clients.add, clients);
  }

  clients.forEach(function(clientId) {
    this._server.debug(&#x27;Queueing for client ?: ?&#x27;, clientId, message);
    messages[clientId] = messages[clientId] || [];
    messages[clientId].push(copyObject(message));
    this.emptyQueue(clientId);
  }, this);

  this._server.trigger(&#x27;publish&#x27;, message.clientId, message.channel, message.data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  disconnect: function() {
    if (this._engine.disconnect) return this._engine.disconnect();
  },

  publish: function(message) {
    var channels = Channel.expand(message.channel);
    return this._engine.<span class="apidocCodeKeywordSpan">publish</span>(message, channels);
  }
}), {
  get: function(options) {
    return new Proxy(options);
  }
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.removeAllTimeouts" id="apidoc.element.faye.memory.prototype.removeAllTimeouts">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>removeAllTimeouts
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllTimeouts = function () {
  this._timeouts = this._timeouts || {};
  for (var name in this._timeouts) this.removeTimeout(name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Memory.create = function(server, options) {
return new Memory(server, options);
};

Memory.prototype = {
disconnect: function() {
  this.reset();
  this.<span class="apidocCodeKeywordSpan">removeAllTimeouts</span>();
},

reset: function() {
  this._namespace = new Namespace();
  this._clients   = {};
  this._channels  = {};
  this._messages  = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.removeTimeout" id="apidoc.element.faye.memory.prototype.removeTimeout">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>removeTimeout
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeTimeout = function (name) {
  this._timeouts = this._timeouts || {};
  var timeout = this._timeouts[name];
  if (!timeout) return;
  global.clearTimeout(timeout);
  delete this._timeouts[name];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
	  },
	
	  _flush: function() {
	    this.<span class="apidocCodeKeywordSpan">removeTimeout</span>(&#x27;publish&#x27;);
	
	    if (this._outbox.length &#x3e; 1 &#x26;&#x26; this._connectMessage)
	      this._connectMessage.advice = {timeout: 0};
	
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.reset" id="apidoc.element.faye.memory.prototype.reset">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
  this._namespace = new Namespace();
  this._clients   = {};
  this._channels  = {};
  this._messages  = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    Namespace  = require(&#x27;../util/namespace&#x27;),
    Set        = require(&#x27;../util/set&#x27;),
    Timeouts   = require(&#x27;../mixins/timeouts&#x27;);

var Memory = function(server, options) {
  this._server    = server;
  this._options   = options || {};
  this.<span class="apidocCodeKeywordSpan">reset</span>();
};

Memory.create = function(server, options) {
  return new Memory(server, options);
};

Memory.prototype = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.subscribe" id="apidoc.element.faye.memory.prototype.subscribe">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>subscribe
        <span class="apidocSignatureSpan">(clientId, channel, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscribe = function (clientId, channel, callback, context) {
  var clients = this._clients, channels = this._channels;

  clients[clientId] = clients[clientId] || new Set();
  var trigger = clients[clientId].add(channel);

  channels[channel] = channels[channel] || new Set();
  channels[channel].add(clientId);

  this._server.debug(&#x27;Subscribed client ? to channel ?&#x27;, clientId, channel);
  if (trigger) this._server.trigger(&#x27;subscribe&#x27;, clientId, channel);
  if (callback) callback.call(context, true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        this._state = this.CONNECTED;
	        this._dispatcher.clientId  = response.clientId;
	
	        this._dispatcher.selectTransport(response.supportedConnectionTypes);
	
	        this.info(&#x27;Handshake successful: ?&#x27;, this._dispatcher.clientId);
	
	        this.<span class="apidocCodeKeywordSpan">subscribe</span>(this._channels.getKeys(), true);
	        if (callback) asap(function() { callback.call(context) });
	
	      } else {
	        this.info(&#x27;Handshake unsuccessful&#x27;);
	        global.setTimeout(function() { self.handshake(callback, context) }, this._dispatcher.retry * 1000);
	        this._state = this.UNCONNECTED;
	      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.memory.prototype.unsubscribe" id="apidoc.element.faye.memory.prototype.unsubscribe">
        function <span class="apidocSignatureSpan">faye.memory.prototype.</span>unsubscribe
        <span class="apidocSignatureSpan">(clientId, channel, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsubscribe = function (clientId, channel, callback, context) {
  var clients  = this._clients,
      channels = this._channels,
      trigger  = false;

  if (clients[clientId]) {
    trigger = clients[clientId].remove(channel);
    if (clients[clientId].isEmpty()) delete clients[clientId];
  }

  if (channels[channel]) {
    channels[channel].remove(clientId);
    if (channels[channel].isEmpty()) delete channels[channel];
  }

  this._server.debug(&#x27;Unsubscribed client ? from channel ?&#x27;, clientId, channel);
  if (trigger) this._server.trigger(&#x27;unsubscribe&#x27;, clientId, channel);
  if (callback) callback.call(context, true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel:      Channel.SUBSCRIBE,
	        clientId:     this._dispatcher.clientId,
	        subscription: channel
	
	      }, {}, function(response) {
	        if (!response.successful) {
	          subscription.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	          return this._channels.<span class="apidocCodeKeywordSpan">unsubscribe</span>(channel, subscription);
	        }
	
	        var channels = [].concat(response.subscription);
	        this.info(&#x27;Subscription acknowledged for ? to ?&#x27;, this._dispatcher.clientId, channels);
	        subscription.setDeferredStatus(&#x27;succeeded&#x27;);
	      }, this);
	    }, this);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.namespace" id="apidoc.module.faye.namespace">module faye.namespace</a></h1>


    <h2>
        <a href="#apidoc.element.faye.namespace.namespace" id="apidoc.element.faye.namespace.namespace">
        function <span class="apidocSignatureSpan">faye.</span>namespace
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">namespace = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.namespace.prototype" id="apidoc.module.faye.namespace.prototype">module faye.namespace.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.namespace.prototype.exists" id="apidoc.element.faye.namespace.prototype.exists">
        function <span class="apidocSignatureSpan">faye.namespace.prototype.</span>exists
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exists = function (id) {
  return this._used.hasOwnProperty(id);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._server.debug(&#x27;Created new client ?&#x27;, clientId);
this.ping(clientId);
this._server.trigger(&#x27;handshake&#x27;, clientId);
callback.call(context, clientId);
  },

  destroyClient: function(clientId, callback, context) {
if (!this._namespace.<span class="apidocCodeKeywordSpan">exists</span>(clientId)) return;
var clients = this._clients;

if (clients[clientId])
  clients[clientId].forEach(function(channel) { this.unsubscribe(clientId, channel) }, this);

this.removeTimeout(clientId);
this._namespace.release(clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.namespace.prototype.generate" id="apidoc.element.faye.namespace.prototype.generate">
        function <span class="apidocSignatureSpan">faye.namespace.prototype.</span>generate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function () {
  var name = random();
  while (this._used.hasOwnProperty(name))
    name = random();
  return this._used[name] = name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._namespace = new Namespace();
  this._clients   = {};
  this._channels  = {};
  this._messages  = {};
},

createClient: function(callback, context) {
  var clientId = this._namespace.<span class="apidocCodeKeywordSpan">generate</span>();
  this._server.debug(&#x27;Created new client ?&#x27;, clientId);
  this.ping(clientId);
  this._server.trigger(&#x27;handshake&#x27;, clientId);
  callback.call(context, clientId);
},

destroyClient: function(clientId, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.namespace.prototype.initialize" id="apidoc.element.faye.namespace.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.namespace.prototype.</span>initialize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function () {
  this._used = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.namespace.prototype.release" id="apidoc.element.faye.namespace.prototype.release">
        function <span class="apidocSignatureSpan">faye.namespace.prototype.</span>release
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">release = function (id) {
  delete this._used[id];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (!this._namespace.exists(clientId)) return;
  var clients = this._clients;

  if (clients[clientId])
    clients[clientId].forEach(function(channel) { this.unsubscribe(clientId, channel) }, this);

  this.removeTimeout(clientId);
  this._namespace.<span class="apidocCodeKeywordSpan">release</span>(clientId);
  delete this._messages[clientId];
  this._server.debug(&#x27;Destroyed client ?&#x27;, clientId);
  this._server.trigger(&#x27;disconnect&#x27;, clientId);
  this._server.trigger(&#x27;close&#x27;, clientId);
  if (callback) callback.call(context);
},
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.node_http" id="apidoc.module.faye.node_http">module faye.node_http</a></h1>


    <h2>
        <a href="#apidoc.element.faye.node_http.node_http" id="apidoc.element.faye.node_http.node_http">
        function <span class="apidocSignatureSpan">faye.</span>node_http
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">node_http = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.node_http.isUsable" id="apidoc.element.faye.node_http.isUsable">
        function <span class="apidocSignatureSpan">faye.node_http.</span>isUsable
        <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUsable = function (dispatcher, endpoint, callback, context) {
  callback.call(context, URI.isURI(endpoint));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.<span class="apidocCodeKeywordSpan">isUsable</span>(dispatcher, connEndpoint, function() {});
	        return resume();
	      }
	
	      klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
	        if (!isUsable) return resume();
	        var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher
, connEndpoint);
	        callback.call(context, transport);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.node_http.prototype" id="apidoc.module.faye.node_http.prototype">module faye.node_http.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.node_http.prototype._buildParams" id="apidoc.element.faye.node_http.prototype._buildParams">
        function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>_buildParams
        <span class="apidocSignatureSpan">(content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_buildParams = function (content) {
  var uri    = this.endpoint,
      proxy  = this._proxyUri,
      target = this._tunnel ? uri : (proxy || uri);

  var params = {
    method:   &#x27;POST&#x27;,
    host:     target.hostname,
    port:     target.port || this.DEFAULT_PORTS[target.protocol],
    path:     uri.path,
    headers:  extend({
      &#x27;Content-Length&#x27;: content.length,
      &#x27;Content-Type&#x27;:   &#x27;application/json&#x27;,
      &#x27;Host&#x27;:           uri.host
    }, this._dispatcher.headers)
  };

  var cookie = this._getCookies();
  if (cookie !== &#x27;&#x27;) params.headers[&#x27;Cookie&#x27;] = cookie;

  if (this._tunnel) {
    params.agent = this._tunnel;
  } else if (this._endpointSecure) {
    extend(params, this._dispatcher.tls);
  } else if (proxy) {
    params.path = this.endpoint.href;
    extend(params, this._proxy.tls);
    if (proxy.auth)
      params.headers[&#x27;Proxy-Authorization&#x27;] = new Buffer(proxy.auth, &#x27;utf8&#x27;).toString(&#x27;base64&#x27;);
  }

  return params;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  encode: function(messages) {
return toJSON(messages);
  },

  request: function(messages) {
var content = new Buffer(this.encode(messages), &#x27;utf8&#x27;),
    params  = this.<span class="apidocCodeKeywordSpan">_buildParams</span>(content),
    request = this._httpClient.request(params),
    self    = this;

request.on(&#x27;response&#x27;, function(response) {
  self._handleResponse(messages, response);
  self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.node_http.prototype._handleResponse" id="apidoc.element.faye.node_http.prototype._handleResponse">
        function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>_handleResponse
        <span class="apidocSignatureSpan">(messages, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleResponse = function (messages, response) {
  var body = &#x27;&#x27;,
      self = this;

  response.setEncoding(&#x27;utf8&#x27;);
  response.on(&#x27;data&#x27;, function(chunk) { body += chunk });

  response.on(&#x27;end&#x27;, function() {
    var replies;
    try { replies = JSON.parse(body) } catch (error) {}

    if (replies)
      self._receive(replies);
    else
      self._handleError(messages);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  request: function(messages) {
var content = new Buffer(this.encode(messages), &#x27;utf8&#x27;),
    params  = this._buildParams(content),
    request = this._httpClient.request(params),
    self    = this;

request.on(&#x27;response&#x27;, function(response) {
  self.<span class="apidocCodeKeywordSpan">_handleResponse</span>(messages, response);
  self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
});

request.on(&#x27;error&#x27;, function(error) {
  self.error(&#x27;HTTP error: &#x27; + error.message);
  self._handleError(messages);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.node_http.prototype.encode" id="apidoc.element.faye.node_http.prototype.encode">
        function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>encode
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">encode = function (messages) {
  return toJSON(messages);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
	    this._outbox = [];
	  },
	
	  _flushLargeBatch: function() {
	    var string = this.<span class="apidocCodeKeywordSpan">encode</span>(this._outbox);
	    if (string.length &#x3c; this._dispatcher.maxRequestSize) return;
	    var last = this._outbox.pop();
	
	    this._makePromise();
	    this._flush();
	
	    if (last) this._outbox.push(last);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.node_http.prototype.initialize" id="apidoc.element.faye.node_http.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>initialize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function () {
  Transport.prototype.initialize.apply(this, arguments);

  this._endpointSecure = (this.SECURE_PROTOCOLS.indexOf(this.endpoint.protocol) &#x3e;= 0);
  this._httpClient     = this._endpointSecure ? https : http;

  var proxy = this._proxy;
  if (!proxy.origin) return;

  this._proxyUri    = URI.parse(proxy.origin);
  this._proxySecure = (this.SECURE_PROTOCOLS.indexOf(this._proxyUri.protocol) &#x3e;= 0);

  if (!this._endpointSecure) {
    this._httpClient = this._proxySecure ? https : http;
    return;
  }

  var options = extend({
    proxy: {
      host:       this._proxyUri.hostname,
      port:       this._proxyUri.port || this.DEFAULT_PORTS[this._proxyUri.protocol],
      proxyAuth:  this._proxyUri.auth,
      headers:    extend({host: this.endpoint.host}, proxy.headers)
    }
  }, this._dispatcher.tls);

  if (this._proxySecure) {
    extend(options.proxy, proxy.tls);
    this._tunnel = tunnel.httpsOverHttps(options);
  } else {
    this._tunnel = tunnel.httpsOverHttp(options);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.node_http.prototype.request" id="apidoc.element.faye.node_http.prototype.request">
        function <span class="apidocSignatureSpan">faye.node_http.prototype.</span>request
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (messages) {
  var content = new Buffer(this.encode(messages), &#x27;utf8&#x27;),
      params  = this._buildParams(content),
      request = this._httpClient.request(params),
      self    = this;

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.error(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    return &#x27;&#x27;;
	  },
	
	  sendMessage: function(message) {
	    this.debug(&#x27;Client ? sending message to ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), message);
	
	    if (!this.batching) return Promise.resolve(this.<span class="apidocCodeKeywordSpan">request</span>([message]));
	
	    this._outbox.push(message);
	    this._flushLargeBatch();
	
	    if (message.channel === Channel.HANDSHAKE)
	      return this._publish(0.01);
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.node_local" id="apidoc.module.faye.node_local">module faye.node_local</a></h1>


    <h2>
        <a href="#apidoc.element.faye.node_local.node_local" id="apidoc.element.faye.node_local.node_local">
        function <span class="apidocSignatureSpan">faye.</span>node_local
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">node_local = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.node_local.isUsable" id="apidoc.element.faye.node_local.isUsable">
        function <span class="apidocSignatureSpan">faye.node_local.</span>isUsable
        <span class="apidocSignatureSpan">(client, endpoint, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUsable = function (client, endpoint, callback, context) {
  callback.call(context, endpoint instanceof Server);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.<span class="apidocCodeKeywordSpan">isUsable</span>(dispatcher, connEndpoint, function() {});
	        return resume();
	      }
	
	      klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
	        if (!isUsable) return resume();
	        var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher
, connEndpoint);
	        callback.call(context, transport);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.node_local.prototype" id="apidoc.module.faye.node_local.prototype">module faye.node_local.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.faye.node_local.prototype.request" id="apidoc.element.faye.node_local.prototype.request">
        function <span class="apidocSignatureSpan">faye.node_local.prototype.</span>request
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (messages) {
  messages = copyObject(messages);
  var self = this;

  asap(function() {
    self.endpoint.process(messages, null, function(replies) {
      self._receive(copyObject(replies));
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    return &#x27;&#x27;;
	  },
	
	  sendMessage: function(message) {
	    this.debug(&#x27;Client ? sending message to ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), message);
	
	    if (!this.batching) return Promise.resolve(this.<span class="apidocCodeKeywordSpan">request</span>([message]));
	
	    this._outbox.push(message);
	    this._flushLargeBatch();
	
	    if (message.channel === Channel.HANDSHAKE)
	      return this._publish(0.01);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.promise" id="apidoc.module.faye.promise">module faye.promise</a></h1>


    <h2>
        <a href="#apidoc.element.faye.promise.promise" id="apidoc.element.faye.promise.promise">
        function <span class="apidocSignatureSpan">faye.</span>promise
        <span class="apidocSignatureSpan">(task)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">promise = function (task) {
  this._state       = PENDING;
  this._onFulfilled = [];
  this._onRejected  = [];

  if (typeof task !== &#x27;function&#x27;) return;
  var self = this;

  task(function(value)  { resolve(self, value) },
       function(reason) { reject(self, reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.promise.all" id="apidoc.element.faye.promise.all">
        function <span class="apidocSignatureSpan">faye.promise.</span>all
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">all = function (promises) {
  return new Promise(function(resolve, reject) {
    var list = [], n = promises.length, i;

    if (n === 0) return resolve(list);

    for (i = 0; i &#x3c; n; i++) (function(promise, i) {
      Promise.resolve(promise).then(function(value) {
        list[i] = value;
        if (--n === 0) resolve(list);
      }, reject);
    })(promises[i], i);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.promise.deferred" id="apidoc.element.faye.promise.deferred">
        function <span class="apidocSignatureSpan">faye.promise.</span>deferred
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferred = function () {
  var tuple = {};

  tuple.promise = new Promise(function(resolve, reject) {
    tuple.resolve = resolve;
    tuple.reject  = reject;
  });
  return tuple;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.promise.pending" id="apidoc.element.faye.promise.pending">
        function <span class="apidocSignatureSpan">faye.promise.</span>pending
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pending = function () {
  var tuple = {};

  tuple.promise = new Promise(function(resolve, reject) {
    tuple.resolve = resolve;
    tuple.reject  = reject;
  });
  return tuple;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.promise.race" id="apidoc.element.faye.promise.race">
        function <span class="apidocSignatureSpan">faye.promise.</span>race
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">race = function (promises) {
  return new Promise(function(resolve, reject) {
    for (var i = 0, n = promises.length; i &#x3c; n; i++)
      Promise.resolve(promises[i]).then(resolve, reject);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.promise.reject" id="apidoc.element.faye.promise.reject">
        function <span class="apidocSignatureSpan">faye.promise.</span>reject
        <span class="apidocSignatureSpan">(reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reject = function (reason) {
  return new Promise(function(resolve, reject) { reject(reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.promise.resolve" id="apidoc.element.faye.promise.resolve">
        function <span class="apidocSignatureSpan">faye.promise.</span>resolve
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve = function (value) {
  return new Promise(function(resolve, reject) { resolve(value) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	Promise.all = function(promises) {
	  return new Promise(function(resolve, reject) {
	    var list = [], n = promises.length, i;
	
	    if (n === 0) return resolve(list);
	
	    for (i = 0; i &#x3c; n; i++) (function(promise, i) {
	      Promise.<span class="apidocCodeKeywordSpan">resolve</span>(promise).then(function(value) {
	        list[i] = value;
	        if (--n === 0) resolve(list);
	      }, reject);
	    })(promises[i], i);
	  });
	};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.promise.prototype" id="apidoc.module.faye.promise.prototype">module faye.promise.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.promise.prototype.catch" id="apidoc.element.faye.promise.prototype.catch">
        function <span class="apidocSignatureSpan">faye.promise.prototype.</span>catch
        <span class="apidocSignatureSpan">(onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catch = function (onRejected) {
  return this.then(null, onRejected);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.promise.prototype.then" id="apidoc.element.faye.promise.prototype.then">
        function <span class="apidocSignatureSpan">faye.promise.prototype.</span>then
        <span class="apidocSignatureSpan">(onFulfilled, onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (onFulfilled, onRejected) {
  var next = new Promise();
  registerOnFulfilled(this, onFulfilled, next);
  registerOnRejected(this, onRejected, next);
  return next;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  var next = new Promise();
	  registerOnFulfilled(this, onFulfilled, next);
	  registerOnRejected(this, onRejected, next);
	  return next;
	};
	
	Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
	  return this.<span class="apidocCodeKeywordSpan">then</span>(null, onRejected);
	};
	
	var registerOnFulfilled = function(promise, onFulfilled, next) {
	  if (typeof onFulfilled !== &#x27;function&#x27;) onFulfilled = RETURN;
	  var handler = function(value) { invoke(onFulfilled, value, next) };
	
	  if (promise._state === PENDING) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.proxy" id="apidoc.module.faye.proxy">module faye.proxy</a></h1>


    <h2>
        <a href="#apidoc.element.faye.proxy.proxy" id="apidoc.element.faye.proxy.proxy">
        function <span class="apidocSignatureSpan">faye.</span>proxy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">proxy = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.get" id="apidoc.element.faye.proxy.get">
        function <span class="apidocSignatureSpan">faye.proxy.</span>get
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (options) {
  return new Proxy(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.<span class="apidocCodeKeywordSpan">get</span>(this, transportTypes, this._disabled, function(transport) {
	      this.debug(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.proxy.prototype" id="apidoc.module.faye.proxy.prototype">module faye.proxy.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.addListener" id="apidoc.element.faye.proxy.prototype.addListener">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>addListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.bind" id="apidoc.element.faye.proxy.prototype.bind">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>bind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function (eventType, listener, context) {
  var slice   = Array.prototype.slice,
      handler = function() { listener.apply(context, slice.call(arguments)) };

  this._listeners = this._listeners || [];
  this._listeners.push([eventType, listener, context, handler]);
  return this.on(eventType, handler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._advice = {
	      reconnect: this.RETRY,
	      interval:  1000 * (options.interval || this.INTERVAL),
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.<span class="apidocCodeKeywordSpan">bind</span>(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.clientExists" id="apidoc.element.faye.proxy.prototype.clientExists">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>clientExists
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clientExists = function () {
  return this._engine[method].apply(this._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // MAY contain   * ext
  //               * id
  connect: function(message, local, callback, context) {
    var response       = this._makeResponse(message),
  clientId       = message.clientId,
  connectionType = message.connectionType;

    this._engine.<span class="apidocCodeKeywordSpan">clientExists</span>(clientId, function(exists) {
if (!exists)         response.error = Error.clientUnknown(clientId);
if (!clientId)       response.error = Error.parameterMissing(&#x27;clientId&#x27;);

if (array.indexOf(constants.CONNECTION_TYPES, connectionType) &#x3c; 0)
  response.error = Error.conntypeMismatch(connectionType);

if (!connectionType) response.error = Error.parameterMissing(&#x27;connectionType&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.close" id="apidoc.element.faye.proxy.prototype.close">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  for (var clientId in this._connections) this.flushConnection(clientId);
  this._engine.disconnect();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._sendMessage({
	      channel:  Channel.DISCONNECT,
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.<span class="apidocCodeKeywordSpan">close</span>();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.closeConnection" id="apidoc.element.faye.proxy.prototype.closeConnection">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>closeConnection
        <span class="apidocSignatureSpan">(clientId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">closeConnection = function (clientId) {
  this.debug(&#x27;Closing connection for ?&#x27;, clientId);
  var conn = this._connections[clientId];
  if (!conn) return;
  if (conn.socket) conn.socket.close();
  this.trigger(&#x27;connection:close&#x27;, clientId);
  delete this._connections[clientId];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
flush: function() {
  this.removeTimeout(&#x27;connection&#x27;);
  this.removeTimeout(&#x27;delivery&#x27;);

  this.setDeferredStatus(&#x27;succeeded&#x27;, this._inbox);
  this._inbox = [];

  if (!this.socket) this._engine.<span class="apidocCodeKeywordSpan">closeConnection</span>(this._id);
},

_beginDeliveryTimeout: function() {
  if (this._inbox.length === 0) return;
  this.addTimeout(&#x27;delivery&#x27;, this._engine.MAX_DELAY, this.flush, this);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.connect" id="apidoc.element.faye.proxy.prototype.connect">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>connect
        <span class="apidocSignatureSpan">(clientId, options, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (clientId, options, callback, context) {
  this.debug(&#x27;Accepting connection from ?&#x27;, clientId);
  this._engine.ping(clientId);
  var conn = this.connection(clientId, true);
  conn.connect(options, callback, context);
  this._engine.emptyQueue(clientId);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  //                                                     * id
	  //                                                     * timestamp
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.<span class="apidocCodeKeywordSpan">connect</span>(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.connection" id="apidoc.element.faye.proxy.prototype.connection">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>connection
        <span class="apidocSignatureSpan">(clientId, create)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connection = function (clientId, create) {
  var conn = this._connections[clientId];
  if (conn || !create) return conn;
  this._connections[clientId] = new Connection(this, clientId);
  this.trigger(&#x27;connection:open&#x27;, clientId);
  return this._connections[clientId];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  this.debug(&#x27;Created new engine: ?&#x27;, this._options);
},

connect: function(clientId, options, callback, context) {
  this.debug(&#x27;Accepting connection from ?&#x27;, clientId);
  this._engine.ping(clientId);
  var conn = this.<span class="apidocCodeKeywordSpan">connection</span>(clientId, true);
  conn.connect(options, callback, context);
  this._engine.emptyQueue(clientId);
},

hasConnection: function(clientId) {
  return this._connections.hasOwnProperty(clientId);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.countListeners" id="apidoc.element.faye.proxy.prototype.countListeners">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>countListeners
        <span class="apidocSignatureSpan">(eventType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">countListeners = function (eventType) {
  return this.listeners(eventType).length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  push: function(message) {
	    this.trigger(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.<span class="apidocCodeKeywordSpan">countListeners</span>(&#x27;message&#x27;) === 0;
	  }
	});
	
	extend(Channel.prototype, Publisher);
	
	extend(Channel, {
	  HANDSHAKE:    &#x27;/meta/handshake&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.createClient" id="apidoc.element.faye.proxy.prototype.createClient">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>createClient
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createClient = function () {
  return this._engine[method].apply(this._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
    response.error = Error.parameterMissing(&#x27;supportedConnectionTypes&#x27;);
  }

  response.successful = !response.error;
  if (!response.successful) return callback.call(context, response);

  this._engine.<span class="apidocCodeKeywordSpan">createClient</span>(function(clientId) {
    response.clientId = clientId;
    callback.call(context, response);
  }, this);
},

// MUST contain  * clientId
//               * connectionType
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.debug" id="apidoc.element.faye.proxy.prototype.debug">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.get(this, transportTypes, this._disabled, function(transport) {
	      this.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI
.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.deliver" id="apidoc.element.faye.proxy.prototype.deliver">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>deliver
        <span class="apidocSignatureSpan">(clientId, messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deliver = function (clientId, messages) {
  if (!messages || messages.length === 0) return false;

  var conn = this.connection(clientId, false);
  if (!conn) return false;

  for (var i = 0, n = messages.length; i &#x3c; n; i++) {
    conn.deliver(messages[i]);
  }
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }, this);

    this._server.trigger(&#x27;publish&#x27;, message.clientId, message.channel, message.data);
  },

  emptyQueue: function(clientId) {
    if (!this._server.hasConnection(clientId)) return;
    this._server.<span class="apidocCodeKeywordSpan">deliver</span>(clientId, this._messages[clientId]);
    delete this._messages[clientId];
  }
};

extend(Memory.prototype, Timeouts);

module.exports = Memory;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.destroyClient" id="apidoc.element.faye.proxy.prototype.destroyClient">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>destroyClient
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroyClient = function () {
  return this._engine[method].apply(this._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ping: function(clientId) {
var timeout = this._server.timeout;
if (typeof timeout !== &#x27;number&#x27;) return;

this._server.debug(&#x27;Ping ?, ?&#x27;, clientId, timeout);
this.removeTimeout(clientId);
this.addTimeout(clientId, 2 * timeout, function() {
  this.<span class="apidocCodeKeywordSpan">destroyClient</span>(clientId);
}, this);
  },

  subscribe: function(clientId, channel, callback, context) {
var clients = this._clients, channels = this._channels;

clients[clientId] = clients[clientId] || new Set();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.disconnect" id="apidoc.element.faye.proxy.prototype.disconnect">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>disconnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disconnect = function () {
  if (this._engine.disconnect) return this._engine.disconnect();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.<span class="apidocCodeKeywordSpan">disconnect</span>();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.emit" id="apidoc.element.faye.proxy.prototype.emit">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>emit
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  } else {
	    return false;
	  }
	};
	
	// EventEmitter is defined in src/node_events.cc
	// EventEmitter.prototype.<span class="apidocCodeKeywordSpan">emit</span>() is also defined there.
	EventEmitter.prototype.addListener = function(type, listener) {
	  if (&#x27;function&#x27; !== typeof listener) {
	    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
	  }
	
	  if (!this._events) this._events = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.error" id="apidoc.element.faye.proxy.prototype.error">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.fatal" id="apidoc.element.faye.proxy.prototype.fatal">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>fatal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.flushConnection" id="apidoc.element.faye.proxy.prototype.flushConnection">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>flushConnection
        <span class="apidocSignatureSpan">(clientId, close)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">flushConnection = function (clientId, close) {
  if (!clientId) return;
  this.debug(&#x27;Flushing connection for ?&#x27;, clientId);
  var conn = this.connection(clientId, false);
  if (!conn) return;
  if (close === false) conn.socket = null;
  conn.flush();
  this.closeConnection(clientId);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.timeout      = this._options.timeout  || this.TIMEOUT;

  var engineClass = this._options.type || Memory;
  this._engine    = engineClass.create(this, this._options);

  this.bind(&#x27;close&#x27;, function(clientId) {
    var self = this;
    asap(function() { self.<span class="apidocCodeKeywordSpan">flushConnection</span>(clientId) });
  }, this);

  this.debug(&#x27;Created new engine: ?&#x27;, this._options);
},

connect: function(clientId, options, callback, context) {
  this.debug(&#x27;Accepting connection from ?&#x27;, clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.generateId" id="apidoc.element.faye.proxy.prototype.generateId">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>generateId
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateId = function () {
  return random();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.hasConnection" id="apidoc.element.faye.proxy.prototype.hasConnection">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>hasConnection
        <span class="apidocSignatureSpan">(clientId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasConnection = function (clientId) {
  return this._connections.hasOwnProperty(clientId);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      this.emptyQueue(clientId);
    }, this);

    this._server.trigger(&#x27;publish&#x27;, message.clientId, message.channel, message.data);
  },

  emptyQueue: function(clientId) {
    if (!this._server.<span class="apidocCodeKeywordSpan">hasConnection</span>(clientId)) return;
    this._server.deliver(clientId, this._messages[clientId]);
    delete this._messages[clientId];
  }
};

extend(Memory.prototype, Timeouts);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.info" id="apidoc.element.faye.proxy.prototype.info">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>info
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  CONNECTION_TIMEOUT: 60,
	
	  DEFAULT_ENDPOINT:   &#x27;/bayeux&#x27;,
	  INTERVAL:           0,
	
	  initialize: function(endpoint, options) {
	    this.<span class="apidocCodeKeywordSpan">info</span>(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.initialize" id="apidoc.element.faye.proxy.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>initialize
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (options) {
  this._options     = options || {};
  this._connections = {};
  this.interval     = this._options.interval || this.INTERVAL;
  this.timeout      = this._options.timeout  || this.TIMEOUT;

  var engineClass = this._options.type || Memory;
  this._engine    = engineClass.create(this, this._options);

  this.bind(&#x27;close&#x27;, function(clientId) {
    var self = this;
    asap(function() { self.flushConnection(clientId) });
  }, this);

  this.debug(&#x27;Created new engine: ?&#x27;, this._options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.listeners" id="apidoc.element.faye.proxy.prototype.listeners">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>listeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listeners = function (type) {
  if (!this._events) this._events = {};
  if (!this._events[type]) this._events[type] = [];
  if (!isArray(this._events[type])) {
    this._events[type] = [this._events[type]];
  }
  return this._events[type];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	&#x27;use strict&#x27;;
	
	var extend       = __webpack_require__(8),
	    EventEmitter = __webpack_require__(16);
	
	var Publisher = {
	  countListeners: function(eventType) {
	    return this.<span class="apidocCodeKeywordSpan">listeners</span>(eventType).length;
	  },
	
	  bind: function(eventType, listener, context) {
	    var slice   = Array.prototype.slice,
	        handler = function() { listener.apply(context, slice.call(arguments)) };
	
	    this._listeners = this._listeners || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.on" id="apidoc.element.faye.proxy.prototype.on">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>on
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.<span class="apidocCodeKeywordSpan">on</span>(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.once" id="apidoc.element.faye.proxy.prototype.once">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>once
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (type, listener) {
  var self = this;
  self.on(type, function g() {
    self.removeListener(type, g);
    listener.apply(this, arguments);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.openSocket" id="apidoc.element.faye.proxy.prototype.openSocket">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>openSocket
        <span class="apidocSignatureSpan">(clientId, socket)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openSocket = function (clientId, socket) {
  var conn = this.connection(clientId, true);
  conn.socket = socket;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

close: function() {
  return this._engine.close();
},

openSocket: function(clientId, socket, request) {
  if (!clientId || !socket) return;
  this._engine.<span class="apidocCodeKeywordSpan">openSocket</span>(clientId, new Socket(this, socket, request));
},

closeSocket: function(clientId, close) {
  this._engine.flushConnection(clientId, close);
},

process: function(messages, request, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.ping" id="apidoc.element.faye.proxy.prototype.ping">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>ping
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ping = function () {
  return this._engine[method].apply(this._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._channels  = {};
  this._messages  = {};
},

createClient: function(callback, context) {
  var clientId = this._namespace.generate();
  this._server.debug(&#x27;Created new client ?&#x27;, clientId);
  this.<span class="apidocCodeKeywordSpan">ping</span>(clientId);
  this._server.trigger(&#x27;handshake&#x27;, clientId);
  callback.call(context, clientId);
},

destroyClient: function(clientId, callback, context) {
  if (!this._namespace.exists(clientId)) return;
  var clients = this._clients;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.publish" id="apidoc.element.faye.proxy.prototype.publish">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>publish
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publish = function (message) {
  var channels = Channel.expand(message.channel);
  return this._engine.publish(message, channels);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  disconnect: function() {
    if (this._engine.disconnect) return this._engine.disconnect();
  },

  publish: function(message) {
    var channels = Channel.expand(message.channel);
    return this._engine.<span class="apidocCodeKeywordSpan">publish</span>(message, channels);
  }
}), {
  get: function(options) {
    return new Proxy(options);
  }
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.removeAllListeners" id="apidoc.element.faye.proxy.prototype.removeAllListeners">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>removeAllListeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (type) {
  if (arguments.length === 0) {
    this._events = {};
    return this;
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (type &#x26;&#x26; this._events &#x26;&#x26; this._events[type]) this._events[type] = null;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.removeListener" id="apidoc.element.faye.proxy.prototype.removeListener">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>removeListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;removeListener only takes instances of Function&#x27;);
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (!this._events || !this._events[type]) return this;

  var list = this._events[type];

  if (isArray(list)) {
    var i = indexOf(list, listener);
    if (i &#x3c; 0) return this;
    list.splice(i, 1);
    if (list.length == 0)
      delete this._events[type];
  } else if (this._events[type] === listener) {
    delete this._events[type];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var n = this._listeners.length, tuple;
	
	    while (n--) {
	      tuple = this._listeners[n];
	      if (tuple[0] !== eventType) continue;
	      if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
	      this._listeners.splice(n, 1);
	      this.<span class="apidocCodeKeywordSpan">removeListener</span>(eventType, tuple[3]);
	    }
	  }
	};
	
	extend(Publisher, EventEmitter.prototype);
	Publisher.trigger = Publisher.emit;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.subscribe" id="apidoc.element.faye.proxy.prototype.subscribe">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>subscribe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscribe = function () {
  return this._engine[method].apply(this._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        this._state = this.CONNECTED;
	        this._dispatcher.clientId  = response.clientId;
	
	        this._dispatcher.selectTransport(response.supportedConnectionTypes);
	
	        this.info(&#x27;Handshake successful: ?&#x27;, this._dispatcher.clientId);
	
	        this.<span class="apidocCodeKeywordSpan">subscribe</span>(this._channels.getKeys(), true);
	        if (callback) asap(function() { callback.call(context) });
	
	      } else {
	        this.info(&#x27;Handshake unsuccessful&#x27;);
	        global.setTimeout(function() { self.handshake(callback, context) }, this._dispatcher.retry * 1000);
	        this._state = this.UNCONNECTED;
	      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.trigger" id="apidoc.element.faye.proxy.prototype.trigger">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>trigger
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trigger = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	var Channel = Class({
	  initialize: function(name) {
	    this.id = this.name = name;
	  },
	
	  push: function(message) {
	    this.<span class="apidocCodeKeywordSpan">trigger</span>(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.countListeners(&#x27;message&#x27;) === 0;
	  }
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.unbind" id="apidoc.element.faye.proxy.prototype.unbind">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>unbind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unbind = function (eventType, listener, context) {
  this._listeners = this._listeners || [];
  var n = this._listeners.length, tuple;

  while (n--) {
    tuple = this._listeners[n];
    if (tuple[0] !== eventType) continue;
    if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
    this._listeners.splice(n, 1);
    this.removeListener(eventType, tuple[3]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel.bind(&#x27;message&#x27;, subscription);
	      }
	    },
	
	    unsubscribe: function(name, subscription) {
	      var channel = this._channels[name];
	      if (!channel) return false;
	      channel.<span class="apidocCodeKeywordSpan">unbind</span>(&#x27;message&#x27;, subscription);
	
	      if (channel.isUnused()) {
	        this.remove(name);
	        return true;
	      } else {
	        return false;
	      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.unsubscribe" id="apidoc.element.faye.proxy.prototype.unsubscribe">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>unsubscribe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsubscribe = function () {
  return this._engine[method].apply(this._engine, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel:      Channel.SUBSCRIBE,
	        clientId:     this._dispatcher.clientId,
	        subscription: channel
	
	      }, {}, function(response) {
	        if (!response.successful) {
	          subscription.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	          return this._channels.<span class="apidocCodeKeywordSpan">unsubscribe</span>(channel, subscription);
	        }
	
	        var channels = [].concat(response.subscription);
	        this.info(&#x27;Subscription acknowledged for ? to ?&#x27;, this._dispatcher.clientId, channels);
	        subscription.setDeferredStatus(&#x27;succeeded&#x27;);
	      }, this);
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.warn" id="apidoc.element.faye.proxy.prototype.warn">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>warn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      } else if (keys.length &#x3e; 1) {
	        proxy = env[name];
	      }
	      proxy = proxy || env[&#x27;CGI_&#x27; + upcase];
	    } else {
	      proxy = env[name] || env[upcase];
	      if (proxy &#x26;&#x26; !env[name])
	        console.<span class="apidocCodeKeywordSpan">warn</span>(&#x27;The environment variable &#x27; + upcase +
	                     &#x27; is discouraged. Use &#x27; + name + &#x27;.&#x27;);
	    }
	    return proxy;
	  }
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.proxy.prototype.writeLog" id="apidoc.element.faye.proxy.prototype.writeLog">
        function <span class="apidocSignatureSpan">faye.proxy.prototype.</span>writeLog
        <span class="apidocSignatureSpan">(messageArgs, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeLog = function (messageArgs, level) {
  var logger = Logging.logger || (Logging.wrapper || Logging).logger;
  if (!logger) return;

  var args   = Array.prototype.slice.apply(messageArgs),
      banner = &#x27;[Faye&#x27;,
      klass  = this.className,

      message = args.shift().replace(/\?/g, function() {
        try {
          return toJSON(args.shift());
        } catch (error) {
          return &#x27;[Object]&#x27;;
        }
      });

  if (klass) banner += &#x27;.&#x27; + klass;
  banner += &#x27;] &#x27;;

  if (typeof logger[level] === &#x27;function&#x27;)
    logger[level](banner + message);
  else if (typeof logger === &#x27;function&#x27;)
    logger(banner + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      logger(banner + message);
	  }
	};
	
	for (var key in Logging.LOG_LEVELS)
	  (function(level) {
	    Logging[level] = function() {
	      this.<span class="apidocCodeKeywordSpan">writeLog</span>(arguments, level);
	    };
	  })(key);
	
	module.exports = Logging;


/***/ },
...</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.publication" id="apidoc.module.faye.publication">module faye.publication</a></h1>


    <h2>
        <a href="#apidoc.element.faye.publication.publication" id="apidoc.element.faye.publication.publication">
        function <span class="apidocSignatureSpan">faye.</span>publication
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publication = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.publication.prototype" id="apidoc.module.faye.publication.prototype">module faye.publication.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.publication.prototype.callback" id="apidoc.element.faye.publication.prototype.callback">
        function <span class="apidocSignatureSpan">faye.publication.prototype.</span>callback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">callback = function (callback, context) {
  return this.then(function(value) { callback.call(context, value) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.<span class="apidocCodeKeywordSpan">callback</span>(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publication.prototype.errback" id="apidoc.element.faye.publication.prototype.errback">
        function <span class="apidocSignatureSpan">faye.publication.prototype.</span>errback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">errback = function (callback, context) {
  return this.then(null, function(reason) { callback.call(context, reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  CONNECTING:   2,
	  CONNECTED:    3,
	
	  batching:     false,
	
	  isUsable: function(callback, context) {
	    this.callback(function() { callback.call(context, true) });
	    this.<span class="apidocCodeKeywordSpan">errback</span>(function() { callback.call(context, false) });
	    this.connect();
	  },
	
	  request: function(messages) {
	    this._pending = this._pending || new Set();
	    for (var i = 0, n = messages.length; i &#x3c; n; i++) this._pending.add(messages[i]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publication.prototype.setDeferredStatus" id="apidoc.element.faye.publication.prototype.setDeferredStatus">
        function <span class="apidocSignatureSpan">faye.publication.prototype.</span>setDeferredStatus
        <span class="apidocSignatureSpan">(status, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDeferredStatus = function (status, value) {
  if (this._timer) global.clearTimeout(this._timer);

  this.then();

  if (status === &#x27;succeeded&#x27;)
    this._resolve(value);
  else if (status === &#x27;failed&#x27;)
    this._reject(value);
  else
    delete this._promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.<span class="apidocCodeKeywordSpan">setDeferredStatus</span>(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
	    this._connectRequest = true;
	
	    this.info(&#x27;Initiating connection for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publication.prototype.then" id="apidoc.element.faye.publication.prototype.then">
        function <span class="apidocSignatureSpan">faye.publication.prototype.</span>then
        <span class="apidocSignatureSpan">(callback, errback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (callback, errback) {
  var self = this;
  if (!this._promise)
    this._promise = new Promise(function(resolve, reject) {
      self._resolve = resolve;
      self._reject  = reject;
    });

  if (arguments.length === 0)
    return this._promise;
  else
    return this._promise.then(callback, errback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  var next = new Promise();
	  registerOnFulfilled(this, onFulfilled, next);
	  registerOnRejected(this, onRejected, next);
	  return next;
	};
	
	Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
	  return this.<span class="apidocCodeKeywordSpan">then</span>(null, onRejected);
	};
	
	var registerOnFulfilled = function(promise, onFulfilled, next) {
	  if (typeof onFulfilled !== &#x27;function&#x27;) onFulfilled = RETURN;
	  var handler = function(value) { invoke(onFulfilled, value, next) };
	
	  if (promise._state === PENDING) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publication.prototype.timeout" id="apidoc.element.faye.publication.prototype.timeout">
        function <span class="apidocSignatureSpan">faye.publication.prototype.</span>timeout
        <span class="apidocSignatureSpan">(seconds, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (seconds, message) {
  this.then();
  var self = this;
  this._timer = global.setTimeout(function() {
    self._reject(message);
  }, seconds * 1000);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.publisher" id="apidoc.module.faye.publisher">module faye.publisher</a></h1>


    <h2>
        <a href="#apidoc.element.faye.publisher.addListener" id="apidoc.element.faye.publisher.addListener">
        function <span class="apidocSignatureSpan">faye.publisher.</span>addListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.bind" id="apidoc.element.faye.publisher.bind">
        function <span class="apidocSignatureSpan">faye.publisher.</span>bind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function (eventType, listener, context) {
  var slice   = Array.prototype.slice,
      handler = function() { listener.apply(context, slice.call(arguments)) };

  this._listeners = this._listeners || [];
  this._listeners.push([eventType, listener, context, handler]);
  return this.on(eventType, handler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._advice = {
	      reconnect: this.RETRY,
	      interval:  1000 * (options.interval || this.INTERVAL),
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.<span class="apidocCodeKeywordSpan">bind</span>(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.countListeners" id="apidoc.element.faye.publisher.countListeners">
        function <span class="apidocSignatureSpan">faye.publisher.</span>countListeners
        <span class="apidocSignatureSpan">(eventType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">countListeners = function (eventType) {
  return this.listeners(eventType).length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  },
	
	  push: function(message) {
	    this.trigger(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.<span class="apidocCodeKeywordSpan">countListeners</span>(&#x27;message&#x27;) === 0;
	  }
	});
	
	extend(Channel.prototype, Publisher);
	
	extend(Channel, {
	  HANDSHAKE:    &#x27;/meta/handshake&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.emit" id="apidoc.element.faye.publisher.emit">
        function <span class="apidocSignatureSpan">faye.publisher.</span>emit
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  } else {
	    return false;
	  }
	};
	
	// EventEmitter is defined in src/node_events.cc
	// EventEmitter.prototype.<span class="apidocCodeKeywordSpan">emit</span>() is also defined there.
	EventEmitter.prototype.addListener = function(type, listener) {
	  if (&#x27;function&#x27; !== typeof listener) {
	    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
	  }
	
	  if (!this._events) this._events = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.listeners" id="apidoc.element.faye.publisher.listeners">
        function <span class="apidocSignatureSpan">faye.publisher.</span>listeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listeners = function (type) {
  if (!this._events) this._events = {};
  if (!this._events[type]) this._events[type] = [];
  if (!isArray(this._events[type])) {
    this._events[type] = [this._events[type]];
  }
  return this._events[type];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	&#x27;use strict&#x27;;
	
	var extend       = __webpack_require__(8),
	    EventEmitter = __webpack_require__(16);
	
	var Publisher = {
	  countListeners: function(eventType) {
	    return this.<span class="apidocCodeKeywordSpan">listeners</span>(eventType).length;
	  },
	
	  bind: function(eventType, listener, context) {
	    var slice   = Array.prototype.slice,
	        handler = function() { listener.apply(context, slice.call(arguments)) };
	
	    this._listeners = this._listeners || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.on" id="apidoc.element.faye.publisher.on">
        function <span class="apidocSignatureSpan">faye.publisher.</span>on
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;addListener only takes instances of Function&#x27;);
  }

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type == &#x22;newListeners&#x22;! Before
  // adding it to the listeners, first emit &#x22;newListeners&#x22;.
  this.emit(&#x27;newListener&#x27;, type, listener);

  if (!this._events[type]) {
    // Optimize the case of one listener. Don&#x27;t need the extra array object.
    this._events[type] = listener;
  } else if (isArray(this._events[type])) {
    // If we&#x27;ve already got an array, just append.
    this._events[type].push(listener);
  } else {
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      timeout:   1000 * (options.timeout  || this.CONNECTION_TIMEOUT)
	    };
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.<span class="apidocCodeKeywordSpan">on</span>(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.disconnect();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.once" id="apidoc.element.faye.publisher.once">
        function <span class="apidocSignatureSpan">faye.publisher.</span>once
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (type, listener) {
  var self = this;
  self.on(type, function g() {
    self.removeListener(type, g);
    listener.apply(this, arguments);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.removeAllListeners" id="apidoc.element.faye.publisher.removeAllListeners">
        function <span class="apidocSignatureSpan">faye.publisher.</span>removeAllListeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (type) {
  if (arguments.length === 0) {
    this._events = {};
    return this;
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (type &#x26;&#x26; this._events &#x26;&#x26; this._events[type]) this._events[type] = null;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.removeListener" id="apidoc.element.faye.publisher.removeListener">
        function <span class="apidocSignatureSpan">faye.publisher.</span>removeListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListener = function (type, listener) {
  if (&#x27;function&#x27; !== typeof listener) {
    throw new Error(&#x27;removeListener only takes instances of Function&#x27;);
  }

  // does not use listeners(), so no side effect of creating _events[type]
  if (!this._events || !this._events[type]) return this;

  var list = this._events[type];

  if (isArray(list)) {
    var i = indexOf(list, listener);
    if (i &#x3c; 0) return this;
    list.splice(i, 1);
    if (list.length == 0)
      delete this._events[type];
  } else if (this._events[type] === listener) {
    delete this._events[type];
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var n = this._listeners.length, tuple;
	
	    while (n--) {
	      tuple = this._listeners[n];
	      if (tuple[0] !== eventType) continue;
	      if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
	      this._listeners.splice(n, 1);
	      this.<span class="apidocCodeKeywordSpan">removeListener</span>(eventType, tuple[3]);
	    }
	  }
	};
	
	extend(Publisher, EventEmitter.prototype);
	Publisher.trigger = Publisher.emit;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.trigger" id="apidoc.element.faye.publisher.trigger">
        function <span class="apidocSignatureSpan">faye.publisher.</span>trigger
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trigger = function (type) {
  // If there is no &#x27;error&#x27; event listener then throw.
  if (type === &#x27;error&#x27;) {
    if (!this._events || !this._events.error ||
        (isArray(this._events.error) &#x26;&#x26; !this._events.error.length))
    {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled &#x27;error&#x27; event
      } else {
        throw new Error(&#x22;Uncaught, unspecified &#x27;error&#x27; event.&#x22;);
      }
      return false;
    }
  }

  if (!this._events) return false;
  var handler = this._events[type];
  if (!handler) return false;

  if (typeof handler == &#x27;function&#x27;) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        var args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
    return true;

  } else if (isArray(handler)) {
    var args = Array.prototype.slice.call(arguments, 1);

    var listeners = handler.slice();
    for (var i = 0, l = listeners.length; i &#x3c; l; i++) {
      listeners[i].apply(this, args);
    }
    return true;

  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	var Channel = Class({
	  initialize: function(name) {
	    this.id = this.name = name;
	  },
	
	  push: function(message) {
	    this.<span class="apidocCodeKeywordSpan">trigger</span>(&#x27;message&#x27;, message);
	  },
	
	  isUnused: function() {
	    return this.countListeners(&#x27;message&#x27;) === 0;
	  }
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.publisher.unbind" id="apidoc.element.faye.publisher.unbind">
        function <span class="apidocSignatureSpan">faye.publisher.</span>unbind
        <span class="apidocSignatureSpan">(eventType, listener, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unbind = function (eventType, listener, context) {
  this._listeners = this._listeners || [];
  var n = this._listeners.length, tuple;

  while (n--) {
    tuple = this._listeners[n];
    if (tuple[0] !== eventType) continue;
    if (listener &#x26;&#x26; (tuple[1] !== listener || tuple[2] !== context)) continue;
    this._listeners.splice(n, 1);
    this.removeListener(eventType, tuple[3]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel.bind(&#x27;message&#x27;, subscription);
	      }
	    },
	
	    unsubscribe: function(name, subscription) {
	      var channel = this._channels[name];
	      if (!channel) return false;
	      channel.<span class="apidocCodeKeywordSpan">unbind</span>(&#x27;message&#x27;, subscription);
	
	      if (channel.isUnused()) {
	        this.remove(name);
	        return true;
	      } else {
	        return false;
	      }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.server" id="apidoc.module.faye.server">module faye.server</a></h1>


    <h2>
        <a href="#apidoc.element.faye.server.server" id="apidoc.element.faye.server.server">
        function <span class="apidocSignatureSpan">faye.</span>server
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">server = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.create" id="apidoc.element.faye.server.create">
        function <span class="apidocSignatureSpan">faye.server.</span>create
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (options) {
  return new Server(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  initialize: function(endpoint, options) {
	    this.info(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.<span class="apidocCodeKeywordSpan">create</span>(this, endpoint || this.DEFAULT_ENDPOINT, options
);
	
	    this._messageId = 0;
	    this._state     = this.UNCONNECTED;
	
	    this._responseCallbacks = {};
	
	    this._advice = {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.server.prototype" id="apidoc.module.faye.server.prototype">module faye.server.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.server.prototype._advize" id="apidoc.element.faye.server.prototype._advize">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>_advize
        <span class="apidocSignatureSpan">(response, connectionType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_advize = function (response, connectionType) {
  if (array.indexOf([Channel.HANDSHAKE, Channel.CONNECT], response.channel) &#x3c; 0)
    return;

  var interval, timeout;
  if (connectionType === &#x27;eventsource&#x27;) {
    interval = Math.floor(this._engine.timeout * 1000);
    timeout  = 0;
  } else {
    interval = Math.floor(this._engine.interval * 1000);
    timeout  = Math.floor(this._engine.timeout * 1000);
  }

  response.advice = response.advice || {};
  if (response.error) {
    extend(response.advice, {reconnect:  &#x27;handshake&#x27;}, false);
  } else {
    extend(response.advice, {
      reconnect:  &#x27;retry&#x27;,
      interval:   interval,
      timeout:    timeout
    }, false);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    response.error = Error.channelForbidden(message.channel);
    response.successful = false;
    return callback.call(context, [response]);
  }

  this[method](message, local, function(responses) {
    responses = [].concat(responses);
    for (var i = 0, n = responses.length; i &#x3c; n; i++) this.<span class="apidocCodeKeywordSpan">_advize</span>(responses[i],
message.connectionType);
    callback.call(context, responses);
  }, this);
},

_advize: function(response, connectionType) {
  if (array.indexOf([Channel.HANDSHAKE, Channel.CONNECT], response.channel) &#x3c; 0)
    return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype._handle" id="apidoc.element.faye.server.prototype._handle">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>_handle
        <span class="apidocSignatureSpan">(message, local, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handle = function (message, local, callback, context) {
  if (!message) return callback.call(context, []);
  this.info(&#x27;Handling message: ? (local: ?)&#x27;, message, local);

  var channelName = message.channel,
      error       = message.error,
      response;

  if (Channel.isMeta(channelName))
    return this._handleMeta(message, local, callback, context);

  if (!Grammar.CHANNEL_NAME.test(channelName))
    error = Error.channelInvalid(channelName);

  if (message.data === undefined)
    error = Error.parameterMissing(&#x27;data&#x27;);

  if (!error) this._engine.publish(message);

  response = this._makeResponse(message);
  if (error) response.error = error;
  response.successful = !response.error;
  callback.call(context, [response]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        });
      })(i);
    }
  };

  for (var i = 0, n = messages.length; i &#x3c; n; i++) {
    this.pipeThroughExtensions(&#x27;incoming&#x27;, messages[i], request, function(pipedMessage) {
      this.<span class="apidocCodeKeywordSpan">_handle</span>(pipedMessage, local, handleReply, this);
    }, this);
  }
},

_makeResponse: function(message) {
  var response = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype._handleMeta" id="apidoc.element.faye.server.prototype._handleMeta">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>_handleMeta
        <span class="apidocSignatureSpan">(message, local, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleMeta = function (message, local, callback, context) {
  var method = Channel.parse(message.channel)[1],
      response;

  if (array.indexOf(this.META_METHODS, method) &#x3c; 0) {
    response = this._makeResponse(message);
    response.error = Error.channelForbidden(message.channel);
    response.successful = false;
    return callback.call(context, [response]);
  }

  this[method](message, local, function(responses) {
    responses = [].concat(responses);
    for (var i = 0, n = responses.length; i &#x3c; n; i++) this._advize(responses[i], message.connectionType);
    callback.call(context, responses);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.info(&#x27;Handling message: ? (local: ?)&#x27;, message, local);

var channelName = message.channel,
    error       = message.error,
    response;

if (Channel.isMeta(channelName))
  return this.<span class="apidocCodeKeywordSpan">_handleMeta</span>(message, local, callback, context);

if (!Grammar.CHANNEL_NAME.test(channelName))
  error = Error.channelInvalid(channelName);

if (message.data === undefined)
  error = Error.parameterMissing(&#x27;data&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype._makeResponse" id="apidoc.element.faye.server.prototype._makeResponse">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>_makeResponse
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_makeResponse = function (message) {
  var response = {};

  if (message.id)       response.id       = message.id;
  if (message.clientId) response.clientId = message.clientId;
  if (message.channel)  response.channel  = message.channel;
  if (message.error)    response.error    = message.error;

  response.successful = !response.error;
  return response;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    error = Error.channelInvalid(channelName);

  if (message.data === undefined)
    error = Error.parameterMissing(&#x27;data&#x27;);

  if (!error) this._engine.publish(message);

  response = this.<span class="apidocCodeKeywordSpan">_makeResponse</span>(message);
  if (error) response.error = error;
  response.successful = !response.error;
  callback.call(context, [response]);
},

_handleMeta: function(message, local, callback, context) {
  var method = Channel.parse(message.channel)[1],
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.addExtension" id="apidoc.element.faye.server.prototype.addExtension">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>addExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addExtension = function (extension) {
  this._extensions = this._extensions || [];
  this._extensions.push(extension);
  if (extension.added) extension.added(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.close" id="apidoc.element.faye.server.prototype.close">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  return this._engine.close();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._sendMessage({
	      channel:  Channel.DISCONNECT,
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.<span class="apidocCodeKeywordSpan">close</span>();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.closeSocket" id="apidoc.element.faye.server.prototype.closeSocket">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>closeSocket
        <span class="apidocSignatureSpan">(clientId, close)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">closeSocket = function (clientId, close) {
  this._engine.flushConnection(clientId, close);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.connect" id="apidoc.element.faye.server.prototype.connect">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>connect
        <span class="apidocSignatureSpan">(message, local, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (message, local, callback, context) {
  var response       = this._makeResponse(message),
      clientId       = message.clientId,
      connectionType = message.connectionType;

  this._engine.clientExists(clientId, function(exists) {
    if (!exists)         response.error = Error.clientUnknown(clientId);
    if (!clientId)       response.error = Error.parameterMissing(&#x27;clientId&#x27;);

    if (array.indexOf(constants.CONNECTION_TYPES, connectionType) &#x3c; 0)
      response.error = Error.conntypeMismatch(connectionType);

    if (!connectionType) response.error = Error.parameterMissing(&#x27;connectionType&#x27;);

    response.successful = !response.error;

    if (!response.successful) {
      delete response.clientId;
      return callback.call(context, response);
    }

    if (message.connectionType === &#x27;eventsource&#x27;) {
      message.advice = message.advice || {};
      message.advice.timeout = 0;
    }
    this._engine.connect(response.clientId, message.advice, function(events) {
      callback.call(context, [response].concat(events));
    });
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  //                                                     * id
	  //                                                     * timestamp
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.<span class="apidocCodeKeywordSpan">connect</span>(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.debug" id="apidoc.element.faye.server.prototype.debug">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  getConnectionTypes: function() {
	    return Transport.getConnectionTypes();
	  },
	
	  selectTransport: function(transportTypes) {
	    Transport.get(this, transportTypes, this._disabled, function(transport) {
	      this.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;Selected ? transport for ?&#x27;, transport.connectionType, URI
.stringify(transport.endpoint));
	
	      if (transport === this._transport) return;
	      if (this._transport) this._transport.close();
	
	      this._transport = transport;
	      this.connectionType = transport.connectionType;
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.disconnect" id="apidoc.element.faye.server.prototype.disconnect">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>disconnect
        <span class="apidocSignatureSpan">(message, local, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disconnect = function (message, local, callback, context) {
  var response = this._makeResponse(message),
      clientId = message.clientId;

  this._engine.clientExists(clientId, function(exists) {
    if (!exists)   response.error = Error.clientUnknown(clientId);
    if (!clientId) response.error = Error.parameterMissing(&#x27;clientId&#x27;);

    response.successful = !response.error;
    if (!response.successful) delete response.clientId;

    if (response.successful) this._engine.destroyClient(clientId);
    callback.call(context, response);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._dispatcher.timeout = this._advice.timeout / 1000;
	
	    this._dispatcher.bind(&#x27;message&#x27;, this._receiveMessage, this);
	
	    if (browser.Event &#x26;&#x26; global.onbeforeunload !== undefined)
	      browser.Event.on(global, &#x27;beforeunload&#x27;, function() {
	        if (array.indexOf(this._dispatcher._disabled, &#x27;autodisconnect&#x27;) &#x3c; 0)
	          this.<span class="apidocCodeKeywordSpan">disconnect</span>();
	      }, this);
	  },
	
	  addWebsocketExtension: function(extension) {
	    return this._dispatcher.addWebsocketExtension(extension);
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.error" id="apidoc.element.faye.server.prototype.error">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  request.on(&#x27;response&#x27;, function(response) {
    self._handleResponse(messages, response);
    self._storeCookies(response.headers[&#x27;set-cookie&#x27;]);
  });

  request.on(&#x27;error&#x27;, function(error) {
    self.<span class="apidocCodeKeywordSpan">error</span>(&#x27;HTTP error: &#x27; + error.message);
    self._handleError(messages);
  });

  request.end(content);
  return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.fatal" id="apidoc.element.faye.server.prototype.fatal">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>fatal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.handshake" id="apidoc.element.faye.server.prototype.handshake">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>handshake
        <span class="apidocSignatureSpan">(message, local, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handshake = function (message, local, callback, context) {
  var response = this._makeResponse(message);
  response.version = constants.BAYEUX_VERSION;

  if (!message.version)
    response.error = Error.parameterMissing(&#x27;version&#x27;);

  var clientConns = message.supportedConnectionTypes,
      commonConns;

  response.supportedConnectionTypes = constants.CONNECTION_TYPES;

  if (clientConns) {
    commonConns = array.filter(clientConns, function(conn) {
      return array.indexOf(constants.CONNECTION_TYPES, conn) &#x3e;= 0;
    });
    if (commonConns.length === 0)
      response.error = Error.conntypeMismatch(clientConns);
  } else {
    response.error = Error.parameterMissing(&#x27;supportedConnectionTypes&#x27;);
  }

  response.successful = !response.error;
  if (!response.successful) return callback.call(context, response);

  this._engine.createClient(function(clientId) {
    response.clientId = clientId;
    callback.call(context, response);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        this.info(&#x27;Handshake successful: ?&#x27;, this._dispatcher.clientId);
	
	        this.subscribe(this._channels.getKeys(), true);
	        if (callback) asap(function() { callback.call(context) });
	
	      } else {
	        this.info(&#x27;Handshake unsuccessful&#x27;);
	        global.setTimeout(function() { self.<span class="apidocCodeKeywordSpan">handshake</span>(callback, context) }, this._dispatcher
.retry * 1000);
	        this._state = this.UNCONNECTED;
	      }
	    }, this);
	  },
	
	  // Request                              Response
	  // MUST include:  * channel             MUST include:  * channel
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.info" id="apidoc.element.faye.server.prototype.info">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>info
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  CONNECTION_TIMEOUT: 60,
	
	  DEFAULT_ENDPOINT:   &#x27;/bayeux&#x27;,
	  INTERVAL:           0,
	
	  initialize: function(endpoint, options) {
	    this.<span class="apidocCodeKeywordSpan">info</span>(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.create(this, endpoint || this.DEFAULT_ENDPOINT, options);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.initialize" id="apidoc.element.faye.server.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>initialize
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (options) {
  this._options  = options || {};
  var engineOpts = this._options.engine || {};
  engineOpts.timeout = this._options.timeout;
  this._engine   = Engine.get(engineOpts);

  this.info(&#x27;Created new server: ?&#x27;, this._options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.openSocket" id="apidoc.element.faye.server.prototype.openSocket">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>openSocket
        <span class="apidocSignatureSpan">(clientId, socket, request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openSocket = function (clientId, socket, request) {
  if (!clientId || !socket) return;
  this._engine.openSocket(clientId, new Socket(this, socket, request));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

close: function() {
  return this._engine.close();
},

openSocket: function(clientId, socket, request) {
  if (!clientId || !socket) return;
  this._engine.<span class="apidocCodeKeywordSpan">openSocket</span>(clientId, new Socket(this, socket, request));
},

closeSocket: function(clientId, close) {
  this._engine.flushConnection(clientId, close);
},

process: function(messages, request, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.pipeThroughExtensions" id="apidoc.element.faye.server.prototype.pipeThroughExtensions">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>pipeThroughExtensions
        <span class="apidocSignatureSpan">(stage, message, request, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pipeThroughExtensions = function (stage, message, request, callback, context) {
  this.debug(&#x27;Passing through ? extensions: ?&#x27;, stage, message);

  if (!this._extensions) return callback.call(context, message);
  var extensions = this._extensions.slice();

  var pipe = function(message) {
    if (!message) return callback.call(context, message);

    var extension = extensions.shift();
    if (!extension) return callback.call(context, message);

    var fn = extension[stage];
    if (!fn) return pipe(message);

    if (fn.length &#x3e;= 3) extension[stage](message, request, pipe);
    else                extension[stage](message, pipe);
  };
  pipe(message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  _sendMessage: function(message, options, callback, context) {
	    message.id = this._generateMessageId();
	
	    var timeout = this._advice.timeout
	                ? 1.2 * this._advice.timeout / 1000
	                : 1.2 * this._dispatcher.retry;
	
	    this.<span class="apidocCodeKeywordSpan">pipeThroughExtensions</span>(&#x27;outgoing&#x27;, message, null, function(message
) {
	      if (!message) return;
	      if (callback) this._responseCallbacks[message.id] = [callback, context];
	      this._dispatcher.sendMessage(message, timeout, options || {});
	    }, this);
	  },
	
	  _generateMessageId: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.process" id="apidoc.element.faye.server.prototype.process">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>process
        <span class="apidocSignatureSpan">(messages, request, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">process = function (messages, request, callback, context) {
  var local = (request === null);

  messages = [].concat(messages);
  this.info(&#x27;Processing messages: ? (local: ?)&#x27;, messages, local);

  if (messages.length === 0) return callback.call(context, []);
  var processed = 0, responses = [], self = this;

  var gatherReplies = function(replies) {
    responses = responses.concat(replies);
    processed += 1;
    if (processed &#x3c; messages.length) return;

    var n = responses.length;
    while (n--) {
      if (!responses[n]) responses.splice(n,1);
    }
    self.info(&#x27;Returning replies: ?&#x27;, responses);
    callback.call(context, responses);
  };

  var handleReply = function(replies) {
    var extended = 0, expected = replies.length;
    if (expected === 0) gatherReplies(replies);

    for (var i = 0, n = replies.length; i &#x3c; n; i++) {
      this.debug(&#x27;Processing reply: ?&#x27;, replies[i]);
      (function(index) {
        self.pipeThroughExtensions(&#x27;outgoing&#x27;, replies[index], request, function(message) {
          replies[index] = message;
          extended += 1;
          if (extended === expected) gatherReplies(replies);
        });
      })(i);
    }
  };

  for (var i = 0, n = messages.length; i &#x3c; n; i++) {
    this.pipeThroughExtensions(&#x27;incoming&#x27;, messages[i], request, function(pipedMessage) {
      this._handle(pipedMessage, local, handleReply, this);
    }, this);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
batching: false,

request: function(messages) {
  messages = copyObject(messages);
  var self = this;

  asap(function() {
    self.endpoint.<span class="apidocCodeKeywordSpan">process</span>(messages, null, function(replies) {
      self._receive(copyObject(replies));
    });
  });
}
}), {
isUsable: function(client, endpoint, callback, context) {
  callback.call(context, endpoint instanceof Server);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.removeExtension" id="apidoc.element.faye.server.prototype.removeExtension">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>removeExtension
        <span class="apidocSignatureSpan">(extension)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeExtension = function (extension) {
  if (!this._extensions) return;
  var i = this._extensions.length;
  while (i--) {
    if (this._extensions[i] !== extension) continue;
    this._extensions.splice(i,1);
    if (extension.removed) extension.removed(this);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.subscribe" id="apidoc.element.faye.server.prototype.subscribe">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>subscribe
        <span class="apidocSignatureSpan">(message, local, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscribe = function (message, local, callback, context) {
  var response     = this._makeResponse(message),
      clientId     = message.clientId,
      subscription = message.subscription,
      channel;

  subscription = subscription ? [].concat(subscription) : [];

  this._engine.clientExists(clientId, function(exists) {
    if (!exists)               response.error = Error.clientUnknown(clientId);
    if (!clientId)             response.error = Error.parameterMissing(&#x27;clientId&#x27;);
    if (!message.subscription) response.error = Error.parameterMissing(&#x27;subscription&#x27;);

    response.subscription = message.subscription || [];

    for (var i = 0, n = subscription.length; i &#x3c; n; i++) {
      channel = subscription[i];

      if (response.error) break;
      if (!local &#x26;&#x26; !Channel.isSubscribable(channel)) response.error = Error.channelForbidden(channel);
      if (!Channel.isValid(channel))                  response.error = Error.channelInvalid(channel);

      if (response.error) break;
      this._engine.subscribe(clientId, channel);
    }

    response.successful = !response.error;
    callback.call(context, response);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        this._state = this.CONNECTED;
	        this._dispatcher.clientId  = response.clientId;
	
	        this._dispatcher.selectTransport(response.supportedConnectionTypes);
	
	        this.info(&#x27;Handshake successful: ?&#x27;, this._dispatcher.clientId);
	
	        this.<span class="apidocCodeKeywordSpan">subscribe</span>(this._channels.getKeys(), true);
	        if (callback) asap(function() { callback.call(context) });
	
	      } else {
	        this.info(&#x27;Handshake unsuccessful&#x27;);
	        global.setTimeout(function() { self.handshake(callback, context) }, this._dispatcher.retry * 1000);
	        this._state = this.UNCONNECTED;
	      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.unsubscribe" id="apidoc.element.faye.server.prototype.unsubscribe">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>unsubscribe
        <span class="apidocSignatureSpan">(message, local, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsubscribe = function (message, local, callback, context) {
  var response     = this._makeResponse(message),
      clientId     = message.clientId,
      subscription = message.subscription,
      channel;

  subscription = subscription ? [].concat(subscription) : [];

  this._engine.clientExists(clientId, function(exists) {
    if (!exists)               response.error = Error.clientUnknown(clientId);
    if (!clientId)             response.error = Error.parameterMissing(&#x27;clientId&#x27;);
    if (!message.subscription) response.error = Error.parameterMissing(&#x27;subscription&#x27;);

    response.subscription = message.subscription || [];

    for (var i = 0, n = subscription.length; i &#x3c; n; i++) {
      channel = subscription[i];

      if (response.error) break;
      if (!local &#x26;&#x26; !Channel.isSubscribable(channel)) response.error = Error.channelForbidden(channel);
      if (!Channel.isValid(channel))                  response.error = Error.channelInvalid(channel);

      if (response.error) break;
      this._engine.unsubscribe(clientId, channel);
    }

    response.successful = !response.error;
    callback.call(context, response);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel:      Channel.SUBSCRIBE,
	        clientId:     this._dispatcher.clientId,
	        subscription: channel
	
	      }, {}, function(response) {
	        if (!response.successful) {
	          subscription.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	          return this._channels.<span class="apidocCodeKeywordSpan">unsubscribe</span>(channel, subscription);
	        }
	
	        var channels = [].concat(response.subscription);
	        this.info(&#x27;Subscription acknowledged for ? to ?&#x27;, this._dispatcher.clientId, channels);
	        subscription.setDeferredStatus(&#x27;succeeded&#x27;);
	      }, this);
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.warn" id="apidoc.element.faye.server.prototype.warn">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>warn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function () {
  this.writeLog(arguments, level);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      } else if (keys.length &#x3e; 1) {
	        proxy = env[name];
	      }
	      proxy = proxy || env[&#x27;CGI_&#x27; + upcase];
	    } else {
	      proxy = env[name] || env[upcase];
	      if (proxy &#x26;&#x26; !env[name])
	        console.<span class="apidocCodeKeywordSpan">warn</span>(&#x27;The environment variable &#x27; + upcase +
	                     &#x27; is discouraged. Use &#x27; + name + &#x27;.&#x27;);
	    }
	    return proxy;
	  }
	
	}), {
	  get: function(dispatcher, allowed, disabled, callback, context) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.server.prototype.writeLog" id="apidoc.element.faye.server.prototype.writeLog">
        function <span class="apidocSignatureSpan">faye.server.prototype.</span>writeLog
        <span class="apidocSignatureSpan">(messageArgs, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeLog = function (messageArgs, level) {
  var logger = Logging.logger || (Logging.wrapper || Logging).logger;
  if (!logger) return;

  var args   = Array.prototype.slice.apply(messageArgs),
      banner = &#x27;[Faye&#x27;,
      klass  = this.className,

      message = args.shift().replace(/\?/g, function() {
        try {
          return toJSON(args.shift());
        } catch (error) {
          return &#x27;[Object]&#x27;;
        }
      });

  if (klass) banner += &#x27;.&#x27; + klass;
  banner += &#x27;] &#x27;;

  if (typeof logger[level] === &#x27;function&#x27;)
    logger[level](banner + message);
  else if (typeof logger === &#x27;function&#x27;)
    logger(banner + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      logger(banner + message);
	  }
	};
	
	for (var key in Logging.LOG_LEVELS)
	  (function(level) {
	    Logging[level] = function() {
	      this.<span class="apidocCodeKeywordSpan">writeLog</span>(arguments, level);
	    };
	  })(key);
	
	module.exports = Logging;


/***/ },
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.set" id="apidoc.module.faye.set">module faye.set</a></h1>


    <h2>
        <a href="#apidoc.element.faye.set.set" id="apidoc.element.faye.set.set">
        function <span class="apidocSignatureSpan">faye.</span>set
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.set.prototype" id="apidoc.module.faye.set.prototype">module faye.set.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.set.prototype.add" id="apidoc.element.faye.set.prototype.add">
        function <span class="apidocSignatureSpan">faye.set.prototype.</span>add
        <span class="apidocSignatureSpan">(item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (item) {
  var key = (item.id !== undefined) ? item.id : item;
  if (this._index.hasOwnProperty(key)) return false;
  this._index[key] = item;
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this.callback(function() { callback.call(context, true) });
	    this.errback(function() { callback.call(context, false) });
	    this.connect();
	  },
	
	  request: function(messages) {
	    this._pending = this._pending || new Set();
	    for (var i = 0, n = messages.length; i &#x3c; n; i++) this._pending.<span class="apidocCodeKeywordSpan">add</span>(messages
[i]);
	
	    var self = this;
	
	    var promise = new Promise(function(resolve, reject) {
	      self.callback(function(socket) {
	        if (!socket || socket.readyState !== 1) return;
	        socket.send(toJSON(messages));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.set.prototype.forEach" id="apidoc.element.faye.set.prototype.forEach">
        function <span class="apidocSignatureSpan">faye.set.prototype.</span>forEach
        <span class="apidocSignatureSpan">(block, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEach = function (block, context) {
  for (var key in this._index) {
    if (this._index.hasOwnProperty(key))
      block.call(context, this._index[key]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var removed = this._index[key];
	    delete this._index[key];
	    return removed;
	  },
	
	  toArray: function() {
	    var array = [];
	    this.<span class="apidocCodeKeywordSpan">forEach</span>(function(item) { array.push(item) });
	    return array;
	  }
	});


/***/ },
/* 26 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.set.prototype.initialize" id="apidoc.element.faye.set.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.set.prototype.</span>initialize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function () {
  this._index = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.set.prototype.isEmpty" id="apidoc.element.faye.set.prototype.isEmpty">
        function <span class="apidocSignatureSpan">faye.set.prototype.</span>isEmpty
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEmpty = function () {
  for (var key in this._index) {
    if (this._index.hasOwnProperty(key)) return false;
  }
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  unsubscribe: function(clientId, channel, callback, context) {
var clients  = this._clients,
    channels = this._channels,
    trigger  = false;

if (clients[clientId]) {
  trigger = clients[clientId].remove(channel);
  if (clients[clientId].<span class="apidocCodeKeywordSpan">isEmpty</span>()) delete clients[clientId];
}

if (channels[channel]) {
  channels[channel].remove(clientId);
  if (channels[channel].isEmpty()) delete channels[channel];
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.set.prototype.member" id="apidoc.element.faye.set.prototype.member">
        function <span class="apidocSignatureSpan">faye.set.prototype.</span>member
        <span class="apidocSignatureSpan">(item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">member = function (item) {
  for (var key in this._index) {
    if (this._index[key] === item) return true;
  }
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.set.prototype.remove" id="apidoc.element.faye.set.prototype.remove">
        function <span class="apidocSignatureSpan">faye.set.prototype.</span>remove
        <span class="apidocSignatureSpan">(item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (item) {
  var key = (item.id !== undefined) ? item.id : item;
  var removed = this._index[key];
  delete this._index[key];
  return removed;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    unsubscribe: function(name, subscription) {
	      var channel = this._channels[name];
	      if (!channel) return false;
	      channel.unbind(&#x27;message&#x27;, subscription);
	
	      if (channel.isUnused()) {
	        this.<span class="apidocCodeKeywordSpan">remove</span>(name);
	        return true;
	      } else {
	        return false;
	      }
	    },
	
	    distributeMessage: function(message) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.set.prototype.toArray" id="apidoc.element.faye.set.prototype.toArray">
        function <span class="apidocSignatureSpan">faye.set.prototype.</span>toArray
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toArray = function () {
  var array = [];
  this.forEach(function(item) { array.push(item) });
  return array;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var wasConnected = (self._state === self.CONNECTED);
	      socket.onopen = socket.onclose = socket.onerror = socket.onmessage = null;
	
	      delete self._socket;
	      self._state = self.UNCONNECTED;
	      self.removeTimeout(&#x27;ping&#x27;);
	
	      var pending = self._pending ? self._pending.<span class="apidocCodeKeywordSpan">toArray</span>() : [];
	      delete self._pending;
	
	      if (wasConnected || self._everConnected) {
	        self.setDeferredStatus(&#x27;unknown&#x27;);
	        self._handleError(pending, wasConnected);
	      } else {
	        self.setDeferredStatus(&#x27;failed&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.socket" id="apidoc.module.faye.socket">module faye.socket</a></h1>


    <h2>
        <a href="#apidoc.element.faye.socket.socket" id="apidoc.element.faye.socket.socket">
        function <span class="apidocSignatureSpan">faye.</span>socket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">socket = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.socket.prototype" id="apidoc.module.faye.socket.prototype">module faye.socket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.socket.prototype.close" id="apidoc.element.faye.socket.prototype.close">
        function <span class="apidocSignatureSpan">faye.socket.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  if (this._socket) this._socket.close();
  delete this._socket;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._sendMessage({
	      channel:  Channel.DISCONNECT,
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.<span class="apidocCodeKeywordSpan">close</span>();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.socket.prototype.initialize" id="apidoc.element.faye.socket.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.socket.prototype.</span>initialize
        <span class="apidocSignatureSpan">(server, socket, request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (server, socket, request) {
  this._server  = server;
  this._socket  = socket;
  this._request = request;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.socket.prototype.send" id="apidoc.element.faye.socket.prototype.send">
        function <span class="apidocSignatureSpan">faye.socket.prototype.</span>send
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (message) {
  this._server.pipeThroughExtensions(&#x27;outgoing&#x27;, message, this._request, function(pipedMessage) {
    if (this._socket)
      this._socket.send(toJSON([pipedMessage]));
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      return;
	    }
	
	    envelope.timer = global.setTimeout(function() {
	      self.handleError(message);
	    }, scheduler.getTimeout() * 1000);
	
	    scheduler.<span class="apidocCodeKeywordSpan">send</span>();
	    envelope.request = this._transport.sendMessage(message);
	  },
	
	  handleResponse: function(reply) {
	    var envelope = this._envelopes[reply.id];
	
	    if (reply.successful !== undefined &#x26;&#x26; envelope) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.static_server" id="apidoc.module.faye.static_server">module faye.static_server</a></h1>


    <h2>
        <a href="#apidoc.element.faye.static_server.static_server" id="apidoc.element.faye.static_server.static_server">
        function <span class="apidocSignatureSpan">faye.</span>static_server
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">static_server = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.static_server.prototype" id="apidoc.module.faye.static_server.prototype">module faye.static_server.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.static_server.prototype.call" id="apidoc.element.faye.static_server.prototype.call">
        function <span class="apidocSignatureSpan">faye.static_server.prototype.</span>call
        <span class="apidocSignatureSpan">(request, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">call = function (request, response) {
  var pathname = url.parse(request.url, true).pathname,
      filename = path.basename(pathname);

  filename = this._pathMap[filename] || filename;
  this._index[filename] = this._index[filename] || {};

  var cache    = this._index[filename],
      fullpath = path.join(this._directory, filename);

  try {
    cache.content = cache.content || fs.readFileSync(fullpath);
    cache.digest  = cache.digest  || crypto.createHash(&#x27;sha1&#x27;).update(cache.content).digest(&#x27;hex&#x27;);
    cache.mtime   = cache.mtime   || fs.statSync(fullpath).mtime;
  } catch (error) {
    response.writeHead(404, {});
    return response.end();
  }

  var type = /\.js$/.test(pathname) ? &#x27;TYPE_SCRIPT&#x27; : &#x27;TYPE_JSON&#x27;,
      ims  = request.headers[&#x27;if-modified-since&#x27;];

  var headers = {
    &#x27;ETag&#x27;:          cache.digest,
    &#x27;Last-Modified&#x27;: cache.mtime.toGMTString()
  };

  if (request.headers[&#x27;if-none-match&#x27;] === cache.digest) {
    response.writeHead(304, headers);
    response.end();
  }
  else if (ims &#x26;&#x26; cache.mtime &#x3c;= new Date(ims)) {
    response.writeHead(304, headers);
    response.end();
  }
  else {
    headers[&#x27;Content-Length&#x27;] = cache.content.length;
    extend(headers, contenttypes[type]);
    response.writeHead(200, headers);
    response.end(cache.content);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].<span class="apidocCodeKeywordSpan">call</span>(module.exports, module, module.exports, __webpack_require__
);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.static_server.prototype.initialize" id="apidoc.element.faye.static_server.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.static_server.prototype.</span>initialize
        <span class="apidocSignatureSpan">(directory, pathRegex)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (directory, pathRegex) {
  this._directory = directory;
  this._pathRegex = pathRegex;
  this._pathMap   = {};
  this._index     = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.static_server.prototype.map" id="apidoc.element.faye.static_server.prototype.map">
        function <span class="apidocSignatureSpan">faye.static_server.prototype.</span>map
        <span class="apidocSignatureSpan">(requestPath, filename)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (requestPath, filename) {
  this._pathMap[requestPath] = filename;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  //                * id                  MAY include:   * error
	  //                                                     * advice
	  //                                                     * ext
	  //                                                     * id
	  //                                                     * timestamp
	  subscribe: function(channel, callback, context) {
	    if (channel instanceof Array)
	      return array.<span class="apidocCodeKeywordSpan">map</span>(channel, function(c) {
	        return this.subscribe(c, callback, context);
	      }, this);
	
	    var subscription = new Subscription(this, channel, callback, context),
	        force        = (callback === true),
	        hasSubscribe = this._channels.hasSubscription(channel);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.static_server.prototype.test" id="apidoc.element.faye.static_server.prototype.test">
        function <span class="apidocSignatureSpan">faye.static_server.prototype.</span>test
        <span class="apidocSignatureSpan">(pathname)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">test = function (pathname) {
  return this._pathRegex.test(pathname);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      });
	      uri[name] = uri[name] || &#x27;&#x27;;
	    };
	
	    consume(&#x27;protocol&#x27;, /^[a-z]+\:/i);
	    consume(&#x27;host&#x27;,     /^\/\/[^\/\?#]+/);
	
	    if (!/^\//.<span class="apidocCodeKeywordSpan">test</span>(url) &#x26;&#x26; !uri.host)
	      url = location.pathname.replace(/[^\/]*$/, &#x27;&#x27;) + url;
	
	    consume(&#x27;pathname&#x27;, /^[^\?#]*/);
	    consume(&#x27;search&#x27;,   /^\?[^#]*/);
	    consume(&#x27;hash&#x27;,     /^#.*/);
	
	    uri.protocol = uri.protocol || location.protocol;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.subscription" id="apidoc.module.faye.subscription">module faye.subscription</a></h1>


    <h2>
        <a href="#apidoc.element.faye.subscription.subscription" id="apidoc.element.faye.subscription.subscription">
        function <span class="apidocSignatureSpan">faye.</span>subscription
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscription = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.subscription.prototype" id="apidoc.module.faye.subscription.prototype">module faye.subscription.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.apply" id="apidoc.element.faye.subscription.prototype.apply">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>apply
        <span class="apidocSignatureSpan">(context, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">apply = function (context, args) {
  var message = args[0];

  if (this._callback)
    this._callback.call(this._context, message.data);

  if (this._withChannel)
    this._withChannel[0].call(this._withChannel[1], message.channel, message.data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    debug:  0
	  },
	
	  writeLog: function(messageArgs, level) {
	    var logger = Logging.logger || (Logging.wrapper || Logging).logger;
	    if (!logger) return;
	
	    var args   = Array.prototype.slice.<span class="apidocCodeKeywordSpan">apply</span>(messageArgs),
	        banner = &#x27;[Faye&#x27;,
	        klass  = this.className,
	
	        message = args.shift().replace(/\?/g, function() {
	          try {
	            return toJSON(args.shift());
	          } catch (error) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.callback" id="apidoc.element.faye.subscription.prototype.callback">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>callback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">callback = function (callback, context) {
  return this.then(function(value) { callback.call(context, value) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.<span class="apidocCodeKeywordSpan">callback</span>(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.cancel" id="apidoc.element.faye.subscription.prototype.cancel">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>cancel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cancel = function () {
  if (this._cancelled) return;
  this._client.unsubscribe(this._channels, this);
  this._cancelled = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  cancel: function() {
	    if (this._cancelled) return;
	    this._client.unsubscribe(this._channels, this);
	    this._cancelled = true;
	  },
	
	  unsubscribe: function() {
	    this.<span class="apidocCodeKeywordSpan">cancel</span>();
	  }
	});
	
	extend(Subscription.prototype, Deferrable);
	
	module.exports = Subscription;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.errback" id="apidoc.element.faye.subscription.prototype.errback">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>errback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">errback = function (callback, context) {
  return this.then(null, function(reason) { callback.call(context, reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  CONNECTING:   2,
	  CONNECTED:    3,
	
	  batching:     false,
	
	  isUsable: function(callback, context) {
	    this.callback(function() { callback.call(context, true) });
	    this.<span class="apidocCodeKeywordSpan">errback</span>(function() { callback.call(context, false) });
	    this.connect();
	  },
	
	  request: function(messages) {
	    this._pending = this._pending || new Set();
	    for (var i = 0, n = messages.length; i &#x3c; n; i++) this._pending.add(messages[i]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.initialize" id="apidoc.element.faye.subscription.prototype.initialize">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>initialize
        <span class="apidocSignatureSpan">(client, channels, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function (client, channels, callback, context) {
  this._client    = client;
  this._channels  = channels;
  this._callback  = callback;
  this._context   = context;
  this._cancelled = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.setDeferredStatus" id="apidoc.element.faye.subscription.prototype.setDeferredStatus">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>setDeferredStatus
        <span class="apidocSignatureSpan">(status, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDeferredStatus = function (status, value) {
  if (this._timer) global.clearTimeout(this._timer);

  this.then();

  if (status === &#x27;succeeded&#x27;)
    this._resolve(value);
  else if (status === &#x27;failed&#x27;)
    this._reject(value);
  else
    delete this._promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.<span class="apidocCodeKeywordSpan">setDeferredStatus</span>(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
	    this._connectRequest = true;
	
	    this.info(&#x27;Initiating connection for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.then" id="apidoc.element.faye.subscription.prototype.then">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>then
        <span class="apidocSignatureSpan">(callback, errback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (callback, errback) {
  var self = this;
  if (!this._promise)
    this._promise = new Promise(function(resolve, reject) {
      self._resolve = resolve;
      self._reject  = reject;
    });

  if (arguments.length === 0)
    return this._promise;
  else
    return this._promise.then(callback, errback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  var next = new Promise();
	  registerOnFulfilled(this, onFulfilled, next);
	  registerOnRejected(this, onRejected, next);
	  return next;
	};
	
	Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
	  return this.<span class="apidocCodeKeywordSpan">then</span>(null, onRejected);
	};
	
	var registerOnFulfilled = function(promise, onFulfilled, next) {
	  if (typeof onFulfilled !== &#x27;function&#x27;) onFulfilled = RETURN;
	  var handler = function(value) { invoke(onFulfilled, value, next) };
	
	  if (promise._state === PENDING) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.timeout" id="apidoc.element.faye.subscription.prototype.timeout">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>timeout
        <span class="apidocSignatureSpan">(seconds, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (seconds, message) {
  this.then();
  var self = this;
  this._timer = global.setTimeout(function() {
    self._reject(message);
  }, seconds * 1000);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.unsubscribe" id="apidoc.element.faye.subscription.prototype.unsubscribe">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>unsubscribe
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsubscribe = function () {
  this.cancel();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	        channel:      Channel.SUBSCRIBE,
	        clientId:     this._dispatcher.clientId,
	        subscription: channel
	
	      }, {}, function(response) {
	        if (!response.successful) {
	          subscription.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	          return this._channels.<span class="apidocCodeKeywordSpan">unsubscribe</span>(channel, subscription);
	        }
	
	        var channels = [].concat(response.subscription);
	        this.info(&#x27;Subscription acknowledged for ? to ?&#x27;, this._dispatcher.clientId, channels);
	        subscription.setDeferredStatus(&#x27;succeeded&#x27;);
	      }, this);
	    }, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.subscription.prototype.withChannel" id="apidoc.element.faye.subscription.prototype.withChannel">
        function <span class="apidocSignatureSpan">faye.subscription.prototype.</span>withChannel
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">withChannel = function (callback, context) {
  this._withChannel = [callback, context];
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.timeouts" id="apidoc.module.faye.timeouts">module faye.timeouts</a></h1>


    <h2>
        <a href="#apidoc.element.faye.timeouts.addTimeout" id="apidoc.element.faye.timeouts.addTimeout">
        function <span class="apidocSignatureSpan">faye.timeouts.</span>addTimeout
        <span class="apidocSignatureSpan">(name, delay, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addTimeout = function (name, delay, callback, context) {
  this._timeouts = this._timeouts || {};
  if (this._timeouts.hasOwnProperty(name)) return;
  var self = this;
  this._timeouts[name] = global.setTimeout(function() {
    delete self._timeouts[name];
    callback.call(context);
  }, 1000 * delay);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      self._resolvePromise = resolve;
	    });
	  },
	
	  _publish: function(delay) {
	    this._makePromise();
	
	    this.<span class="apidocCodeKeywordSpan">addTimeout</span>(&#x27;publish&#x27;, delay, function() {
	      this._flush();
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
	  },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.timeouts.removeAllTimeouts" id="apidoc.element.faye.timeouts.removeAllTimeouts">
        function <span class="apidocSignatureSpan">faye.timeouts.</span>removeAllTimeouts
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllTimeouts = function () {
  this._timeouts = this._timeouts || {};
  for (var name in this._timeouts) this.removeTimeout(name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Memory.create = function(server, options) {
return new Memory(server, options);
};

Memory.prototype = {
disconnect: function() {
  this.reset();
  this.<span class="apidocCodeKeywordSpan">removeAllTimeouts</span>();
},

reset: function() {
  this._namespace = new Namespace();
  this._clients   = {};
  this._channels  = {};
  this._messages  = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.timeouts.removeTimeout" id="apidoc.element.faye.timeouts.removeTimeout">
        function <span class="apidocSignatureSpan">faye.timeouts.</span>removeTimeout
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeTimeout = function (name) {
  this._timeouts = this._timeouts || {};
  var timeout = this._timeouts[name];
  if (!timeout) return;
  global.clearTimeout(timeout);
  delete this._timeouts[name];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      delete this._requestPromise;
	    }, this);
	
	    return this._requestPromise;
	  },
	
	  _flush: function() {
	    this.<span class="apidocCodeKeywordSpan">removeTimeout</span>(&#x27;publish&#x27;);
	
	    if (this._outbox.length &#x3e; 1 &#x26;&#x26; this._connectMessage)
	      this._connectMessage.advice = {timeout: 0};
	
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.uri" id="apidoc.module.faye.uri">module faye.uri</a></h1>


    <h2>
        <a href="#apidoc.element.faye.uri.isSameOrigin" id="apidoc.element.faye.uri.isSameOrigin">
        function <span class="apidocSignatureSpan">faye.uri.</span>isSameOrigin
        <span class="apidocSignatureSpan">(uri)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isSameOrigin = function (uri) {
  return uri.protocol === location.protocol &#x26;&#x26;
         uri.hostname === location.hostname &#x26;&#x26;
         uri.port     === location.port;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    xhr.send(this.encode(messages));
	    return xhr;
	  }
	}), {
	  isUsable: function(dispatcher, endpoint, callback, context) {
	    var usable = (navigator.product === &#x27;ReactNative&#x27;)
	              || URI.<span class="apidocCodeKeywordSpan">isSameOrigin</span>(endpoint);
	
	    callback.call(context, usable);
	  }
	});
	
	module.exports = XHR;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.uri.isURI" id="apidoc.element.faye.uri.isURI">
        function <span class="apidocSignatureSpan">faye.uri.</span>isURI
        <span class="apidocSignatureSpan">(uri)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isURI = function (uri) {
  return uri &#x26;&#x26; uri.protocol &#x26;&#x26; uri.host &#x26;&#x26; uri.path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      else
        self._handleError(messages);
    });
  }

}), {
  isUsable: function(dispatcher, endpoint, callback, context) {
    callback.call(context, URI.<span class="apidocCodeKeywordSpan">isURI</span>(endpoint));
  }
});

module.exports = NodeHttp;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.uri.parse" id="apidoc.element.faye.uri.parse">
        function <span class="apidocSignatureSpan">faye.uri.</span>parse
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (url) {
  if (typeof url !== &#x27;string&#x27;) return url;
  var uri = {}, parts, query, pairs, i, n, data;

  var consume = function(name, pattern) {
    url = url.replace(pattern, function(match) {
      uri[name] = match;
      return &#x27;&#x27;;
    });
    uri[name] = uri[name] || &#x27;&#x27;;
  };

  consume(&#x27;protocol&#x27;, /^[a-z]+\:/i);
  consume(&#x27;host&#x27;,     /^\/\/[^\/\?#]+/);

  if (!/^\//.test(url) &#x26;&#x26; !uri.host)
    url = location.pathname.replace(/[^\/]*$/, &#x27;&#x27;) + url;

  consume(&#x27;pathname&#x27;, /^[^\?#]*/);
  consume(&#x27;search&#x27;,   /^\?[^#]*/);
  consume(&#x27;hash&#x27;,     /^#.*/);

  uri.protocol = uri.protocol || location.protocol;

  if (uri.host) {
    uri.host     = uri.host.substr(2);
    parts        = uri.host.split(&#x27;:&#x27;);
    uri.hostname = parts[0];
    uri.port     = parts[1] || &#x27;&#x27;;
  } else {
    uri.host     = location.host;
    uri.hostname = location.hostname;
    uri.port     = location.port;
  }

  uri.pathname = uri.pathname || &#x27;/&#x27;;
  uri.path = uri.pathname + uri.search;

  query = uri.search.replace(/^\?/, &#x27;&#x27;);
  pairs = query ? query.split(&#x27;&#x26;&#x27;) : [];
  data  = {};

  for (i = 0, n = pairs.length; i &#x3c; n; i++) {
    parts = pairs[i].split(&#x27;=&#x27;);
    data[decodeURIComponent(parts[0] || &#x27;&#x27;)] = decodeURIComponent(parts[1] || &#x27;&#x27;);
  }

  uri.query = data;

  uri.href = this.stringify(uri);
  return uri;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.close();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.<span class="apidocCodeKeywordSpan">parse</span>(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
	    this._channels = new Channel.Set();
	
	    return promise;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.uri.queryString" id="apidoc.element.faye.uri.queryString">
        function <span class="apidocSignatureSpan">faye.uri.</span>queryString
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryString = function (query) {
  var pairs = [];
  for (var key in query) {
    if (!query.hasOwnProperty(key)) continue;
    pairs.push(encodeURIComponent(key) + &#x27;=&#x27; + encodeURIComponent(query[key]));
  }
  if (pairs.length === 0) return &#x27;&#x27;;
  return &#x27;?&#x27; + pairs.join(&#x27;&#x26;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    uri.href = this.stringify(uri);
	    return uri;
	  },
	
	  stringify: function(uri) {
	    var string = uri.protocol + &#x27;//&#x27; + uri.hostname;
	    if (uri.port) string += &#x27;:&#x27; + uri.port;
	    string += uri.pathname + this.<span class="apidocCodeKeywordSpan">queryString</span>(uri.query) + (uri.hash || &#x27;&#x27;);
	    return string;
	  },
	
	  queryString: function(query) {
	    var pairs = [];
	    for (var key in query) {
	      if (!query.hasOwnProperty(key)) continue;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.uri.stringify" id="apidoc.element.faye.uri.stringify">
        function <span class="apidocSignatureSpan">faye.uri.</span>stringify
        <span class="apidocSignatureSpan">(uri)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringify = function (uri) {
  var string = uri.protocol + &#x27;//&#x27; + uri.hostname;
  if (uri.port) string += &#x27;:&#x27; + uri.port;
  string += uri.pathname + this.queryString(uri.query) + (uri.hash || &#x27;&#x27;);
  return string;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/***/ function(module, exports) {

	&#x27;use strict&#x27;;
	
	// http://assanka.net/content/tech/2009/09/02/json2-js-vs-prototype/
	
	module.exports = function(object) {
	  return JSON.<span class="apidocCodeKeywordSpan">stringify</span>(object, function(key, value) {
	    return (this[key] instanceof Array) ? this[key] : value;
	  });
	};


/***/ },
/* 4 */
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.web_socket" id="apidoc.module.faye.web_socket">module faye.web_socket</a></h1>


    <h2>
        <a href="#apidoc.element.faye.web_socket.web_socket" id="apidoc.element.faye.web_socket.web_socket">
        function <span class="apidocSignatureSpan">faye.</span>web_socket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">web_socket = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.create" id="apidoc.element.faye.web_socket.create">
        function <span class="apidocSignatureSpan">faye.web_socket.</span>create
        <span class="apidocSignatureSpan">(dispatcher, endpoint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (dispatcher, endpoint) {
  var sockets = dispatcher.transports.websocket = dispatcher.transports.websocket || {};
  sockets[endpoint.href] = sockets[endpoint.href] || new this(dispatcher, endpoint);
  return sockets[endpoint.href];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  initialize: function(endpoint, options) {
	    this.info(&#x27;New client created for ?&#x27;, endpoint);
	    options = options || {};
	
	    validateOptions(options, [&#x27;interval&#x27;, &#x27;timeout&#x27;, &#x27;endpoints&#x27;, &#x27;proxy&#x27;, &#x27;retry&#
x27;, &#x27;scheduler&#x27;, &#x27;websocketExtensions&#x27;, &#x27;tls&#x27;, &#x27;ca&#x27;]);
	
	    this._channels   = new Channel.Set();
	    this._dispatcher = Dispatcher.<span class="apidocCodeKeywordSpan">create</span>(this, endpoint || this.DEFAULT_ENDPOINT, options
);
	
	    this._messageId = 0;
	    this._state     = this.UNCONNECTED;
	
	    this._responseCallbacks = {};
	
	    this._advice = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.getSocketUrl" id="apidoc.element.faye.web_socket.getSocketUrl">
        function <span class="apidocSignatureSpan">faye.web_socket.</span>getSocketUrl
        <span class="apidocSignatureSpan">(endpoint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSocketUrl = function (endpoint) {
  endpoint = copyObject(endpoint);
  endpoint.protocol = this.PROTOCOLS[endpoint.protocol];
  return URI.stringify(endpoint);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	  close: function() {
	    if (!this._socket) return;
	    this._socket.close();
	  },
	
	  _createSocket: function() {
	    var url        = WebSocket.<span class="apidocCodeKeywordSpan">getSocketUrl</span>(this.endpoint),
	        headers    = this._dispatcher.headers,
	        extensions = this._dispatcher.wsExtensions,
	        cookie     = this._getCookies(),
	        tls        = this._dispatcher.tls,
	        options    = {extensions: extensions, headers: headers, proxy: this._proxy, tls: tls};
	
	    if (cookie !== &#x27;&#x27;) options.headers[&#x27;Cookie&#x27;] = cookie;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.isUsable" id="apidoc.element.faye.web_socket.isUsable">
        function <span class="apidocSignatureSpan">faye.web_socket.</span>isUsable
        <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUsable = function (dispatcher, endpoint, callback, context) {
  this.create(dispatcher, endpoint).isUsable(callback, context);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.<span class="apidocCodeKeywordSpan">isUsable</span>(dispatcher, connEndpoint, function() {});
	        return resume();
	      }
	
	      klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
	        if (!isUsable) return resume();
	        var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher
, connEndpoint);
	        callback.call(context, transport);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.web_socket.prototype" id="apidoc.module.faye.web_socket.prototype">module faye.web_socket.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype._createSocket" id="apidoc.element.faye.web_socket.prototype._createSocket">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>_createSocket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createSocket = function () {
  var url        = WebSocket.getSocketUrl(this.endpoint),
      headers    = this._dispatcher.headers,
      extensions = this._dispatcher.wsExtensions,
      cookie     = this._getCookies(),
      tls        = this._dispatcher.tls,
      options    = {extensions: extensions, headers: headers, proxy: this._proxy, tls: tls};

  if (cookie !== &#x27;&#x27;) options.headers[&#x27;Cookie&#x27;] = cookie;

  return ws.create(url, [], options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  connect: function() {
	    if (WebSocket._unloaded) return;
	
	    this._state = this._state || this.UNCONNECTED;
	    if (this._state !== this.UNCONNECTED) return;
	    this._state = this.CONNECTING;
	
	    var socket = this.<span class="apidocCodeKeywordSpan">_createSocket</span>();
	    if (!socket) return this.setDeferredStatus(&#x27;failed&#x27;);
	
	    var self = this;
	
	    socket.onopen = function() {
	      if (socket.headers) self._storeCookies(socket.headers[&#x27;set-cookie&#x27;]);
	      self._socket = socket;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype._ping" id="apidoc.element.faye.web_socket.prototype._ping">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>_ping
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_ping = function () {
  if (!this._socket || this._socket.readyState !== 1) return;
  this._socket.send(&#x27;[]&#x27;);
  this.addTimeout(&#x27;ping&#x27;, this._dispatcher.timeout / 2, this._ping, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    var self = this;
	
	    socket.onopen = function() {
	      if (socket.headers) self._storeCookies(socket.headers[&#x27;set-cookie&#x27;]);
	      self._socket = socket;
	      self._state = self.CONNECTED;
	      self._everConnected = true;
	      self.<span class="apidocCodeKeywordSpan">_ping</span>();
	      self.setDeferredStatus(&#x27;succeeded&#x27;, socket);
	    };
	
	    var closed = false;
	    socket.onclose = socket.onerror = function() {
	      if (closed) return;
	      closed = true;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype.callback" id="apidoc.element.faye.web_socket.prototype.callback">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>callback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">callback = function (callback, context) {
  return this.then(function(value) { callback.call(context, value) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.<span class="apidocCodeKeywordSpan">callback</span>(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype.close" id="apidoc.element.faye.web_socket.prototype.close">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  if (!this._socket) return;
  this._socket.close();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	    this._sendMessage({
	      channel:  Channel.DISCONNECT,
	      clientId: this._dispatcher.clientId
	
	    }, {}, function(response) {
	      if (response.successful) {
	        this._dispatcher.<span class="apidocCodeKeywordSpan">close</span>();
	        promise.setDeferredStatus(&#x27;succeeded&#x27;);
	      } else {
	        promise.setDeferredStatus(&#x27;failed&#x27;, Error.parse(response.error));
	      }
	    }, this);
	
	    this.info(&#x27;Clearing channel listeners for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype.connect" id="apidoc.element.faye.web_socket.prototype.connect">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function () {
  if (WebSocket._unloaded) return;

  this._state = this._state || this.UNCONNECTED;
  if (this._state !== this.UNCONNECTED) return;
  this._state = this.CONNECTING;

  var socket = this._createSocket();
  if (!socket) return this.setDeferredStatus(&#x27;failed&#x27;);

  var self = this;

  socket.onopen = function() {
    if (socket.headers) self._storeCookies(socket.headers[&#x27;set-cookie&#x27;]);
    self._socket = socket;
    self._state = self.CONNECTED;
    self._everConnected = true;
    self._ping();
    self.setDeferredStatus(&#x27;succeeded&#x27;, socket);
  };

  var closed = false;
  socket.onclose = socket.onerror = function() {
    if (closed) return;
    closed = true;

    var wasConnected = (self._state === self.CONNECTED);
    socket.onopen = socket.onclose = socket.onerror = socket.onmessage = null;

    delete self._socket;
    self._state = self.UNCONNECTED;
    self.removeTimeout(&#x27;ping&#x27;);

    var pending = self._pending ? self._pending.toArray() : [];
    delete self._pending;

    if (wasConnected || self._everConnected) {
      self.setDeferredStatus(&#x27;unknown&#x27;);
      self._handleError(pending, wasConnected);
    } else {
      self.setDeferredStatus(&#x27;failed&#x27;);
    }
  };

  socket.onmessage = function(event) {
    var replies;
    try { replies = JSON.parse(event.data) } catch (error) {}

    if (!replies) return;

    replies = [].concat(replies);

    for (var i = 0, n = replies.length; i &#x3c; n; i++) {
      if (replies[i].successful === undefined) continue;
      self._pending.remove(replies[i]);
    }
    self._receive(replies);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  //                                                     * id
	  //                                                     * timestamp
	  connect: function(callback, context) {
	    if (this._advice.reconnect === this.NONE) return;
	    if (this._state === this.DISCONNECTED) return;
	
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.<span class="apidocCodeKeywordSpan">connect</span>(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.setDeferredStatus(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype.errback" id="apidoc.element.faye.web_socket.prototype.errback">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>errback
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">errback = function (callback, context) {
  return this.then(null, function(reason) { callback.call(context, reason) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  CONNECTING:   2,
	  CONNECTED:    3,
	
	  batching:     false,
	
	  isUsable: function(callback, context) {
	    this.callback(function() { callback.call(context, true) });
	    this.<span class="apidocCodeKeywordSpan">errback</span>(function() { callback.call(context, false) });
	    this.connect();
	  },
	
	  request: function(messages) {
	    this._pending = this._pending || new Set();
	    for (var i = 0, n = messages.length; i &#x3c; n; i++) this._pending.add(messages[i]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype.isUsable" id="apidoc.element.faye.web_socket.prototype.isUsable">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>isUsable
        <span class="apidocSignatureSpan">(callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUsable = function (callback, context) {
  this.callback(function() { callback.call(context, true) });
  this.errback(function() { callback.call(context, false) });
  this.connect();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.<span class="apidocCodeKeywordSpan">isUsable</span>(dispatcher, connEndpoint, function() {});
	        return resume();
	      }
	
	      klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
	        if (!isUsable) return resume();
	        var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher
, connEndpoint);
	        callback.call(context, transport);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype.request" id="apidoc.element.faye.web_socket.prototype.request">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>request
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (messages) {
  this._pending = this._pending || new Set();
  for (var i = 0, n = messages.length; i &#x3c; n; i++) this._pending.add(messages[i]);

  var self = this;

  var promise = new Promise(function(resolve, reject) {
    self.callback(function(socket) {
      if (!socket || socket.readyState !== 1) return;
      socket.send(toJSON(messages));
      resolve(socket);
    });

    self.connect();
  });

  return {
    abort: function() { promise.then(function(ws) { ws.close() }) }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    return &#x27;&#x27;;
	  },
	
	  sendMessage: function(message) {
	    this.debug(&#x27;Client ? sending message to ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), message);
	
	    if (!this.batching) return Promise.resolve(this.<span class="apidocCodeKeywordSpan">request</span>([message]));
	
	    this._outbox.push(message);
	    this._flushLargeBatch();
	
	    if (message.channel === Channel.HANDSHAKE)
	      return this._publish(0.01);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype.setDeferredStatus" id="apidoc.element.faye.web_socket.prototype.setDeferredStatus">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>setDeferredStatus
        <span class="apidocSignatureSpan">(status, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDeferredStatus = function (status, value) {
  if (this._timer) global.clearTimeout(this._timer);

  this.then();

  if (status === &#x27;succeeded&#x27;)
    this._resolve(value);
  else if (status === &#x27;failed&#x27;)
    this._reject(value);
  else
    delete this._promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    if (this._state === this.UNCONNECTED)
	      return this.handshake(function() { this.connect(callback, context) }, this);
	
	    this.callback(callback, context);
	    if (this._state !== this.CONNECTED) return;
	
	    this.info(&#x27;Calling deferred actions for ?&#x27;, this._dispatcher.clientId);
	    this.<span class="apidocCodeKeywordSpan">setDeferredStatus</span>(&#x27;succeeded&#x27;);
	    this.setDeferredStatus(&#x27;unknown&#x27;);
	
	    if (this._connectRequest) return;
	    this._connectRequest = true;
	
	    this.info(&#x27;Initiating connection for ?&#x27;, this._dispatcher.clientId);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype.then" id="apidoc.element.faye.web_socket.prototype.then">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>then
        <span class="apidocSignatureSpan">(callback, errback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (callback, errback) {
  var self = this;
  if (!this._promise)
    this._promise = new Promise(function(resolve, reject) {
      self._resolve = resolve;
      self._reject  = reject;
    });

  if (arguments.length === 0)
    return this._promise;
  else
    return this._promise.then(callback, errback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	  var next = new Promise();
	  registerOnFulfilled(this, onFulfilled, next);
	  registerOnRejected(this, onRejected, next);
	  return next;
	};
	
	Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
	  return this.<span class="apidocCodeKeywordSpan">then</span>(null, onRejected);
	};
	
	var registerOnFulfilled = function(promise, onFulfilled, next) {
	  if (typeof onFulfilled !== &#x27;function&#x27;) onFulfilled = RETURN;
	  var handler = function(value) { invoke(onFulfilled, value, next) };
	
	  if (promise._state === PENDING) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.web_socket.prototype.timeout" id="apidoc.element.faye.web_socket.prototype.timeout">
        function <span class="apidocSignatureSpan">faye.web_socket.prototype.</span>timeout
        <span class="apidocSignatureSpan">(seconds, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (seconds, message) {
  this.then();
  var self = this;
  this._timer = global.setTimeout(function() {
    self._reject(message);
  }, seconds * 1000);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.xhr" id="apidoc.module.faye.xhr">module faye.xhr</a></h1>


    <h2>
        <a href="#apidoc.element.faye.xhr.xhr" id="apidoc.element.faye.xhr.xhr">
        function <span class="apidocSignatureSpan">faye.</span>xhr
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xhr = function () {
  if (!this.initialize) return this;
  return this.initialize.apply(this, arguments) || this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.xhr.isUsable" id="apidoc.element.faye.xhr.isUsable">
        function <span class="apidocSignatureSpan">faye.xhr.</span>isUsable
        <span class="apidocSignatureSpan">(dispatcher, endpoint, callback, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUsable = function (dispatcher, endpoint, callback, context) {
  var usable = (navigator.product === &#x27;ReactNative&#x27;)
            || URI.isSameOrigin(endpoint);

  callback.call(context, usable);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	      var connType     = pair[0], klass = pair[1],
	          connEndpoint = dispatcher.endpointFor(connType);
	
	      if (array.indexOf(disabled, connType) &#x3e;= 0)
	        return resume();
	
	      if (array.indexOf(allowed, connType) &#x3c; 0) {
	        klass.<span class="apidocCodeKeywordSpan">isUsable</span>(dispatcher, connEndpoint, function() {});
	        return resume();
	      }
	
	      klass.isUsable(dispatcher, connEndpoint, function(isUsable) {
	        if (!isUsable) return resume();
	        var transport = klass.hasOwnProperty(&#x27;create&#x27;) ? klass.create(dispatcher, connEndpoint) : new klass(dispatcher
, connEndpoint);
	        callback.call(context, transport);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faye.xhr.prototype" id="apidoc.module.faye.xhr.prototype">module faye.xhr.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.faye.xhr.prototype.encode" id="apidoc.element.faye.xhr.prototype.encode">
        function <span class="apidocSignatureSpan">faye.xhr.prototype.</span>encode
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">encode = function (messages) {
  return toJSON(messages);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    this._resolvePromise(this.request(this._outbox));
	
	    this._connectMessage = null;
	    this._outbox = [];
	  },
	
	  _flushLargeBatch: function() {
	    var string = this.<span class="apidocCodeKeywordSpan">encode</span>(this._outbox);
	    if (string.length &#x3c; this._dispatcher.maxRequestSize) return;
	    var last = this._outbox.pop();
	
	    this._makePromise();
	    this._flush();
	
	    if (last) this._outbox.push(last);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faye.xhr.prototype.request" id="apidoc.element.faye.xhr.prototype.request">
        function <span class="apidocSignatureSpan">faye.xhr.prototype.</span>request
        <span class="apidocSignatureSpan">(messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (messages) {
  var href = this.endpoint.href,
      self = this,
      xhr;

  // Prefer XMLHttpRequest over ActiveXObject if they both exist
  if (global.XMLHttpRequest) {
    xhr = new XMLHttpRequest();
  } else if (global.ActiveXObject) {
    xhr = new ActiveXObject(&#x27;Microsoft.XMLHTTP&#x27;);
  } else {
    return this._handleError(messages);
  }

  xhr.open(&#x27;POST&#x27;, href, true);
  xhr.setRequestHeader(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;);
  xhr.setRequestHeader(&#x27;Pragma&#x27;, &#x27;no-cache&#x27;);
  xhr.setRequestHeader(&#x27;X-Requested-With&#x27;, &#x27;XMLHttpRequest&#x27;);

  var headers = this._dispatcher.headers;
  for (var key in headers) {
    if (!headers.hasOwnProperty(key)) continue;
    xhr.setRequestHeader(key, headers[key]);
  }

  var abort = function() { xhr.abort() };
  if (global.onbeforeunload !== undefined)
    browser.Event.on(global, &#x27;beforeunload&#x27;, abort);

  xhr.onreadystatechange = function() {
    if (!xhr || xhr.readyState !== 4) return;

    var replies    = null,
        status     = xhr.status,
        text       = xhr.responseText,
        successful = (status &#x3e;= 200 &#x26;&#x26; status &#x3c; 300) || status === 304 || status === 1223;

    if (global.onbeforeunload !== undefined)
      browser.Event.detach(global, &#x27;beforeunload&#x27;, abort);

    xhr.onreadystatechange = function() {};
    xhr = null;

    if (!successful) return self._handleError(messages);

    try {
      replies = JSON.parse(text);
    } catch (error) {}

    if (replies)
      self._receive(replies);
    else
      self._handleError(messages);
  };

  xhr.send(this.encode(messages));
  return xhr;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	    return &#x27;&#x27;;
	  },
	
	  sendMessage: function(message) {
	    this.debug(&#x27;Client ? sending message to ?: ?&#x27;,
	               this._dispatcher.clientId, URI.stringify(this.endpoint), message);
	
	    if (!this.batching) return Promise.resolve(this.<span class="apidocCodeKeywordSpan">request</span>([message]));
	
	    this._outbox.push(message);
	    this._flushLargeBatch();
	
	    if (message.channel === Channel.HANDSHAKE)
	      return this._publish(0.01);
...</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
